"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-icon-cloud@4.1.4_react@18.3.1";
exports.ids = ["vendor-chunks/react-icon-cloud@4.1.4_react@18.3.1"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/react-icon-cloud@4.1.4_react@18.3.1/node_modules/react-icon-cloud/dist/react-icon-cloud.esm.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-icon-cloud@4.1.4_react@18.3.1/node_modules/react-icon-cloud/dist/react-icon-cloud.esm.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cloud: () => (/* binding */ Cloud),\n/* harmony export */   fetchSimpleIcons: () => (/* binding */ fetchSimpleIcons),\n/* harmony export */   getSlug: () => (/* binding */ getSlug),\n/* harmony export */   renderSimpleIcon: () => (/* binding */ renderSimpleIcon)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.13_@babel+core@7.25.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _csstools_convert_colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @csstools/convert-colors */ \"(ssr)/./node_modules/.pnpm/@csstools+convert-colors@2.0.0/node_modules/@csstools/convert-colors/index.mjs\");\n\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\r\n * Copyright (C) 2010-2021 Graham Breach\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Lesser General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\n\n/**\r\n * TagCanvas 2.11\r\n * For more information, please contact <graham@goat1000.com>\r\n */\nvar tagCanvasString = \"(function(){\\\"use strict\\\"; var r,C,p=Math.abs,o=Math.sin,l=Math.cos,g=Math.max,h=Math.min,af=Math.ceil,E=Math.sqrt,w=Math.pow,I={},D={},R={0:\\\"0,\\\",1:\\\"17,\\\",2:\\\"34,\\\",3:\\\"51,\\\",4:\\\"68,\\\",5:\\\"85,\\\",6:\\\"102,\\\",7:\\\"119,\\\",8:\\\"136,\\\",9:\\\"153,\\\",a:\\\"170,\\\",A:\\\"170,\\\",b:\\\"187,\\\",B:\\\"187,\\\",c:\\\"204,\\\",C:\\\"204,\\\",d:\\\"221,\\\",D:\\\"221,\\\",e:\\\"238,\\\",E:\\\"238,\\\",f:\\\"255,\\\",F:\\\"255,\\\"},f,d,b,T,z,F,M,c=document,v,e,P,j={};for(r=0;r<256;++r)C=r.toString(16),r<16&&(C='0'+C),D[C]=D[C.toUpperCase()]=r.toString()+',';function n(a){return typeof a!='undefined'}function B(a){return typeof a=='object'&&a!=null}function G(a,c,b){return isNaN(a)?b:h(b,g(c,a))}function x(){return!1}function q(){return(new Date).valueOf()}function ak(c,d){var b=[],e=c.length,a;for(a=0;a<e;++a)b.push(c[a]);return b.sort(d),b}function ai(a){for(var b=a.length-1,d,c;b;)c=~~(Math.random()*b),d=a[b],a[b]=a[c],a[c]=d,--b}function ag(){var a=window.AudioContext||window.webkitAudioContext;if(e=new a,!e){e='off';return}return e}function $(u,a,t,s,r,q,p){var j=s,h=r,i=t*.01,n=80*i,m=100*i,o=40*i,l=30*i,c=l/2,b=j+n,f=b-o,k=h+m,d=k-l,g=h+l,e=h+m/2;if(a.setTransform(1,0,0,1,0,0),a.setLineDash([]),a.globalAlpha=1,a.strokeStyle=p,a.lineWidth=q,a.lineJoin='round',a.beginPath(),a.moveTo(f,g),a.lineTo(f,d),a.moveTo(b,k),a.lineTo(f,d),a.lineTo(j,d),a.lineTo(j,g),a.lineTo(f,g),a.lineTo(b,h),u){a.lineTo(b,g),a.moveTo(b,d),a.lineTo(b,k),a.moveTo(b-c,e-c),a.lineTo(b+c,e+c),a.moveTo(b+c,e-c),a.lineTo(b-c,e+c),a.stroke();return}a.closePath(),a.stroke()}function s(a,b,c){this.x=a,this.y=b,this.z=c}z=s.prototype,z.length=function(){return E(this.x*this.x+this.y*this.y+this.z*this.z)},z.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z},z.cross=function(a){var b=this.y*a.z-this.z*a.y,c=this.z*a.x-this.x*a.z,d=this.x*a.y-this.y*a.x;return new s(b,c,d)},z.angle=function(b){var c=this.dot(b),a;return c==0?Math.PI/2:(a=c/(this.length()*b.length()),a>=1)?0:a<=-1?Math.PI:Math.acos(a)},z.unit=function(){var a=this.length();return new s(this.x/a,this.y/a,this.z/a)};function ay(b,a){a=a*Math.PI/180,b=b*Math.PI/180;var c=o(b)*l(a),d=-o(a),e=-l(b)*l(a);return new s(c,d,e)}function m(a){this[1]={1:a[0],2:a[1],3:a[2]},this[2]={1:a[3],2:a[4],3:a[5]},this[3]={1:a[6],2:a[7],3:a[8]}}T=m.prototype,m.Identity=function(){return new m([1,0,0,0,1,0,0,0,1])},m.Rotation=function(e,a){var c=o(e),d=l(e),b=1-d;return new m([d+w(a.x,2)*b,a.x*a.y*b-a.z*c,a.x*a.z*b+a.y*c,a.y*a.x*b+a.z*c,d+w(a.y,2)*b,a.y*a.z*b-a.x*c,a.z*a.x*b-a.y*c,a.z*a.y*b+a.x*c,d+w(a.z,2)*b])},T.mul=function(c){var d=[],a,b,e=c.xform?1:0;for(a=1;a<=3;++a)for(b=1;b<=3;++b)e?d.push(this[a][1]*c[1][b]+this[a][2]*c[2][b]+this[a][3]*c[3][b]):d.push(this[a][b]*c);return new m(d)},T.xform=function(b){var a={},c=b.x,d=b.y,e=b.z;return a.x=c*this[1][1]+d*this[2][1]+e*this[3][1],a.y=c*this[1][2]+d*this[2][2]+e*this[3][2],a.z=c*this[1][3]+d*this[2][3]+e*this[3][3],a};function aB(g,j,k,m,f){var a,b,c,d,e=[],h=2/g,i;i=Math.PI*(3-E(5)+(parseFloat(f)?parseFloat(f):0));for(a=0;a<g;++a)b=a*h-1+h/2,c=E(1-b*b),d=a*i,e.push([l(d)*c*j,b*k,o(d)*c*m]);return e}function U(n,p,m,k,h,g){var b,f=[],i=2/n,j,a,d,c,e;j=Math.PI*(3-E(5)+(parseFloat(g)?parseFloat(g):0));for(a=0;a<n;++a)d=a*i-1+i/2,b=a*j,c=l(b),e=o(b),f.push(p?[d*m,c*k,e*h]:[c*m,d*k,e*h]);return f}function aa(k,e,f,h,i,j){var b,g=[],m=Math.PI*2/e,a,c,d;for(a=0;a<e;++a)b=a*m,c=l(b),d=o(b),g.push(k?[j*f,c*h,d*i]:[c*f,j*h,d*i]);return g}function ax(a,b,c,d,e){return U(a,0,b,c,d,e)}function aH(a,b,c,d,e){return U(a,1,b,c,d,e)}function aG(b,c,d,e,a){return a=isNaN(a)?0:a*1,aa(0,b,c,d,e,a)}function aF(b,c,d,e,a){return a=isNaN(a)?0:a*1,aa(1,b,c,d,e,a)}function av(b){var a=new Image;a.onload=function(){var c=a.width/2,d=a.height/2;b.centreFunc=function(b,g,h,e,f){b.setTransform(1,0,0,1,0,0),b.globalAlpha=1,b.drawImage(a,e-c,f-d)}},a.src=b.centreImage}function aE(a,c){var b=a,d,e,f=(c*1).toPrecision(3)+')';return a[0]==='#'?(I[a]||(a.length===4?I[a]='rgba('+R[a[1]]+R[a[2]]+R[a[3]]:I[a]='rgba('+D[a.substr(1,2)]+D[a.substr(3,2)]+D[a.substr(5,2)]),b=I[a]+f):a.substr(0,4)==='rgb('||a.substr(0,4)==='hsl('?b=a.replace('(','a(').replace(')',','+f):(a.substr(0,5)==='rgba('||a.substr(0,5)==='hsla(')&&(d=a.lastIndexOf(',')+1,e=a.indexOf(')'),c*=parseFloat(a.substring(d,e)),b=a.substr(0,d)+c.toPrecision(3)+')'),b}function k(b,d){if(window.G_vmlCanvasManager)return null;var a=c.createElement('canvas');return a.width=b,a.height=d,a}function aD(){var b=k(3,3),a,c;return!!b&&(a=b.getContext('2d'),a.strokeStyle='#000',a.shadowColor='#fff',a.shadowBlur=3,a.globalAlpha=0,a.strokeRect(2,2,2,2),a.globalAlpha=1,c=a.getImageData(2,2,1,1),b=null,c.data[0]>0)}function aC(a,c,f,d){var e=a.createLinearGradient(0,0,c,0),b;for(b in d)e.addColorStop(1-b,d[b]);a.fillStyle=e,a.fillRect(0,f,c,1)}function L(a,m,j){var l=1024,d=1,e=a.weightGradient,i,f,b,c;if(a.gCanvas)f=a.gCanvas.getContext('2d'),d=a.gCanvas.height;else{if(B(e[0])?d=e.length:e=[e],a.gCanvas=i=k(l,d),!i)return null;f=i.getContext('2d');for(b=0;b<d;++b)aC(f,l,b,e[b])}return j=g(h(j||0,d-1),0),c=f.getImageData(~~((l-1)*m),j,1,1).data,'rgba('+c[0]+','+c[1]+','+c[2]+','+c[3]/255+')'}function Y(b,i,q,k,o,n,h,d,a,g,f,l){var m=o+(d||0)+(a.length&&a[0]<0?p(a[0]):0),j=n+(d||0)+(a.length&&a[1]<0?p(a[1]):0),c,e;b.font=i,b.textBaseline='top',b.fillStyle=q,h&&(b.shadowColor=h),d&&(b.shadowBlur=d),a.length&&(b.shadowOffsetX=a[0],b.shadowOffsetY=a[1]);for(c=0;c<k.length;++c)e=0,f&&('right'==l?e=g-f[c]:'centre'==l&&(e=(g-f[c])/2)),b.fillText(k[c],m+e,j),j+=parseInt(i)}function y(d,a,b,f,e,c,g){c?(d.beginPath(),d.moveTo(a,b+e-c),d.arcTo(a,b,a+c,b,c),d.arcTo(a+f,b,a+f,b+c,c),d.arcTo(a+f,b+e,a+f-c,b+e,c),d.arcTo(a,b+e,a,b+e-c,c),d.closePath(),d[g?'stroke':'fill']()):d[g?'strokeRect':'fillRect'](a,b,f,e)}function O(a,b,c,d,e,f,g,h,i){this.strings=a,this.font=b,this.width=c,this.height=d,this.maxWidth=e,this.stringWidths=f,this.align=g,this.valign=h,this.scale=i}M=O.prototype,M.SetImage=function(a,b,c,d,e,f,g,h){this.image=a,this.iwidth=b*this.scale,this.iheight=c*this.scale,this.ipos=d,this.ipad=e*this.scale,this.iscale=h,this.ialign=f,this.ivalign=g},M.Align=function(c,d,a){var b=0;return a=='right'||a=='bottom'?b=d-c:a!='left'&&a!='top'&&(b=(d-c)/2),b},M.Create=function(G,D,F,b,A,m,q,j,E){var o,e,f,a,l,s,i,u,v,r,w,n,c,d,x,B=p(q[0]),C=p(q[1]),t,z;return j=g(j,B+m,C+m),l=2*(j+b),i=2*(j+b),e=this.width+l,f=this.height+i,v=r=j+b,this.image&&(w=n=j+b,c=this.iwidth,d=this.iheight,this.ipos=='top'||this.ipos=='bottom'?(c<this.width?w+=this.Align(c,this.width,this.ialign):v+=this.Align(this.width,c,this.align),this.ipos=='top'?r+=d+this.ipad:n+=this.height+this.ipad,e=g(e,c+l),f+=d+this.ipad):(d<this.height?n+=this.Align(d,this.height,this.ivalign):r+=this.Align(this.height,d,this.valign),this.ipos=='right'?w+=this.width+this.ipad:v+=c+this.ipad,e+=c+this.ipad,f=g(f,d+i))),o=k(e,f),!o?null:(l=i=b/2,s=e-b,u=f-b,x=h(E,s/2,u/2),a=o.getContext('2d'),D&&(a.fillStyle=D,y(a,l,i,s,u,x)),b&&(a.strokeStyle=F,a.lineWidth=b,y(a,l,i,s,u,x,!0)),(m||B||C)&&(t=k(e,f),t&&(z=a,a=t.getContext('2d'))),Y(a,this.font,G,this.strings,v,r,0,0,[],this.maxWidth,this.stringWidths,this.align),this.image&&a.drawImage(this.image,w,n,c,d),z&&(a=z,A&&(a.shadowColor=A),m&&(a.shadowBlur=m),a.shadowOffsetX=q[0],a.shadowOffsetY=q[1],a.drawImage(t,0,0)),o)};function H(a,c,d){var b=k(c,d),e;return b?(e=b.getContext('2d'),e.drawImage(a,(c-a.width)/2,(d-a.height)/2),b):null}function S(e,b,c){var a=k(b,c),d;return a?(d=a.getContext('2d'),d.drawImage(e,0,0,b,c),a):null}function W(n,u,t,e,s,c,v,d,r,w){var g=u+(2*d+c)*e,f=t+(2*d+c)*e,l=k(g,f),b,i,q,m,j,o,a,p;return l?(c*=e,r*=e,i=q=c/2,m=g-c,j=f-c,d=d*e+i,b=l.getContext('2d'),p=h(r,m/2,j/2),s&&(b.fillStyle=s,y(b,i,q,m,j,p)),c&&(b.strokeStyle=v,b.lineWidth=c,y(b,i,q,m,j,p,!0)),w?(o=k(g,f),a=o.getContext('2d'),a.drawImage(n,d,d,u,t),a.globalCompositeOperation='source-in',a.fillStyle=v,a.fillRect(0,0,g,f),a.globalCompositeOperation='destination-over',a.drawImage(l,0,0),a.globalCompositeOperation='source-over',b.drawImage(o,0,0)):b.drawImage(n,d,d,n.width,n.height),{image:l,width:g/e,height:f/e}):null}function at(l,f,c,d,j){var e,a,b=parseFloat(f),i=g(c,d);return e=k(c,d),!e?null:(f.indexOf('%')>0?b=i*b/100:b=b*j,a=e.getContext('2d'),a.globalCompositeOperation='source-over',a.fillStyle='#fff',b>=i/2?(b=h(c,d)/2,a.beginPath(),a.moveTo(c/2,d/2),a.arc(c/2,d/2,b,0,2*Math.PI,!1),a.fill(),a.closePath()):(b=h(c/2,d/2,b),y(a,0,0,c,d,b,!0),a.fill()),a.globalCompositeOperation='source-in',a.drawImage(l,0,0,c,d),e)}function ao(q,m,i,b,h,a,c){var g=p(c[0]),f=p(c[1]),j=m+(g>a?g+a:a*2)*b,l=i+(f>a?f+a:a*2)*b,n=b*((a||0)+(c[0]<0?g:0)),o=b*((a||0)+(c[1]<0?f:0)),e,d;return e=k(j,l),!e?null:(d=e.getContext('2d'),h&&(d.shadowColor=h),a&&(d.shadowBlur=a*b),c&&(d.shadowOffsetX=c[0]*b,d.shadowOffsetY=c[1]*b),d.drawImage(q,n,o,m,i),{image:e,width:j/b,height:l/b})}function ae(m,o,l){var c=parseInt(m.toString().length*l),h=parseInt(l*2*m.length),j=k(c,h),g,i,e,f,b,d,n,a;if(!j)return null;g=j.getContext('2d'),g.fillStyle='#000',g.fillRect(0,0,c,h),Y(g,l+'px '+o,'#fff',m,0,0,0,0,[],'centre'),i=g.getImageData(0,0,c,h),e=i.width,f=i.height,a={min:{x:e,y:f},max:{x:-1,y:-1}};for(d=0;d<f;++d)for(b=0;b<e;++b)n=(d*e+b)*4,i.data[n+1]>0&&(b<a.min.x&&(a.min.x=b),b>a.max.x&&(a.max.x=b),d<a.min.y&&(a.min.y=d),d>a.max.y&&(a.max.y=d));return e!=c&&(a.min.x*=c/e,a.max.x*=c/e),f!=h&&(a.min.y*=c/f,a.max.y*=c/f),j=null,a}function Q(a){return\\\"'\\\"+a.replace(/('|\\\")/g,'').replace(/s*,s*/g,\\\"', '\\\")+\\\"'\\\"}function t(b,d,a){a=a||c,a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent('on'+b,d)}function am(b,d,a){a=a||c,a.removeEventListener?a.removeEventListener(b,d):a.detachEvent('on'+b,d)}function A(g,e,j,a,b){var l=b.imageScale,h,c,k,m,f,d;if(!e.complete)return t('load',function(){A(g,e,j,a,b)},e);if(!g.complete)return t('load',function(){A(g,e,j,a,b)},g);if(j&&!j.complete)return t('load',function(){A(g,e,j,a,b)},j);e.width=e.width,e.height=e.height,l&&(g.width=e.width*l,g.height=e.height*l),a.iw=g.width,a.ih=g.height,b.txtOpt&&(c=g,h=b.zoomMax*b.txtScale,f=a.iw*h,d=a.ih*h,f<e.naturalWidth||d<e.naturalHeight?(c=S(g,f,d),c&&(a.fimage=c)):(f=a.iw,d=a.ih,h=1),parseFloat(b.imageRadius)&&(a.image=a.fimage=g=at(a.image,b.imageRadius,f,d,h)),a.HasText()||(b.shadow&&(c=ao(a.image,f,d,h,b.shadow,b.shadowBlur,b.shadowOffset),c&&(a.fimage=c.image,a.w=c.width,a.h=c.height)),(b.bgColour||b.bgOutlineThickness)&&(k=b.bgColour=='tag'?i(a.a,'background-color'):b.bgColour,m=b.bgOutline=='tag'?i(a.a,'color'):b.bgOutline||b.textColour,f=a.fimage.width,d=a.fimage.height,b.outlineMethod=='colour'&&(c=W(a.fimage,f,d,h,k,b.bgOutlineThickness,a.outline.colour,b.padding,b.bgRadius,1),c&&(a.oimage=c.image)),c=W(a.fimage,f,d,h,k,b.bgOutlineThickness,m,b.padding,b.bgRadius),c&&(a.fimage=c.image,a.w=c.width,a.h=c.height)),b.outlineMethod=='size'&&(b.outlineIncrease>0?(a.iw+=2*b.outlineIncrease,a.ih+=2*b.outlineIncrease,f=h*a.iw,d=h*a.ih,c=S(a.fimage,f,d),a.oimage=c,a.fimage=H(a.fimage,a.oimage.width,a.oimage.height)):(f=h*(a.iw+2*b.outlineIncrease),d=h*(a.ih+2*b.outlineIncrease),c=S(a.fimage,f,d),a.oimage=H(c,a.fimage.width,a.fimage.height))))),a.alt=j,a.Init()}function i(a,d){var b=c.defaultView,e=d.replace(/-([a-z])/g,function(a){return a.charAt(1).toUpperCase()});return b&&b.getComputedStyle&&b.getComputedStyle(a,null).getPropertyValue(d)||a.currentStyle&&a.currentStyle[e]}function aj(c,d,e){var b=1,a;return d?b=1*(c.getAttribute(d)||e):(a=i(c,'font-size'))&&(b=a.indexOf('px')>-1&&a.replace('px','')*1||a.indexOf('pt')>-1&&a.replace('pt','')*1.25||a*3.3),b}function u(a){return a.target&&n(a.target.id)?a.target.id:a.srcElement.parentNode.id}function K(a,c){var b,d,e=parseInt(i(c,'width'))/c.width,f=parseInt(i(c,'height'))/c.height;return n(a.offsetX)?b={x:a.offsetX,y:a.offsetY}:(d=X(c.id),n(a.changedTouches)&&(a=a.changedTouches[0]),a.pageX&&(b={x:a.pageX-d.x,y:a.pageY-d.y})),b&&e&&f&&(b.x/=e,b.y/=f),b}function an(c){var d=c.target||c.fromElement.parentNode,b=a.tc[d.id];b&&(b.mx=b.my=-1,b.UnFreeze(),b.EndDrag())}function ad(e){var g,c=a,b,d,f=u(e);for(g in c.tc)b=c.tc[g],b.tttimer&&(clearTimeout(b.tttimer),b.tttimer=null);f&&c.tc[f]&&(b=c.tc[f],(d=K(e,b.canvas))&&(b.mx=d.x,b.my=d.y,b.Drag(e,d)),b.drawn=0)}function ap(b){var e=a,f=c.addEventListener?0:1,d=u(b);d&&b.button==f&&e.tc[d]&&e.tc[d].BeginDrag(b)}function aq(b){var f=a,g=c.addEventListener?0:1,e=u(b),d;e&&b.button==g&&f.tc[e]&&(d=f.tc[e],ad(b),!d.EndDrag()&&!d.touchState&&d.Clicked(b))}function ar(c){var e=u(c),b=e&&a.tc[e],d;b&&c.changedTouches&&(c.touches.length==1&&b.touchState==0?(b.touchState=1,b.BeginDrag(c),(d=K(c,b.canvas))&&(b.mx=d.x,b.my=d.y,b.drawn=0)):c.targetTouches.length==2&&b.pinchZoom?(b.touchState=3,b.EndDrag(),b.BeginPinch(c)):(b.EndDrag(),b.EndPinch(),b.touchState=0))}function ac(c){var d=u(c),b=d&&a.tc[d];if(b&&c.changedTouches){switch(b.touchState){case 1:b.Draw(),b.Clicked();break;break;case 2:b.EndDrag();break;case 3:b.EndPinch()}b.touchState=0}}function au(c){var f,e=a,b,d,g=u(c);for(f in e.tc)b=e.tc[f],b.tttimer&&(clearTimeout(b.tttimer),b.tttimer=null);if(b=g&&e.tc[g],b&&c.changedTouches&&b.touchState){switch(b.touchState){case 1:case 2:(d=K(c,b.canvas))&&(b.mx=d.x,b.my=d.y,b.Drag(c,d)&&(b.touchState=2));break;case 3:b.Pinch(c)}b.drawn=0}}function ab(b){var d=a,c=u(b);c&&d.tc[c]&&(b.cancelBubble=!0,b.returnValue=!1,b.preventDefault&&b.preventDefault(),d.tc[c].Wheel((b.wheelDelta||b.detail)>0))}function aw(d){var c,b=a;clearTimeout(b.scrollTimer);for(c in b.tc)b.tc[c].Pause();b.scrollTimer=setTimeout(function(){var b,c=a;for(b in c.tc)c.tc[b].Resume()},b.scrollPause)}function al(){Z(q())}function Z(b){var c=a.tc,d;a.NextFrame(a.interval),b=b||q();for(d in c)c[d].Draw(b)}function az(){requestAnimationFrame(Z)}function aA(a){setTimeout(al,a)}function X(f){var g=c.getElementById(f),b=g.getBoundingClientRect(),a=c.documentElement,d=c.body,e=window,h=e.pageXOffset||a.scrollLeft,i=e.pageYOffset||a.scrollTop,j=a.clientLeft||d.clientLeft,k=a.clientTop||d.clientTop;return{x:b.left+h-j,y:b.top+i-k}}function aI(a,b,d,e){var c=a.radius*a.z1/(a.z1+a.z2+b.z);return{x:b.x*c*d,y:b.y*c*e,z:b.z,w:(a.z1-b.z)/a.z2}}function V(a){this.e=a,this.br=0,this.line=[],this.text=[],this.original=a.innerText||a.textContent}F=V.prototype,F.Empty=function(){for(var a=0;a<this.text.length;++a)if(this.text[a].length)return!1;return!0},F.Lines=function(c){var e=c?1:0,b,d,a;c=c||this.e,b=c.childNodes,d=b.length;for(a=0;a<d;++a)b[a].nodeName=='BR'?(this.text.push(this.line.join(' ')),this.br=1):b[a].nodeType==3?this.br?(this.line=[b[a].nodeValue],this.br=0):this.line.push(b[a].nodeValue):this.Lines(b[a]);return e||this.br||this.text.push(this.line.join(' ')),this.text},F.SplitWidth=function(h,e,f,g){var c,b,a,d=[];e.font=g+'px '+f;for(c=0;c<this.text.length;++c){a=this.text[c].split(/s+/),this.line=[a[0]];for(b=1;b<a.length;++b)e.measureText(this.line.join(' ')+' '+a[b]).width>h?(d.push(this.line.join(' ')),this.line=[a[b]]):this.line.push(a[b]);d.push(this.line.join(' '))}return this.text=d};function _(a,b){this.ts=null,this.tc=a,this.tag=b,this.x=this.y=this.w=this.h=this.sc=1,this.z=0,this.pulse=1,this.pulsate=a.pulsateTo<1,this.colour=a.outlineColour,this.adash=~~a.outlineDash,this.agap=~~a.outlineDashSpace||this.adash,this.aspeed=a.outlineDashSpeed*1,this.colour=='tag'?this.colour=i(b.a,'color'):this.colour=='tagbg'&&(this.colour=i(b.a,'background-color')),this.Draw=this.pulsate?this.DrawPulsate:this.DrawSimple,this.radius=a.outlineRadius|0,this.SetMethod(a.outlineMethod,a.altImage)}f=_.prototype,f.SetMethod=function(a,d){var b={block:['PreDraw','DrawBlock'],colour:['PreDraw','DrawColour'],outline:['PostDraw','DrawOutline'],classic:['LastDraw','DrawOutline'],size:['PreDraw','DrawSize'],none:['LastDraw']},c=b[a]||b.outline;a=='none'?this.Draw=function(){return 1}:this.drawFunc=this[c[1]],this[c[0]]=this.Draw,d&&(this.RealPreDraw=this.PreDraw,this.PreDraw=this.DrawAlt)},f.Update=function(d,e,i,j,a,f,g,h){var b=this.tc.outlineOffset,c=2*b;this.x=a*d+g-b,this.y=a*e+h-b,this.w=a*i+c,this.h=a*j+c,this.sc=a,this.z=f},f.Ants=function(k){if(!this.adash)return;var b=this.adash,c=this.agap,a=this.aspeed,j=b+c,h=0,g=b,f=c,i=0,d=0,e;a&&(d=p(a)*(q()-this.ts)/50,a<0&&(d=864e4-d),a=~~d%j),a?(b>=a?(h=b-a,g=a):(f=j-a,i=c-f),e=[h,f,g,i]):e=[b,c],k.setLineDash(e)},f.DrawOutline=function(a,d,e,b,c,f){var g=h(this.radius,c/2,b/2);a.strokeStyle=f,this.Ants(a),y(a,d,e,b,c,g,!0)},f.DrawSize=function(i,n,m,l,k,j,a,h,g){var f=a.w,e=a.h,c,b,d;return this.pulsate?(a.image?d=(a.image.height+this.tc.outlineIncrease)/a.image.height:d=a.oscale,b=a.fimage||a.image,c=1+(d-1)*(1-this.pulse),a.h*=c,a.w*=c):b=a.oimage,a.alpha=1,a.Draw(i,h,g,b),a.h=e,a.w=f,1},f.DrawColour=function(d,h,i,e,f,g,a,b,c){return a.oimage?(this.pulse<1?(a.alpha=1-w(this.pulse,2),a.Draw(d,b,c,a.fimage),a.alpha=this.pulse):a.alpha=1,a.Draw(d,b,c,a.oimage),1):this[a.image?'DrawColourImage':'DrawColourText'](d,h,i,e,f,g,a,b,c)},f.DrawColourText=function(f,h,i,j,g,e,a,b,c){var d=a.colour;return a.colour=e,a.alpha=1,a.Draw(f,b,c),a.colour=d,1},f.DrawColourImage=function(a,q,p,o,n,m,i,r,l){var f=a.canvas,e=~~g(q,0),d=~~g(p,0),c=h(f.width-e,o)+.5|0,b=h(f.height-d,n)+.5|0,j;return v?(v.width=c,v.height=b):v=k(c,b),!v?this.SetMethod('outline'):(j=v.getContext('2d'),j.drawImage(f,e,d,c,b,0,0,c,b),a.clearRect(e,d,c,b),this.pulsate?i.alpha=1-w(this.pulse,2):i.alpha=1,i.Draw(a,r,l),a.setTransform(1,0,0,1,0,0),a.save(),a.beginPath(),a.rect(e,d,c,b),a.clip(),a.globalCompositeOperation='source-in',a.fillStyle=m,a.fillRect(e,d,c,b),a.restore(),a.globalAlpha=1,a.globalCompositeOperation='destination-over',a.drawImage(v,0,0,c,b,e,d,c,b),a.globalCompositeOperation='source-over',1)},f.DrawAlt=function(b,a,c,d,f,g){var e=this.RealPreDraw(b,a,c,d,f,g);return a.alt&&(a.DrawImage(b,c,d,a.alt),e=1),e},f.DrawBlock=function(a,d,e,b,c,f){var g=h(this.radius,c/2,b/2);a.fillStyle=f,y(a,d,e,b,c,g)},f.DrawSimple=function(a,b,c,d,e,f){var g=this.tc;return a.setTransform(1,0,0,1,0,0),a.strokeStyle=this.colour,a.lineWidth=g.outlineThickness,a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0,a.globalAlpha=f?e:1,this.drawFunc(a,this.x,this.y,this.w,this.h,this.colour,b,c,d)},f.DrawPulsate=function(h,d,e,f){var g=q()-this.ts,c=this.tc,b=c.pulsateTo+(1-c.pulsateTo)*(.5+l(2*Math.PI*g/(1e3*c.pulsateTime))/2);return this.pulse=b=a.Smooth(1,b),this.DrawSimple(h,d,e,f,b,1)},f.Active=function(d,a,b){var c=a>=this.x&&b>=this.y&&a<=this.x+this.w&&b<=this.y+this.h;return c?this.ts=this.ts||q():this.ts=null,c},f.PreDraw=f.PostDraw=f.LastDraw=x;function J(a,h,c,b,e,f,g,d,i,j,k,l,m,n){this.tc=a,this.image=null,this.text=h,this.text_original=n,this.line_widths=[],this.title=c.title||null,this.a=c,this.position=new s(b[0],b[1],b[2]),this.x=this.y=this.z=0,this.w=e,this.h=f,this.colour=g||a.textColour,this.bgColour=d||a.bgColour,this.bgRadius=i|0,this.bgOutline=j||this.colour,this.bgOutlineThickness=k|0,this.textFont=l||a.textFont,this.padding=m|0,this.sc=this.alpha=1,this.weighted=!a.weight,this.outline=new _(a,this),this.audio=null}d=J.prototype,d.Init=function(b){var a=this.tc;this.textHeight=a.textHeight,this.HasText()?this.Measure(a.ctxt,a):(this.w=this.iw,this.h=this.ih),this.SetShadowColour=a.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed,this.SetDraw(a)},d.Draw=x,d.HasText=function(){return this.text&&this.text[0].length>0},d.EqualTo=function(a){var b=a.getElementsByTagName('img');return this.a.href!=a.href?0:b.length?this.image.src==b[0].src:(a.innerText||a.textContent)==this.text_original},d.SetImage=function(a){this.image=this.fimage=a},d.SetAudio=function(a){this.audio=a,this.audio.load()},d.SetDraw=function(a){this.Draw=this.fimage?a.ie>7?this.DrawImageIE:this.DrawImage:this.DrawText,a.noSelect&&(this.CheckActive=x)},d.MeasureText=function(d){var a,e=this.text.length,b=0,c;for(a=0;a<e;++a)this.line_widths[a]=c=d.measureText(this.text[a]).width,b=g(b,c);return b},d.Measure=function(e,a){var f=ae(this.text,this.textFont,this.textHeight),b,k,h,i,g,l,j,c,d;j=f?f.max.y+f.min.y:this.textHeight,e.font=this.font=this.textHeight+'px '+this.textFont,l=this.MeasureText(e),a.txtOpt&&(b=a.txtScale,k=b*this.textHeight,h=k+'px '+this.textFont,i=[b*a.shadowOffset[0],b*a.shadowOffset[1]],e.font=h,g=this.MeasureText(e),d=new O(this.text,h,g+b,b*j+b,g,this.line_widths,a.textAlign,a.textVAlign,b),this.image&&d.SetImage(this.image,this.iw,this.ih,a.imagePosition,a.imagePadding,a.imageAlign,a.imageVAlign,a.imageScale),c=d.Create(this.colour,this.bgColour,this.bgOutline,b*this.bgOutlineThickness,a.shadow,b*a.shadowBlur,i,b*this.padding,b*this.bgRadius),a.outlineMethod=='colour'?this.oimage=d.Create(this.outline.colour,this.bgColour,this.outline.colour,b*this.bgOutlineThickness,a.shadow,b*a.shadowBlur,i,b*this.padding,b*this.bgRadius):a.outlineMethod=='size'&&(f=ae(this.text,this.textFont,this.textHeight+a.outlineIncrease),k=f.max.y+f.min.y,h=b*(this.textHeight+a.outlineIncrease)+'px '+this.textFont,e.font=h,g=this.MeasureText(e),d=new O(this.text,h,g+b,b*k+b,g,this.line_widths,a.textAlign,a.textVAlign,b),this.image&&d.SetImage(this.image,this.iw+a.outlineIncrease,this.ih+a.outlineIncrease,a.imagePosition,a.imagePadding,a.imageAlign,a.imageVAlign,a.imageScale),this.oimage=d.Create(this.colour,this.bgColour,this.bgOutline,b*this.bgOutlineThickness,a.shadow,b*a.shadowBlur,i,b*this.padding,b*this.bgRadius),this.oscale=this.oimage.width/c.width,a.outlineIncrease>0?c=H(c,this.oimage.width,this.oimage.height):this.oimage=H(this.oimage,c.width,c.height)),c&&(this.fimage=c,l=this.fimage.width/b,j=this.fimage.height/b),this.SetDraw(a),a.txtOpt=!!this.fimage),this.h=j,this.w=l},d.SetFont=function(a,b,c,d){this.textFont=a,this.colour=b,this.bgColour=c,this.bgOutline=d,this.Measure(this.tc.ctxt,this.tc)},d.SetWeight=function(c){var b=this.tc,e=b.weightMode.split(/[, ]/),d,a,f=c.length;if(!this.HasText())return;this.weighted=!0;for(a=0;a<f;++a)d=e[a]||'size','both'==d?(this.Weight(c[a],b.ctxt,b,'size',b.min_weight[a],b.max_weight[a],a),this.Weight(c[a],b.ctxt,b,'colour',b.min_weight[a],b.max_weight[a],a)):this.Weight(c[a],b.ctxt,b,d,b.min_weight[a],b.max_weight[a],a);this.Measure(b.ctxt,b)},d.Weight=function(b,i,a,d,f,h,e){b=isNaN(b)?1:b;var c=(b-f)/(h-f);'colour'==d?this.colour=L(a,c,e):'bgcolour'==d?this.bgColour=L(a,c,e):'bgoutline'==d?this.bgOutline=L(a,c,e):'outline'==d?this.outline.colour=L(a,c,e):'size'==d&&(a.weightSizeMin>0&&a.weightSizeMax>a.weightSizeMin?this.textHeight=a.weightSize*(a.weightSizeMin+(a.weightSizeMax-a.weightSizeMin)*c):this.textHeight=g(1,b*a.weightSize))},d.SetShadowColourFixed=function(a,b,c){a.shadowColor=b},d.SetShadowColourAlpha=function(a,b,c){a.shadowColor=aE(b,c)},d.DrawText=function(a,h,i){var e=this.tc,g=this.x,f=this.y,c=this.sc,b,d;a.globalAlpha=this.alpha,a.fillStyle=this.colour,e.shadow&&this.SetShadowColour(a,e.shadow,this.alpha),a.font=this.font,g+=h/c,f+=i/c-this.h/2;for(b=0;b<this.text.length;++b)d=g,'right'==e.textAlign?d+=this.w/2-this.line_widths[b]:'centre'==e.textAlign?d-=this.line_widths[b]/2:d-=this.w/2,a.setTransform(c,0,0,c,c*d,c*f),a.fillText(this.text[b],0,0),f+=this.textHeight},d.DrawImage=function(b,i,k,l){var e=this.x,f=this.y,a=this.sc,j=l||this.fimage,c=this.w,d=this.h,g=this.alpha,h=this.shadow;b.globalAlpha=g,h&&this.SetShadowColour(b,h,g),e+=i/a-c/2,f+=k/a-d/2,b.setTransform(a,0,0,a,a*e,a*f),b.drawImage(j,0,0,c,d)},d.DrawImageIE=function(b,d,e){var c=this.fimage,a=this.sc,f=c.width=this.w*a,g=c.height=this.h*a,h=this.x*a+d-f/2,i=this.y*a+e-g/2;b.setTransform(1,0,0,1,0,0),b.globalAlpha=this.alpha,b.drawImage(c,h,i)},d.Calc=function(g,e){var a,b=this.tc,d=b.minBrightness,f=b.maxBrightness,c=b.max_radius;return a=g.xform(this.position),this.xformed=a,a=aI(b,a,b.stretchX,b.stretchY),this.x=a.x,this.y=a.y,this.z=a.z,this.sc=a.w,this.alpha=e*G(d+(f-d)*(c-this.z)/(2*c),0,1),this.xformed},d.UpdateActive=function(h,e,f){var a=this.outline,b=this.w,c=this.h,d=this.x-b/2,g=this.y-c/2;return a.Update(d,g,b,c,this.sc,this.z,e,f),a},d.CheckActive=function(a,d,e){var b=this.tc,c=this.UpdateActive(a,d,e);return c.Active(a,b.mx,b.my)?c:null},d.Clicked=function(f){var b=this.a,a=b.target,d=b.href,e;if(a!=''&&a!='_self'){if(self.frames[a])self.frames[a].document.location=d;else{try{if(top.frames[a]){top.frames[a].document.location=d;return}}catch(a){}window.open(d,a)}return}if(c.createEvent){if(e=c.createEvent('MouseEvents'),e.initMouseEvent('click',1,1,window,0,0,0,0,0,0,0,0,0,0,null),!b.dispatchEvent(e))return}else if(b.fireEvent)if(!b.fireEvent('onclick'))return;c.location=d},d.StopAudio=function(){this.audio&&this.playing&&this.audio.pause(),this.stopped=1,this.playing=0},d.PlayAudio=function(){if(e==='off'||this.tc.audioOff)return;if(!e&&!ag())return;var a=this.tc.audio,c=this.tc.gain,d='suspended',b;if(this.audio)if(this.track||(this.track=e.createMediaElementSource(this.audio),this.gain=e.createGain(),this.track.connect(this.gain),this.gain.connect(e.destination)),a=this.audio,c=this.gain,!a.paused)return 1;if(a){if(e.state==d&&e.resume(),e.state==d)return;return c.gain.value=h(2,g(0,this.tc.audioVolume*1)),a.currentTime=0,this.stopped=0,b=a.play(),b!==void 0&&b.then(a=>{this.stopped?this.audio.pause():this.playing=1}),1}};function a(f,o,k){var d,i,b=c.getElementById(f),l=['id','class','innerHTML'];if(!b)throw 0;if(n(window.G_vmlCanvasManager)&&(b=window.G_vmlCanvasManager.initElement(b),this.ie=parseFloat(navigator.appVersion.split('MSIE')[1])),b&&(!b.getContext||!b.getContext('2d').fillText)){i=c.createElement('DIV');for(d=0;d<l.length;++d)i[l[d]]=b[l[d]];throw b.parentNode.insertBefore(i,b),b.parentNode.removeChild(b),0}for(d in a.options)this[d]=k&&n(k[d])?k[d]:n(a[d])?a[d]:a.options[d];if(this.canvas=b,this.ctxt=b.getContext('2d'),this.z1=250/g(this.depth,.001),this.z2=this.z1/this.zoom,this.radius=h(b.height,b.width)*.0075,this.max_radius=100,this.max_weight=[],this.min_weight=[],this.textFont=this.textFont&&Q(this.textFont),this.textHeight*=1,this.imageRadius=this.imageRadius.toString(),this.pulsateTo=G(this.pulsateTo,0,1),this.minBrightness=G(this.minBrightness,0,1),this.maxBrightness=G(this.maxBrightness,this.minBrightness,1),this.ctxt.textBaseline='top',this.lx=(this.lock+'').indexOf('x')+1,this.ly=(this.lock+'').indexOf('y')+1,this.frozen=this.dx=this.dy=this.fixedAnim=this.touchState=0,this.fixedAlpha=1,this.source=o||f,this.repeatTags=h(64,~~this.repeatTags),this.minTags=h(200,~~this.minTags),~~this.scrollPause>0?a.scrollPause=~~this.scrollPause:this.scrollPause=0,this.minTags>0&&this.repeatTags<1&&(d=this.GetTags().length)&&(this.repeatTags=af(this.minTags/d)-1),this.transform=m.Identity(),this.startTime=this.time=q(),this.mx=this.my=-1,this.centreImage&&av(this),this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition,this.animTiming=typeof a[this.animTiming]=='function'?a[this.animTiming]:a.Smooth,this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]?(this.ctxt.shadowColor=this.shadow,this.shadow=this.ctxt.shadowColor,this.shadowAlpha=aD()):delete this.shadow,this.activeAudio===!1?e='off':this.activeAudio&&this.LoadAudio(),this.Load(),o&&this.hideTags&&function(b){a.loaded?b.HideTags():t('load',function(){b.HideTags()},window)}(this),this.yaw=this.initial?this.initial[0]*this.maxSpeed:0,this.pitch=this.initial?this.initial[1]*this.maxSpeed:0,this.tooltip?(this.ctitle=b.title,b.title='',this.tooltip=='native'?this.Tooltip=this.TooltipNative:(this.Tooltip=this.TooltipDiv,this.ttdiv||(this.ttdiv=c.createElement('div'),this.ttdiv.className=this.tooltipClass,this.ttdiv.style.position='absolute',this.ttdiv.style.zIndex=b.style.zIndex+1,t('mouseover',function(a){a.target.style.display='none'},this.ttdiv),c.body.appendChild(this.ttdiv)))):this.Tooltip=this.TooltipNone,!this.noMouse&&!j[f]){j[f]=[['mousemove',ad],['mouseout',an],['mouseup',aq],['touchstart',ar],['touchend',ac],['touchcancel',ac],['touchmove',au]],this.dragControl&&(j[f].push(['mousedown',ap]),j[f].push(['selectstart',x])),this.wheelZoom&&(j[f].push(['mousewheel',ab]),j[f].push(['DOMMouseScroll',ab])),this.scrollPause&&j[f].push(['scroll',aw,window]);for(d=0;d<j[f].length;++d)i=j[f][d],t(i[0],i[1],i[2]?i[2]:b)}a.started||(a.NextFrame=window.requestAnimationFrame?az:aA,a.interval=this.interval,a.NextFrame(this.interval),a.started=1)}b=a.prototype,b.SourceElements=function(){return c.querySelectorAll?c.querySelectorAll('#'+this.source):[c.getElementById(this.source)]},b.HideTags=function(){var b=this.SourceElements(),a;for(a=0;a<b.length;++a)b[a].style.display='none'},b.GetTags=function(){var e=this.SourceElements(),c,f=[],a,b,d;for(d=0;d<=this.repeatTags;++d)for(a=0;a<e.length;++a){c=e[a].getElementsByTagName('a');for(b=0;b<c.length;++b)f.push(c[b])}return f},b.Message=function(j){var g=[],a,f,b=j.split(''),d,e,h,i;for(a=0;a<b.length;++a)b[a]!=' '&&(f=a-b.length/2,d=c.createElement('A'),d.href='#',d.innerText=b[a],h=100*o(f/9),i=-100*l(f/9),e=new J(this,b[a],d,[h,0,i],2,18,'#000','#fff',0,0,0,'monospace',2,b[a]),e.Init(),g.push(e));return g},b.AddAudio=function(b,c){if(e==='off')return;var a=b.getElementsByTagName('audio');a.length&&(c.SetAudio(a[0]),this.hasAudio=1)},b.CreateTag=function(b){var e,c,a,f,d,g,h,j,k=[0,0,0],l;if('text'!=this.imageMode)if(e=b.getElementsByTagName('img'),e.length)if(c=new Image,c.src=e[0].src,!this.imageMode)return a=new J(this,\\\"\\\",b,k,0,0),a.SetImage(c),A(c,e[0],e[1],a,this),this.AddAudio(b,a),a;if('image'!=this.imageMode&&(d=new V(b),f=d.Lines(),d.Empty()?d=null:(g=this.textFont||Q(i(b,'font-family')),this.splitWidth&&(f=d.SplitWidth(this.splitWidth,this.ctxt,g,this.textHeight)),h=this.bgColour=='tag'?i(b,'background-color'):this.bgColour,j=this.bgOutline=='tag'?i(b,'color'):this.bgOutline)),d||c)return a=new J(this,f,b,k,2,this.textHeight+2,this.textColour||i(b,'color'),h,this.bgRadius,j,this.bgOutlineThickness,g,this.padding,d&&d.original),c?(a.SetImage(c),A(c,e[0],e[1],a,this)):a.Init(),this.AddAudio(b,a),a},b.UpdateTag=function(a,b){var c=this.textColour||i(b,'color'),d=this.textFont||Q(i(b,'font-family')),e=this.bgColour=='tag'?i(b,'background-color'):this.bgColour,f=this.bgOutline=='tag'?i(b,'color'):this.bgOutline;a.a=b,a.title=b.title,(a.colour!=c||a.textFont!=d||a.bgColour!=e||a.bgOutline!=f)&&a.SetFont(d,c,e,f)},b.Weight=function(d){var f=d.length,c,b,a,e=[],g,h=this.weightFrom?this.weightFrom.split(/[, ]/):[null],i=h.length;for(b=0;b<f;++b){e[b]=[];for(a=0;a<i;++a)c=aj(d[b].a,h[a],this.textHeight),(!this.max_weight[a]||c>this.max_weight[a])&&(this.max_weight[a]=c),(!this.min_weight[a]||c<this.min_weight[a])&&(this.min_weight[a]=c),e[b][a]=c}for(a=0;a<i;++a)this.max_weight[a]>this.min_weight[a]&&(g=1);if(g)for(b=0;b<f;++b)d[b].SetWeight(e[b])},b.Load=function(){var c=this.GetTags(),b=[],d,k,l,h,i,j,f,a,e=[],m={sphere:aB,vcylinder:ax,hcylinder:aH,vring:aG,hring:aF};if(c.length){e.length=c.length;for(a=0;a<c.length;++a)e[a]=a;this.shuffleTags&&ai(e),h=100*this.radiusX,i=100*this.radiusY,j=100*this.radiusZ,this.max_radius=g(h,g(i,j));for(a=0;a<c.length;++a)k=this.CreateTag(c[e[a]]),k&&b.push(k);this.weight&&this.Weight(b,!0),this.shapeArgs?this.shapeArgs[0]=b.length:(l=this.shape.toString().split(/[(),]/),d=l.shift(),typeof window[d]=='function'?this.shape=window[d]:this.shape=m[d]||m.sphere,this.shapeArgs=[b.length,h,i,j].concat(l)),f=this.shape.apply(this,this.shapeArgs),this.listLength=b.length;for(a=0;a<b.length;++a)b[a].position=new s(f[a][0],f[a][1],f[a][2])}this.noTagsMessage&&!b.length&&(a=this.imageMode&&this.imageMode!='both'?this.imageMode+' ':'',b=this.Message('No '+a+'tags')),this.taglist=b},b.Update=function(){var e=this.GetTags(),d=[],j=this.taglist,k,f=[],c=[],h,i,g,a,b;if(!this.shapeArgs)return this.Load();if(e.length){g=this.listLength=e.length,i=j.length;for(a=0;a<i;++a)d.push(j[a]),c.push(a);for(a=0;a<g;++a){for(b=0,k=0;b<i;++b)j[b].EqualTo(e[a])&&(this.UpdateTag(d[b],e[a]),k=c[b]=-1);k||f.push(a)}for(a=0,b=0;a<i;++a)c[b]==-1?c.splice(b,1):++b;if(c.length){for(ai(c);c.length&&f.length;)a=c.shift(),b=f.shift(),d[a]=this.CreateTag(e[b]);for(c.sort(function(a,b){return a-b});c.length;)d.splice(c.pop(),1)}for(b=d.length/(f.length+1),a=0;f.length;)d.splice(af(++a*b),0,this.CreateTag(e[f.shift()]));this.shapeArgs[0]=g=d.length,h=this.shape.apply(this,this.shapeArgs);for(a=0;a<g;++a)d[a].position=new s(h[a][0],h[a][1],h[a][2]);this.weight&&this.Weight(d)}this.taglist=d},b.SetShadow=function(a){a.shadowBlur=this.shadowBlur,a.shadowOffsetX=this.shadowOffset[0],a.shadowOffsetY=this.shadowOffset[1]},b.LoadAudio=function(){if(!e&&!ag())return;this.audio=c.createElement('audio'),this.audio.src=this.activeAudio,this.track=e.createMediaElementSource(this.audio),this.gain=e.createGain(),this.track.connect(this.gain),this.gain.connect(e.destination),this.hasAudio=1,P=function(a){e.resume(),c.removeEventListener('click',P)},c.addEventListener('click',P)},b.ShowAudioIcon=function(){var a=this.audioIconSize,c=this.canvas,d=this.ctxt,k=c.width-a-3,f=c.height-a-3,g=this.audioIconThickness,h='#000',i='#fff',j=this.audioIconDark,b=this.audioOff,l='suspended';if(!e)return;b||(b=e.state===l),this.audioIcon&&this.hasAudio&&($(b,d,a,k,f,g+1,j?i:h),$(b,d,a,k,f,g,j?h:i))},b.CheckAudioIcon=function(){var a=this.audioIconSize,b=this.canvas,c=this.audioIconThickness/2,d=b.width-a-3-c,e=b.height-a-3-c;if(this.audioIcon&&this.mx>=d&&this.my>=e)return!0},b.ToggleAudio=function(){var a=this.audioOff||e&&e.state==='suspended';a||this.currentAudio&&this.currentAudio.StopAudio(),this.audioOff=!a},b.Draw=function(s){if(this.paused)return;var l=this.canvas,i=l.width,j=l.height,q=0,p=(s-this.time)*a.interval/1e3,h=i/2+this.offsetX,g=j/2+this.offsetY,d=this.ctxt,b,f,c,o=-1,e=this.taglist,k=e.length,t=this.active&&this.active.tag,m='',u=this.frontSelect,r=this.centreFunc==x,n;if(this.time=s,this.frozen&&this.drawn)return this.Animate(i,j,p);n=this.AnimateFixed(),d.setTransform(1,0,0,1,0,0);for(c=0;c<k;++c)e[c].Calc(this.transform,this.fixedAlpha);if(e=ak(e,function(a,b){return b.z-a.z}),n&&this.fixedAnim.active)b=this.fixedAnim.tag.UpdateActive(d,h,g);else if(this.active=null,this.CheckAudioIcon())m='pointer';else{for(c=0;c<k;++c)f=this.mx>=0&&this.my>=0&&this.taglist[c].CheckActive(d,h,g),f&&f.sc>q&&(!u||f.z<=0)&&(b=f,o=c,b.tag=this.taglist[c],q=f.sc);this.active=b}this.txtOpt||this.shadow&&this.SetShadow(d),d.clearRect(0,0,i,j);for(c=0;c<k;++c){if(!r&&e[c].z<=0){try{this.centreFunc(d,i,j,h,g)}catch(a){alert(a),this.centreFunc=x}r=!0}b&&b.tag==e[c]&&b.PreDraw(d,e[c],h,g)||e[c].Draw(d,h,g),b&&b.tag==e[c]&&b.PostDraw(d)}this.freezeActive&&b?this.Freeze():(this.UnFreeze(),this.drawn=k==this.listLength),this.fixedCallback&&(this.fixedCallback(this,this.fixedCallbackTag),this.fixedCallback=null),n||this.Animate(i,j,p),b&&(b.LastDraw(d),b.tag!=t&&(this.currentAudio&&this.currentAudio!=b.tag&&this.currentAudio.StopAudio(),b.tag.PlayAudio()&&(this.currentAudio=b.tag)),m=this.activeCursor),l.style.cursor=m,this.Tooltip(b,this.taglist[o]),this.audioIcon&&this.ShowAudioIcon()},b.TooltipNone=function(){},b.TooltipNative=function(b,a){b?this.canvas.title=a&&a.title?a.title:'':this.canvas.title=this.ctitle},b.SetTTDiv=function(c,d){var a=this,b=a.ttdiv.style;c!=a.ttdiv.innerHTML&&(b.display='none'),a.ttdiv.innerHTML=c,d&&(d.title=a.ttdiv.innerHTML),b.display=='none'&&!a.tttimer&&(a.tttimer=setTimeout(function(){var c=X(a.canvas.id);b.display='block',b.left=c.x+a.mx+'px',b.top=c.y+a.my+24+'px',a.tttimer=null},a.tooltipDelay))},b.TooltipDiv=function(b,a){b&&a&&a.title?this.SetTTDiv(a.title,a):!b&&this.mx!=-1&&this.my!=-1&&this.ctitle.length?this.SetTTDiv(this.ctitle):this.ttdiv.style.display='none'},b.Transform=function(c,a,b){if(a||b){var d=o(a),e=l(a),f=o(b),g=l(b),h=new m([g,0,f,0,1,0,-f,0,g]),i=new m([1,0,0,0,e,-d,0,d,e]);c.transform=c.transform.mul(h.mul(i))}},b.AnimateFixed=function(){var a,b,c,d,e;return!!(this.fadeIn&&(b=q()-this.startTime,b>=this.fadeIn?(this.fadeIn=0,this.fixedAlpha=1):this.fixedAlpha=b/this.fadeIn),this.fixedAnim)&&(this.fixedAnim.transform||(this.fixedAnim.transform=this.transform),a=this.fixedAnim,b=q()-a.t0,c=a.angle,d,e=this.animTiming(a.t,b),this.transform=a.transform,b>=a.t?(this.fixedCallbackTag=a.tag,this.fixedCallback=a.cb,this.fixedAnim=this.yaw=this.pitch=0):c*=e,d=m.Rotation(c,a.axis),this.transform=this.transform.mul(d),this.fixedAnim!=0)},b.AnimatePosition=function(g,h,f){var a=this,d=a.mx,e=a.my,b,c;!a.frozen&&d>=0&&e>=0&&d<g&&e<h?(b=a.maxSpeed,c=a.reverse?-1:1,a.lx||(a.yaw=(d*2*b/g-b)*c*f),a.ly||(a.pitch=(e*2*b/h-b)*-c*f),a.initial=null):a.initial||(a.frozen&&!a.freezeDecel?a.yaw=a.pitch=0:a.Decel(a)),this.Transform(a,a.pitch,a.yaw)},b.AnimateDrag=function(d,e,c){var a=this,b=100*c*a.maxSpeed/a.max_radius/a.zoom;a.dx||a.dy?(a.lx||(a.yaw=a.dx*b/a.stretchX),a.ly||(a.pitch=a.dy*-b/a.stretchY),a.dx=a.dy=0,a.initial=null):a.initial||a.Decel(a),this.Transform(a,a.pitch,a.yaw)},b.Freeze=function(){this.frozen||(this.preFreeze=[this.yaw,this.pitch],this.frozen=1,this.drawn=0)},b.UnFreeze=function(){this.frozen&&(this.yaw=this.preFreeze[0],this.pitch=this.preFreeze[1],this.frozen=0)},b.Decel=function(a){var b=a.minSpeed,c=p(a.yaw),d=p(a.pitch);!a.lx&&c>b&&(a.yaw=c>a.z0?a.yaw*a.decel:0),!a.ly&&d>b&&(a.pitch=d>a.z0?a.pitch*a.decel:0)},b.Zoom=function(a){this.z2=this.z1*(1/a),this.drawn=0},b.Clicked=function(b){if(this.CheckAudioIcon()){this.ToggleAudio();return}var a=this.active;try{a&&a.tag&&(this.clickToFront===!1||this.clickToFront===null?a.tag.Clicked(b):this.TagToFront(a.tag,this.clickToFront,function(){a.tag.Clicked(b)},!0))}catch(a){}},b.Wheel=function(a){var b=this.zoom+this.zoomStep*(a?1:-1);this.zoom=h(this.zoomMax,g(this.zoomMin,b)),this.Zoom(this.zoom)},b.BeginDrag=function(a){this.down=K(a,this.canvas),a.cancelBubble=!0,a.returnValue=!1,a.preventDefault&&a.preventDefault()},b.Drag=function(e,a){if(this.dragControl&&this.down){var d=this.dragThreshold*this.dragThreshold,b=a.x-this.down.x,c=a.y-this.down.y;(this.dragging||b*b+c*c>d)&&(this.dx=b,this.dy=c,this.dragging=1,this.down=a)}return this.dragging},b.EndDrag=function(){var a=this.dragging;return this.dragging=this.down=null,a};function ah(a){var b=a.targetTouches[0],c=a.targetTouches[1];return E(w(c.pageX-b.pageX,2)+w(c.pageY-b.pageY,2))}b.BeginPinch=function(a){this.pinched=[ah(a),this.zoom],a.preventDefault&&a.preventDefault()},b.Pinch=function(d){var b,c,a=this.pinched;if(!a)return;c=ah(d),b=a[1]*c/a[0],this.zoom=h(this.zoomMax,g(this.zoomMin,b)),this.Zoom(this.zoom)},b.EndPinch=function(a){this.pinched=null},b.Pause=function(){this.paused=!0},b.Resume=function(){this.paused=!1},b.SetSpeed=function(a){this.initial=a,this.yaw=a[0]*this.maxSpeed,this.pitch=a[1]*this.maxSpeed},b.FindTag=function(a){if(!n(a))return null;if(n(a.index)&&(a=a.index),!B(a))return this.taglist[a];var c,d,b;n(a.id)?(c='id',d=a.id):n(a.text)&&(c='innerText',d=a.text);for(b=0;b<this.taglist.length;++b)if(this.taglist[b].a[c]==d)return this.taglist[b]},b.RotateTag=function(a,h,i,j,f,g){var b=a.Calc(this.transform,1),c=new s(b.x,b.y,b.z),d=ay(i,h),e=c.angle(d),k=c.cross(d).unit();e==0?(this.fixedCallbackTag=a,this.fixedCallback=f):this.fixedAnim={angle:-e,axis:k,t:j,t0:q(),cb:f,tag:a,active:g}},b.TagToFront=function(a,b,c,d){this.RotateTag(a,0,0,b,c,d)},b.Volume=function(a){this.audioVolume=a*1},a.Start=function(b,c,d){a.Delete(b),a.tc[b]=new a(b,c,d)};function N(c,b){a.tc[b]&&a.tc[b][c]()}a.Linear=function(a,b){return b/a},a.Smooth=function(a,b){return.5-l(b*Math.PI/a)/2},a.Pause=function(a){N('Pause',a)},a.Resume=function(a){N('Resume',a)},a.Reload=function(a){N('Load',a)},a.Update=function(a){N('Update',a)},a.SetSpeed=function(c,b){return!!(B(b)&&a.tc[c]&&!isNaN(b[0])&&!isNaN(b[1]))&&(a.tc[c].SetSpeed(b),!0)},a.TagToFront=function(c,b){return!!B(b)&&(b.lat=b.lng=0,a.RotateTag(c,b))},a.RotateTag=function(c,b){if(B(b)&&a.tc[c]){isNaN(b.time)&&(b.time=500);var d=a.tc[c].FindTag(b);if(d)return a.tc[c].RotateTag(d,b.lat,b.lng,b.time,b.callback,b.active),!0}return!1},a.Delete=function(b){var d,e;if(j[b])if(e=c.getElementById(b),e)for(d=0;d<j[b].length;++d)am(j[b][d][0],j[b][d][1],e);delete j[b],delete a.tc[b]},a.tc={},a.options={z1:2e4,z2:2e4,z0:2e-4,freezeActive:!1,freezeDecel:!1,activeCursor:'pointer',pulsateTo:1,pulsateTime:3,reverse:!1,depth:.5,maxSpeed:.05,minSpeed:0,decel:.95,interval:20,minBrightness:.1,maxBrightness:1,outlineColour:'#ffff99',outlineThickness:2,outlineOffset:5,outlineMethod:'outline',outlineRadius:0,textColour:'#ff99ff',textHeight:15,textFont:'Helvetica, Arial, sans-serif',shadow:'#000',shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:!0,zoom:1,weight:!1,weightMode:'size',weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:'#f00',0.33:'#ff0',0.66:'#0f0',1:'#00f'},txtOpt:!0,txtScale:2,frontSelect:!1,wheelZoom:!0,zoomMin:.3,zoomMax:3,zoomStep:.05,shape:'sphere',lock:null,tooltip:null,tooltipDelay:300,tooltipClass:'tctooltip',radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:!1,noSelect:!1,noMouse:!1,imageScale:1,paused:!1,dragControl:!1,dragThreshold:4,centreFunc:x,splitWidth:0,animTiming:'Smooth',clickToFront:!1,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0,outlineIncrease:4,textAlign:'centre',textVAlign:'middle',imageMode:null,imagePosition:null,imagePadding:2,imageAlign:'centre',imageVAlign:'middle',noTagsMessage:!0,centreImage:null,pinchZoom:!1,repeatTags:0,minTags:0,imageRadius:0,scrollPause:!1,outlineDash:0,outlineDashSpace:0,outlineDashSpeed:1,activeAudio:'',audioVolume:1,audioIcon:1,audioIconSize:20,audioIconThickness:2,audioIconDark:0,altImage:0};for(r in a.options)a[r]=a.options[r];window.TagCanvas=a,t('load',function(){a.loaded=1},window)})()\";\n\nvar s = function s() {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n};\n\nvar guid = function guid() {\n  return \"\" + s() + s() + \"-\" + s() + \"-\" + s() + \"-\" + s() + \"-\" + s() + s() + s();\n};\n\nvar UseInViewport = function UseInViewport(_ref) {\n  var cb = _ref.cb,\n      children = _ref.children;\n  var ref = react__WEBPACK_IMPORTED_MODULE_0___default().useRef(null);\n  react__WEBPACK_IMPORTED_MODULE_0___default().useEffect(function () {\n    // https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/IntersectionObserver\n    var options = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0.1\n    };\n\n    var wrappedCb = function wrappedCb(entries) {\n      cb(entries.some(function (e) {\n        return e.isIntersecting;\n      }));\n    };\n\n    var observer = new IntersectionObserver(wrappedCb, options);\n\n    if (ref != null && ref.current) {\n      observer.observe(ref.current);\n    }\n\n    return function () {\n      observer.disconnect();\n    };\n  }, [cb]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    ref: ref\n  }, children);\n};\n\nvar isScriptLoaded = false;\n\nvar tr = function tr(fn) {\n  try {\n    fn();\n  } catch (e) {\n    try {\n      fn();\n    } catch (e) {}\n  }\n};\n\nvar CloudWrapped = function CloudWrapped(_ref) {\n  var _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options,\n      _ref$containerProps = _ref.containerProps,\n      containerProps = _ref$containerProps === void 0 ? {} : _ref$containerProps,\n      _ref$canvasProps = _ref.canvasProps,\n      canvasProps = _ref$canvasProps === void 0 ? {} : _ref$canvasProps,\n      children = _ref.children,\n      _ref$id = _ref.id,\n      id = _ref$id === void 0 ? guid() : _ref$id;\n  var state = react__WEBPACK_IMPORTED_MODULE_0___default().useRef({\n    canvasContainerId: 'canvas-container-' + id,\n    canvasId: 'canvas-' + id,\n    hasStarted: false\n  }).current;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default().useState(false),\n      mounted = _React$useState[0],\n      setMounted = _React$useState[1];\n\n  react__WEBPACK_IMPORTED_MODULE_0___default().useEffect(function () {\n    setMounted(true);\n    return function () {\n      return tr(function () {\n        eval(\"TagCanvas.Delete('\" + state.canvasId + \"')\");\n      });\n    };\n  }, []);\n  var supportsTouch = typeof window !== 'undefined' ? 'ontouchstart' in window || navigator.maxTouchPoints : false;\n  var ops = JSON.stringify(_extends({\n    dragControl: supportsTouch ? true : false,\n    maxSpeed: supportsTouch ? 0.01 : 0.05,\n    textFont: null,\n    textColour: null\n  }, options)); // it will not load canvas animations when its outside the viewport\n\n  var onVisibilityChange = function onVisibilityChange(isVisible) {\n    return tr(function () {\n      if (isVisible && mounted) {\n        if (!isScriptLoaded) {\n          eval(tagCanvasString);\n          isScriptLoaded = true;\n        }\n\n        if (state.hasStarted) {\n          eval(\"TagCanvas.Resume('\" + state.canvasId + \"')\");\n        } else {\n          try {\n            eval(\"TagCanvas.Start('\" + state.canvasId + \"', null, \" + ops + \")\");\n            state.hasStarted = true;\n          } catch (e) {\n            var el = document.getElementById(state.canvasContainerId);\n\n            if (el) {\n              el.style.display = 'none';\n            }\n\n            throw e;\n          }\n        }\n      } else {\n        if (state.hasStarted) {\n          eval(\"TagCanvas.Pause('\" + state.canvasId + \"')\");\n        }\n      }\n    });\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(UseInViewport, {\n    cb: onVisibilityChange\n  }, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", Object.assign({\n    id: state.canvasContainerId\n  }, containerProps), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"canvas\", Object.assign({\n    id: state.canvasId,\n    style: {\n      width: '100%',\n      maxWidth: '70vh'\n    },\n    width: 1000,\n    height: 1000\n  }, canvasProps), children)));\n};\n\nvar Cloud = function Cloud(props) {\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(CloudWrapped, Object.assign({}, props, {\n    key: guid()\n  }));\n};\n\nvar addHash = function addHash(color) {\n  return color[0] === '#' ? color : \"#\" + color;\n};\n\n/**\r\n * Used to create a tag for the Cloud component\r\n * @param options.aProps Attributes passed to the underlying anchor element\r\n * @param options.bgHex The string hex of the background the icon will be rendered on. Ex: '#fff'. Used to determine if the min contrast ratio for the icons default color will be met\r\n * @param options.fallbackHex The color of the icon if the minContrastRatio is not met Ex: '#000'\r\n * @param options.icon The simple icon object you would like to render. Ex: import icon from \"simple-icons/icons/javascript\";\r\n * @param options.imgProps Attributes passes to the underlying img element\r\n * @param options.minContrastRatio 0 - 21 The min contrast ratio between icon and bgHex before the fallbackHex will be used for the icon color\r\n * @param options.size The size in px of the icon\r\n * @returns A component that can be rendered as a tag inside the Cloud component\r\n */\n\nvar renderSimpleIcon = function renderSimpleIcon(_ref) {\n  var _ref$aProps = _ref.aProps,\n      aProps = _ref$aProps === void 0 ? {} : _ref$aProps,\n      _ref$bgHex = _ref.bgHex,\n      bgHex = _ref$bgHex === void 0 ? '#fff' : _ref$bgHex,\n      _ref$fallbackHex = _ref.fallbackHex,\n      fallbackHex = _ref$fallbackHex === void 0 ? '#000' : _ref$fallbackHex,\n      icon = _ref.icon,\n      _ref$imgProps = _ref.imgProps,\n      imgProps = _ref$imgProps === void 0 ? {} : _ref$imgProps,\n      _ref$minContrastRatio = _ref.minContrastRatio,\n      minContrastRatio = _ref$minContrastRatio === void 0 ? 1 : _ref$minContrastRatio,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 42 : _ref$size;\n  var originalHex = addHash(icon.hex);\n  var bgHexHash = addHash(bgHex);\n  var fallbackHexHash = addHash(fallbackHex);\n  var isAccessibleColor = (0,_csstools_convert_colors__WEBPACK_IMPORTED_MODULE_1__.hex2contrast)(bgHexHash, originalHex) > minContrastRatio;\n  var rgb = isAccessibleColor ? (0,_csstools_convert_colors__WEBPACK_IMPORTED_MODULE_1__.hex2rgb)(originalHex) : (0,_csstools_convert_colors__WEBPACK_IMPORTED_MODULE_1__.hex2rgb)(fallbackHexHash);\n\n  var _rgb$map = rgb.map(function (percent) {\n    return Math.round(percent / 100 * 255);\n  }),\n      r = _rgb$map[0],\n      g = _rgb$map[1],\n      b = _rgb$map[2];\n\n  var imgSrc = \"data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" style=\\\"fill: rgb(\" + r + \", \" + g + \", \" + b + \");\\\" viewBox=\\\"0 0 24 24\\\" height=\\\"\" + size + \"px\\\" width=\\\"\" + size + \"px\\\"> <title>\" + icon.title + \"</title> <path d=\\\"\" + icon.path + \"\\\"></path> </svg>\";\n\n  var a = _extends({\n    key: guid(),\n    title: icon.title,\n    style: {\n      cursor: 'pointer'\n    }\n  }, aProps);\n\n  var i = _extends({\n    height: size,\n    width: size,\n    alt: icon.title,\n    src: imgSrc\n  }, imgProps);\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", Object.assign({}, a), react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", Object.assign({}, i)));\n};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar runtime_1 = createCommonjsModule(function (module) {\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined$1; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined$1) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined$1;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined$1;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined$1;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined$1, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined$1;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined$1;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined$1;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined$1;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined$1;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   module.exports \n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n});\n\nvar svgToPath = function svgToPath(svg) {\n  var p0 = svg.indexOf('d=\"');\n  var p1 = svg.indexOf('\"', p0 + 3);\n  return svg.substring(p0 + 3, p1);\n};\n\nvar url = 'https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/';\nvar cache = {};\nvar fallback = '';\n\nvar getSlugPath = /*#__PURE__*/function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee(slug) {\n    var urlSlug, res, text, path;\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cache[slug]) {\n              _context.next = 15;\n              break;\n            }\n\n            _context.prev = 1;\n            urlSlug = \"\" + url + slug + \".svg\";\n            _context.next = 5;\n            return fetch(urlSlug, {\n              cache: 'force-cache'\n            });\n\n          case 5:\n            res = _context.sent;\n            _context.next = 8;\n            return res.text();\n\n          case 8:\n            text = _context.sent;\n            path = svgToPath(text);\n            cache[slug] = path;\n            _context.next = 15;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](1);\n\n          case 15:\n            if (!cache[slug]) {\n              _context.next = 17;\n              break;\n            }\n\n            return _context.abrupt(\"return\", cache[slug]);\n\n          case 17:\n            return _context.abrupt(\"return\", fallback);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 13]]);\n  }));\n\n  return function getSlugPath(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getSlugsPath = /*#__PURE__*/function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2(slugs) {\n    var map;\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            map = {};\n            slugs.forEach(function (s) {\n              map[s] = s;\n            });\n            _context2.next = 4;\n            return Promise.all(Object.keys(map).map(getSlugPath));\n\n          case 4:\n            return _context2.abrupt(\"return\", slugs.map(function (slug) {\n              var _cache$slug;\n\n              return {\n                slug: slug,\n                path: (_cache$slug = cache[slug]) != null ? _cache$slug : fallback\n              };\n            }));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getSlugsPath(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n// https://github.com/simple-icons/simple-icons/blob/develop/scripts/utils.js\nvar TITLE_TO_SLUG_REPLACEMENTS = {\n  '+': 'plus',\n  '.': 'dot',\n  '&': 'and',\n  : 'd',\n  : 'h',\n  : 'i',\n  : 'k',\n  : 'l',\n  : 'l',\n  : 'ss',\n  : 't'\n};\nvar TITLE_TO_SLUG_CHARS_REGEX = /*#__PURE__*/RegExp(\"[\" + /*#__PURE__*/Object.keys(TITLE_TO_SLUG_REPLACEMENTS).join('') + \"]\", 'g');\nvar TITLE_TO_SLUG_RANGE_REGEX = /[^a-z0-9]/g;\nvar getSlug = function getSlug(_ref) {\n  var title = _ref.title;\n  return title.toLowerCase().replace(TITLE_TO_SLUG_CHARS_REGEX, function (_char) {\n    return TITLE_TO_SLUG_REPLACEMENTS[_char];\n  }).normalize('NFD').replace(TITLE_TO_SLUG_RANGE_REGEX, '');\n};\n\nvar url$1 = 'https://raw.githubusercontent.com/simple-icons/simple-icons/develop/_data/simple-icons.json';\nvar cache$1;\nvar fallback$1 = '#000';\n\nvar primeCache = /*#__PURE__*/function () {\n  var _ref = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee() {\n    var res, json;\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cache$1) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.prev = 1;\n            _context.next = 4;\n            return fetch(url$1, {\n              cache: 'force-cache'\n            });\n\n          case 4:\n            res = _context.sent;\n            _context.next = 7;\n            return res.json();\n\n          case 7:\n            json = _context.sent;\n            cache$1 = {};\n            json.icons.forEach(function (icon) {\n              var _icon$hex;\n\n              var iconSlug = getSlug({\n                title: icon.title\n              });\n              cache$1[iconSlug] = {\n                hex: addHash((_icon$hex = icon.hex) != null ? _icon$hex : fallback$1),\n                title: icon.title,\n                slug: iconSlug\n              };\n            });\n            _context.next = 14;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](1);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 12]]);\n  }));\n\n  return function primeCache() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getSlugHexs = /*#__PURE__*/function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee2(slugs) {\n    return runtime_1.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return primeCache();\n\n          case 2:\n            return _context2.abrupt(\"return\", {\n              hexs: slugs.map(function (slug) {\n                var _cache$slug$hex, _cache$slug, _cache$slug$title, _cache$slug2;\n\n                return {\n                  slug: slug,\n                  hex: cache$1 ? (_cache$slug$hex = (_cache$slug = cache$1[slug]) == null ? void 0 : _cache$slug.hex) != null ? _cache$slug$hex : fallback$1 : fallback$1,\n                  title: cache$1 ? (_cache$slug$title = (_cache$slug2 = cache$1[slug]) == null ? void 0 : _cache$slug2.title) != null ? _cache$slug$title : 'icon' : 'icon'\n                };\n              }),\n              cache: cache$1\n            });\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getSlugHexs(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar fetchSimpleIcons = /*#__PURE__*/function () {\n  var _ref2 = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/runtime_1.mark(function _callee(_ref) {\n    var slugs, _yield$Promise$all, paths, _yield$Promise$all$, hexs, cache, map;\n\n    return runtime_1.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            slugs = _ref.slugs;\n            _context.next = 3;\n            return Promise.all([getSlugsPath(slugs), getSlugHexs(slugs)]);\n\n          case 3:\n            _yield$Promise$all = _context.sent;\n            paths = _yield$Promise$all[0];\n            _yield$Promise$all$ = _yield$Promise$all[1];\n            hexs = _yield$Promise$all$.hexs;\n            cache = _yield$Promise$all$.cache;\n            map = {};\n            hexs.forEach(function (hex) {\n              map[hex.slug] = hex;\n            });\n            paths.forEach(function (path) {\n              map[path.slug].path = path.path;\n            });\n            slugs.forEach(function (s) {\n              var o = map[s];\n\n              if (!o.hex || !o.path) {\n                if (true) {\n                  console.error(\"'react-icon-cloud/fetchSimpleIcons': the response of \" + o.slug + \" was malformed and it will be ignored.\");\n                }\n\n                delete map[s];\n              }\n            });\n            return _context.abrupt(\"return\", {\n              simpleIcons: map,\n              allIcon: cache\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchSimpleIcons(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n\n//# sourceMappingURL=react-icon-cloud.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtaWNvbi1jbG91ZEA0LjEuNF9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWljb24tY2xvdWQvZGlzdC9yZWFjdC1pY29uLWNsb3VkLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBCO0FBQ3VDOztBQUVqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0JBQWdCLHVHQUF1RyxLQUFLLElBQUksMk9BQTJPLHFDQUFxQyxRQUFRLE1BQU0sOEVBQThFLGNBQWMsNkJBQTZCLGNBQWMsbUNBQW1DLGtCQUFrQiw4QkFBOEIsYUFBYSxTQUFTLGFBQWEsMkJBQTJCLGlCQUFpQixzQkFBc0IsUUFBUSxJQUFJLGlCQUFpQixtQkFBbUIsZUFBZSx5QkFBeUIsRUFBRSxtREFBbUQsY0FBYyxxREFBcUQsZUFBZSxRQUFRLE9BQU8sU0FBUywwQkFBMEIsNkZBQTZGLG1QQUFtUCw2SEFBNkgsT0FBTyx5QkFBeUIsa0JBQWtCLDJCQUEyQixrQ0FBa0Msb0RBQW9ELG1CQUFtQix3Q0FBd0MscUJBQXFCLDRFQUE0RSxvQkFBb0IscUJBQXFCLG9CQUFvQix5RkFBeUYsbUJBQW1CLG9CQUFvQiwwQ0FBMEMsaUJBQWlCLGdDQUFnQyxxQ0FBcUMsb0JBQW9CLGNBQWMsU0FBUyxxQkFBcUIsVUFBVSxxQkFBcUIsVUFBVSxzQkFBc0Isb0NBQW9DLGtDQUFrQywwQkFBMEIsd0JBQXdCLHVKQUF1SixtQkFBbUIsMkJBQTJCLFFBQVEsS0FBSyxZQUFZLEtBQUssNEZBQTRGLGdCQUFnQixxQkFBcUIsUUFBUSxtQkFBbUIsMklBQTJJLHVCQUF1Qix5QkFBeUIsbURBQW1ELFFBQVEsSUFBSSxpRUFBaUUsU0FBUyx3QkFBd0IsMkJBQTJCLG1EQUFtRCxRQUFRLElBQUksMEVBQTBFLFNBQVMseUJBQXlCLCtCQUErQixRQUFRLElBQUksOERBQThELFNBQVMsdUJBQXVCLHNCQUFzQix1QkFBdUIsc0JBQXNCLHVCQUF1Qix3Q0FBd0MsdUJBQXVCLHdDQUF3QyxlQUFlLGdCQUFnQixvQkFBb0IsNkJBQTZCLGlDQUFpQyxvRUFBb0UscUJBQXFCLGlCQUFpQix1Q0FBdUMsb1pBQW9aLGdCQUFnQix5Q0FBeUMsZ0NBQWdDLDhCQUE4QixjQUFjLGlCQUFpQiw4TEFBOEwscUJBQXFCLHdDQUF3QyxvQ0FBb0Msa0NBQWtDLGtCQUFrQiwwQ0FBMEMsNkRBQTZELEtBQUssOERBQThELHFCQUFxQixRQUFRLElBQUksbUJBQW1CLG1IQUFtSCxvQ0FBb0Msd0ZBQXdGLDJJQUEySSxRQUFRLFdBQVcsbUdBQW1HLDBCQUEwQixtTkFBbU4sOEJBQThCLGtJQUFrSSxtREFBbUQsOElBQThJLHlCQUF5QixRQUFRLHdFQUF3RSxzQ0FBc0MsMERBQTBELDA5QkFBMDlCLGtCQUFrQixlQUFlLG1GQUFtRixrQkFBa0IsZUFBZSw4REFBOEQsZ0NBQWdDLHlEQUF5RCwrY0FBK2MsNkJBQTZCLE9BQU8sdUJBQXVCLGlDQUFpQyxtV0FBbVcsMkJBQTJCLHdIQUF3SCxvS0FBb0ssNkJBQTZCLEVBQUUsbUJBQW1CLHdGQUF3RixrQkFBa0IsMEpBQTBKLEtBQUssUUFBUSxNQUFNLFlBQVksUUFBUSxJQUFJLFlBQVksSUFBSSw2SEFBNkgsb0ZBQW9GLGNBQWMscUVBQXFFLGtCQUFrQiw2RUFBNkUsbUJBQW1CLGdGQUFnRixzQkFBc0IsK0JBQStCLDBDQUEwQyxhQUFhLElBQUksMENBQTBDLGFBQWEsSUFBSSw2Q0FBNkMsYUFBYSxJQUFJLHd0Q0FBd3RDLGdCQUFnQix3REFBd0QsaUNBQWlDLEVBQUUsZ0hBQWdILG1CQUFtQixVQUFVLDZKQUE2SixjQUFjLHVFQUF1RSxnQkFBZ0IsNEVBQTRFLHVCQUF1Qix3QkFBd0Isc0VBQXNFLDRCQUE0Qiw4QkFBOEIsZUFBZSxzREFBc0QsMkNBQTJDLGVBQWUscUJBQXFCLDRFQUE0RSxxRkFBcUYsZUFBZSx3Q0FBd0MsOENBQThDLGVBQWUsMENBQTBDLHFGQUFxRixlQUFlLDBCQUEwQiwyUUFBMlEsZUFBZSx3QkFBd0Isd0JBQXdCLHFCQUFxQiw0QkFBNEIsTUFBTSxNQUFNLG1CQUFtQixNQUFNLG9CQUFvQixnQkFBZ0IsZUFBZSxxQkFBcUIsNEVBQTRFLG1EQUFtRCxxQkFBcUIsbUZBQW1GLE1BQU0sa0JBQWtCLFdBQVcsZUFBZSxlQUFlLGdJQUFnSSxlQUFlLFVBQVUsNEJBQTRCLDhCQUE4QixvQ0FBb0MsVUFBVSwrQkFBK0IsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjLGFBQWEsaUNBQWlDLHdCQUF3QixjQUFjLHlCQUF5QixlQUFlLGlCQUFpQixjQUFjLCtNQUErTSxPQUFPLDBCQUEwQixxQkFBcUIsb0NBQW9DLE9BQU8sNkNBQTZDLGNBQWMsc0ZBQXNGLGlDQUFpQyxZQUFZLG1CQUFtQixvQ0FBb0MsU0FBUyxxQkFBcUIsa0JBQWtCLHNDQUFzQyxRQUFRLElBQUksd0xBQXdMLGlFQUFpRSxnQ0FBZ0MsZUFBZSxpQkFBaUIsUUFBUSxtQkFBbUIsS0FBSyw0Q0FBNEMsUUFBUSxXQUFXLDRIQUE0SCw0QkFBNEIsb0JBQW9CLGdCQUFnQix5ZUFBeWUsd0NBQXdDLE9BQU8sa0xBQWtMLG1CQUFtQiwrQkFBK0IsU0FBUyw0R0FBNEcsb0NBQW9DLGtDQUFrQywyRUFBMkUsb0JBQW9CLHNCQUFzQix1RUFBdUUsOEhBQThILHFDQUFxQyw2QkFBNkIsK0NBQStDLHdDQUF3QyxzQkFBc0IsaU5BQWlOLDBDQUEwQyw0TUFBNE0sOENBQThDLGVBQWUsdURBQXVELCtDQUErQyxvRkFBb0YseWZBQXlmLGlDQUFpQyxvQ0FBb0MsK0NBQStDLG1DQUFtQyw2QkFBNkIsNkJBQTZCLG9DQUFvQyxjQUFjLDhOQUE4TixpQ0FBaUMsb0dBQW9HLCtEQUErRCwwQkFBMEIsK0RBQStELDZDQUE2QyxtQ0FBbUMsd0NBQXdDLHVjQUF1YyxpQ0FBaUMsY0FBYywwTUFBME0sK0JBQStCLHdDQUF3Qyx1QkFBdUIsb0NBQW9DLGdIQUFnSCx3QkFBd0IseUJBQXlCLHdCQUF3QiwrQkFBK0IsdUJBQXVCLDRHQUE0RywyQkFBMkIsK0JBQStCLFFBQVEsSUFBSSxxRUFBcUUsU0FBUyx5QkFBeUIsb0VBQW9FLHVsREFBdWxELDZCQUE2QixrR0FBa0cseUJBQXlCLDBEQUEwRCwwQkFBMEIsaUJBQWlCLFFBQVEsSUFBSSx3T0FBd08sdUJBQXVCLGtDQUFrQyxlQUFlLGtCQUFrQiw4VUFBOFUsd0NBQXdDLGdCQUFnQix3Q0FBd0Msc0JBQXNCLDRCQUE0Qiw4Q0FBOEMsK0lBQStJLFFBQVEsbUJBQW1CLHdNQUF3TSwrQkFBK0IsOEZBQThGLDRIQUE0SCwrQkFBK0IscUdBQXFHLHdFQUF3RSxzQkFBc0IsbUVBQW1FLHNMQUFzTCxnQ0FBZ0MsK0RBQStELDhDQUE4QywrQkFBK0IseUNBQXlDLG9DQUFvQyx1QkFBdUIsbUNBQW1DLHNCQUFzQixxREFBcUQsS0FBSyxJQUFJLGtCQUFrQixrQ0FBa0MsUUFBUSxVQUFVLGlCQUFpQixPQUFPLGtCQUFrQiwySEFBMkgsc0RBQXNELGFBQWEsd0JBQXdCLDJFQUEyRSx3QkFBd0Isc0NBQXNDLG9CQUFvQixtREFBbUQscU5BQXFOLE1BQU0sNENBQTRDLHFIQUFxSCwrQ0FBK0MsTUFBTSxrQkFBa0IsMkRBQTJELGNBQWMsMExBQTBMLHlCQUF5QixRQUFRLFdBQVcsb0JBQW9CLG1FQUFtRSxxRUFBcUUsMDVDQUEwNUMsMENBQTBDLGFBQWEsU0FBUyxxYkFBcWIsOEJBQThCLG1HQUFtRyw0VUFBNFUsUUFBUSxjQUFjLHVDQUF1Qyw0SEFBNEgsMENBQTBDLDhGQUE4Rix1QkFBdUIsOEJBQThCLFFBQVEsV0FBVyw4QkFBOEIsc0JBQXNCLHlDQUF5QyxRQUFRLG1CQUFtQixZQUFZLFdBQVcsS0FBSyxpQ0FBaUMsUUFBUSxXQUFXLGlCQUFpQixTQUFTLHVCQUF1QixtQ0FBbUMsUUFBUSxXQUFXLDBNQUEwTSxTQUFTLDBCQUEwQixvQkFBb0Isc0NBQXNDLDZDQUE2Qyx5QkFBeUIsZ0NBQWdDLCtNQUErTSw4Z0JBQThnQiwyQkFBMkIsNExBQTRMLHNHQUFzRyxzQkFBc0IsOEZBQThGLFFBQVEsSUFBSSxLQUFLLFFBQVEsUUFBUSxJQUFJLHdMQUF3TCxRQUFRLElBQUksaURBQWlELGFBQWEsSUFBSSx5QkFBeUIsbUJBQW1CLGtEQUFrRCx1REFBdUQsYUFBYSxrQkFBa0IsUUFBUSxXQUFXLFdBQVcsNkdBQTZHLFFBQVEsV0FBVywyQ0FBMkMscVRBQXFULFFBQVEsV0FBVyxpREFBaUQsOElBQThJLHFCQUFxQiwrREFBK0Qsc0NBQXNDLGFBQWEsc0NBQXNDLFFBQVEsSUFBSSwyQkFBMkIsUUFBUSxJQUFJLEtBQUssWUFBWSxJQUFJLDhEQUE4RCxhQUFhLFlBQVksSUFBSSwrQkFBK0IsYUFBYSxVQUFVLG1CQUFtQixtREFBbUQseUJBQXlCLFdBQVcsRUFBRSxTQUFTLHFCQUFxQixnQ0FBZ0MsU0FBUyxvREFBb0QscUVBQXFFLFFBQVEsSUFBSSxpREFBaUQsNEJBQTRCLGVBQWUseUJBQXlCLHVHQUF1Ryx3QkFBd0Isb0JBQW9CLDRPQUE0Tyw0Q0FBNEMsK0JBQStCLDRCQUE0QiwrS0FBK0ssYUFBYSxnR0FBZ0csNkJBQTZCLG9HQUFvRyxtREFBbUQsMEJBQTBCLDhDQUE4QyxxRUFBcUUsb0JBQW9CLHNCQUFzQiwrT0FBK08sa0VBQWtFLGtEQUFrRCxRQUFRLElBQUksOENBQThDLHdCQUF3QixlQUFlLG9FQUFvRSwyREFBMkQsS0FBSyxRQUFRLElBQUksaUlBQWlJLGNBQWMsaUVBQWlFLFFBQVEsSUFBSSxLQUFLLGtCQUFrQixJQUFJLDJCQUEyQixTQUFTLDJCQUEyQixLQUFLLHNGQUFzRix3Y0FBd2MsMkJBQTJCLCtCQUErQix3RUFBd0UsMEJBQTBCLDJCQUEyQiw0SkFBNEoscUJBQXFCLDZFQUE2RSxrQkFBa0IsNEJBQTRCLG1KQUFtSiw2QkFBNkIsU0FBUyw0RkFBNEYsdUNBQXVDLDJCQUEyQixjQUFjLG9lQUFvZSxtQ0FBbUMsNkJBQTZCLCtPQUErTywrQkFBK0Isa0RBQWtELGlLQUFpSyxxQkFBcUIsK0VBQStFLHVCQUF1QixxRkFBcUYscUJBQXFCLHlDQUF5QywwRkFBMEYsb0JBQW9CLG1DQUFtQyx1QkFBdUIsMEJBQTBCLG1CQUFtQixPQUFPLGtCQUFrQixJQUFJLGdJQUFnSSxpQkFBaUIsTUFBTSxXQUFXLHFCQUFxQix1Q0FBdUMsaUVBQWlFLHlCQUF5QixtR0FBbUcsc0JBQXNCLGdDQUFnQyxnRkFBZ0YsOEVBQThFLHFCQUFxQixzQkFBc0Isb0JBQW9CLHVDQUF1QyxlQUFlLDhDQUE4QyxvREFBb0QseUJBQXlCLG9FQUFvRSxxQkFBcUIsdUJBQXVCLGFBQWEsdUZBQXVGLHdCQUF3QixrQkFBa0Isb0JBQW9CLGVBQWUscUJBQXFCLGVBQWUsd0JBQXdCLHlFQUF5RSx1QkFBdUIscUJBQXFCLHdEQUF3RCxVQUFVLDREQUE0RCxRQUFRLHNCQUFzQixzREFBc0QsbUNBQW1DLCtGQUErRixvRUFBb0UsZ0RBQWdELGdDQUFnQyw0QkFBNEIsc0JBQXNCLHFCQUFxQix5QkFBeUIsa0NBQWtDLGdCQUFnQixzQkFBc0IsdUJBQXVCLFdBQVcsd0JBQXdCLDBCQUEwQixxQkFBcUIsYUFBYSxzQkFBc0IsY0FBYyxzQkFBc0IsWUFBWSxzQkFBc0IsY0FBYywwQkFBMEIsOEVBQThFLDRCQUE0QiwrQ0FBK0MsMkJBQTJCLGtCQUFrQiw0QkFBNEIseUJBQXlCLDJFQUEyRSxTQUFTLHNCQUFzQixRQUFRLDJDQUEyQyxjQUFjLGdDQUFnQywyQkFBMkIsUUFBUSxZQUFZLG9qQkFBb2pCLDBDQUEwQywyMkJBQTIyQixxQ0FBcUMsdUNBQXVDLFdBQVcsU0FBUzs7QUFFL214QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbURBQVk7QUFDeEIsRUFBRSxzREFBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUywwREFBbUI7QUFDNUI7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbURBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCx3QkFBd0IscURBQWM7QUFDdEM7QUFDQTs7QUFFQSxFQUFFLHNEQUFlO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsYUFBYTs7QUFFaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxTQUFTLDBEQUFtQjtBQUM1QjtBQUNBLEdBQUcsRUFBRSwwREFBbUI7QUFDeEI7QUFDQSxHQUFHLG1CQUFtQiwwREFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFNBQVMsMERBQW1CLCtCQUErQjtBQUMzRDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzRUFBWTtBQUN0QyxnQ0FBZ0MsaUVBQU8sZ0JBQWdCLGlFQUFPOztBQUU5RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUMsa0dBQWtHOztBQUVySTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILFNBQVMsMERBQW1CLHNCQUFzQixNQUFNLDBEQUFtQix3QkFBd0I7QUFDbkc7O0FBRUE7QUFDQSxtQkFBbUIsYUFBYTtBQUNoQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixNQUFNO0FBQ04sZUFBZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0MsV0FBVztBQUNuRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLFVBQVU7QUFDVjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDLGNBQWM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDLG1CQUFtQjtBQUNwRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdCQUFnQjtBQUN6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLElBQXFDO0FBQ3pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUU2RDtBQUM5RCIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1pY29uLWNsb3VkQDQuMS40X3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtaWNvbi1jbG91ZC9kaXN0L3JlYWN0LWljb24tY2xvdWQuZXNtLmpzPzY1ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGhleDJjb250cmFzdCwgaGV4MnJnYiB9IGZyb20gJ0Bjc3N0b29scy9jb252ZXJ0LWNvbG9ycyc7XG5cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG4vKipcclxuICogQ29weXJpZ2h0IChDKSAyMDEwLTIwMjEgR3JhaGFtIEJyZWFjaFxyXG4gKlxyXG4gKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuICpcclxuICogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuICogR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcbiAqXHJcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG4gKiBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuICovXG5cbi8qKlxyXG4gKiBUYWdDYW52YXMgMi4xMVxyXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIGNvbnRhY3QgPGdyYWhhbUBnb2F0MTAwMC5jb20+XHJcbiAqL1xudmFyIHRhZ0NhbnZhc1N0cmluZyA9IFwiKGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiOyB2YXIgcixDLHA9TWF0aC5hYnMsbz1NYXRoLnNpbixsPU1hdGguY29zLGc9TWF0aC5tYXgsaD1NYXRoLm1pbixhZj1NYXRoLmNlaWwsRT1NYXRoLnNxcnQsdz1NYXRoLnBvdyxJPXt9LEQ9e30sUj17MDpcXFwiMCxcXFwiLDE6XFxcIjE3LFxcXCIsMjpcXFwiMzQsXFxcIiwzOlxcXCI1MSxcXFwiLDQ6XFxcIjY4LFxcXCIsNTpcXFwiODUsXFxcIiw2OlxcXCIxMDIsXFxcIiw3OlxcXCIxMTksXFxcIiw4OlxcXCIxMzYsXFxcIiw5OlxcXCIxNTMsXFxcIixhOlxcXCIxNzAsXFxcIixBOlxcXCIxNzAsXFxcIixiOlxcXCIxODcsXFxcIixCOlxcXCIxODcsXFxcIixjOlxcXCIyMDQsXFxcIixDOlxcXCIyMDQsXFxcIixkOlxcXCIyMjEsXFxcIixEOlxcXCIyMjEsXFxcIixlOlxcXCIyMzgsXFxcIixFOlxcXCIyMzgsXFxcIixmOlxcXCIyNTUsXFxcIixGOlxcXCIyNTUsXFxcIn0sZixkLGIsVCx6LEYsTSxjPWRvY3VtZW50LHYsZSxQLGo9e307Zm9yKHI9MDtyPDI1NjsrK3IpQz1yLnRvU3RyaW5nKDE2KSxyPDE2JiYoQz0nMCcrQyksRFtDXT1EW0MudG9VcHBlckNhc2UoKV09ci50b1N0cmluZygpKycsJztmdW5jdGlvbiBuKGEpe3JldHVybiB0eXBlb2YgYSE9J3VuZGVmaW5lZCd9ZnVuY3Rpb24gQihhKXtyZXR1cm4gdHlwZW9mIGE9PSdvYmplY3QnJiZhIT1udWxsfWZ1bmN0aW9uIEcoYSxjLGIpe3JldHVybiBpc05hTihhKT9iOmgoYixnKGMsYSkpfWZ1bmN0aW9uIHgoKXtyZXR1cm4hMX1mdW5jdGlvbiBxKCl7cmV0dXJuKG5ldyBEYXRlKS52YWx1ZU9mKCl9ZnVuY3Rpb24gYWsoYyxkKXt2YXIgYj1bXSxlPWMubGVuZ3RoLGE7Zm9yKGE9MDthPGU7KythKWIucHVzaChjW2FdKTtyZXR1cm4gYi5zb3J0KGQpLGJ9ZnVuY3Rpb24gYWkoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTEsZCxjO2I7KWM9fn4oTWF0aC5yYW5kb20oKSpiKSxkPWFbYl0sYVtiXT1hW2NdLGFbY109ZCwtLWJ9ZnVuY3Rpb24gYWcoKXt2YXIgYT13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O2lmKGU9bmV3IGEsIWUpe2U9J29mZic7cmV0dXJufXJldHVybiBlfWZ1bmN0aW9uICQodSxhLHQscyxyLHEscCl7dmFyIGo9cyxoPXIsaT10Ki4wMSxuPTgwKmksbT0xMDAqaSxvPTQwKmksbD0zMCppLGM9bC8yLGI9aituLGY9Yi1vLGs9aCttLGQ9ay1sLGc9aCtsLGU9aCttLzI7aWYoYS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLGEuc2V0TGluZURhc2goW10pLGEuZ2xvYmFsQWxwaGE9MSxhLnN0cm9rZVN0eWxlPXAsYS5saW5lV2lkdGg9cSxhLmxpbmVKb2luPSdyb3VuZCcsYS5iZWdpblBhdGgoKSxhLm1vdmVUbyhmLGcpLGEubGluZVRvKGYsZCksYS5tb3ZlVG8oYixrKSxhLmxpbmVUbyhmLGQpLGEubGluZVRvKGosZCksYS5saW5lVG8oaixnKSxhLmxpbmVUbyhmLGcpLGEubGluZVRvKGIsaCksdSl7YS5saW5lVG8oYixnKSxhLm1vdmVUbyhiLGQpLGEubGluZVRvKGIsayksYS5tb3ZlVG8oYi1jLGUtYyksYS5saW5lVG8oYitjLGUrYyksYS5tb3ZlVG8oYitjLGUtYyksYS5saW5lVG8oYi1jLGUrYyksYS5zdHJva2UoKTtyZXR1cm59YS5jbG9zZVBhdGgoKSxhLnN0cm9rZSgpfWZ1bmN0aW9uIHMoYSxiLGMpe3RoaXMueD1hLHRoaXMueT1iLHRoaXMuej1jfXo9cy5wcm90b3R5cGUsei5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gRSh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueil9LHouZG90PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLngqYS54K3RoaXMueSphLnkrdGhpcy56KmEuen0sei5jcm9zcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnkqYS56LXRoaXMueiphLnksYz10aGlzLnoqYS54LXRoaXMueCphLnosZD10aGlzLngqYS55LXRoaXMueSphLng7cmV0dXJuIG5ldyBzKGIsYyxkKX0sei5hbmdsZT1mdW5jdGlvbihiKXt2YXIgYz10aGlzLmRvdChiKSxhO3JldHVybiBjPT0wP01hdGguUEkvMjooYT1jLyh0aGlzLmxlbmd0aCgpKmIubGVuZ3RoKCkpLGE+PTEpPzA6YTw9LTE/TWF0aC5QSTpNYXRoLmFjb3MoYSl9LHoudW5pdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMubGVuZ3RoKCk7cmV0dXJuIG5ldyBzKHRoaXMueC9hLHRoaXMueS9hLHRoaXMuei9hKX07ZnVuY3Rpb24gYXkoYixhKXthPWEqTWF0aC5QSS8xODAsYj1iKk1hdGguUEkvMTgwO3ZhciBjPW8oYikqbChhKSxkPS1vKGEpLGU9LWwoYikqbChhKTtyZXR1cm4gbmV3IHMoYyxkLGUpfWZ1bmN0aW9uIG0oYSl7dGhpc1sxXT17MTphWzBdLDI6YVsxXSwzOmFbMl19LHRoaXNbMl09ezE6YVszXSwyOmFbNF0sMzphWzVdfSx0aGlzWzNdPXsxOmFbNl0sMjphWzddLDM6YVs4XX19VD1tLnByb3RvdHlwZSxtLklkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBtKFsxLDAsMCwwLDEsMCwwLDAsMV0pfSxtLlJvdGF0aW9uPWZ1bmN0aW9uKGUsYSl7dmFyIGM9byhlKSxkPWwoZSksYj0xLWQ7cmV0dXJuIG5ldyBtKFtkK3coYS54LDIpKmIsYS54KmEueSpiLWEueipjLGEueCphLnoqYithLnkqYyxhLnkqYS54KmIrYS56KmMsZCt3KGEueSwyKSpiLGEueSphLnoqYi1hLngqYyxhLnoqYS54KmItYS55KmMsYS56KmEueSpiK2EueCpjLGQrdyhhLnosMikqYl0pfSxULm11bD1mdW5jdGlvbihjKXt2YXIgZD1bXSxhLGIsZT1jLnhmb3JtPzE6MDtmb3IoYT0xO2E8PTM7KythKWZvcihiPTE7Yjw9MzsrK2IpZT9kLnB1c2godGhpc1thXVsxXSpjWzFdW2JdK3RoaXNbYV1bMl0qY1syXVtiXSt0aGlzW2FdWzNdKmNbM11bYl0pOmQucHVzaCh0aGlzW2FdW2JdKmMpO3JldHVybiBuZXcgbShkKX0sVC54Zm9ybT1mdW5jdGlvbihiKXt2YXIgYT17fSxjPWIueCxkPWIueSxlPWIuejtyZXR1cm4gYS54PWMqdGhpc1sxXVsxXStkKnRoaXNbMl1bMV0rZSp0aGlzWzNdWzFdLGEueT1jKnRoaXNbMV1bMl0rZCp0aGlzWzJdWzJdK2UqdGhpc1szXVsyXSxhLno9Yyp0aGlzWzFdWzNdK2QqdGhpc1syXVszXStlKnRoaXNbM11bM10sYX07ZnVuY3Rpb24gYUIoZyxqLGssbSxmKXt2YXIgYSxiLGMsZCxlPVtdLGg9Mi9nLGk7aT1NYXRoLlBJKigzLUUoNSkrKHBhcnNlRmxvYXQoZik/cGFyc2VGbG9hdChmKTowKSk7Zm9yKGE9MDthPGc7KythKWI9YSpoLTEraC8yLGM9RSgxLWIqYiksZD1hKmksZS5wdXNoKFtsKGQpKmMqaixiKmssbyhkKSpjKm1dKTtyZXR1cm4gZX1mdW5jdGlvbiBVKG4scCxtLGssaCxnKXt2YXIgYixmPVtdLGk9Mi9uLGosYSxkLGMsZTtqPU1hdGguUEkqKDMtRSg1KSsocGFyc2VGbG9hdChnKT9wYXJzZUZsb2F0KGcpOjApKTtmb3IoYT0wO2E8bjsrK2EpZD1hKmktMStpLzIsYj1hKmosYz1sKGIpLGU9byhiKSxmLnB1c2gocD9bZCptLGMqayxlKmhdOltjKm0sZCprLGUqaF0pO3JldHVybiBmfWZ1bmN0aW9uIGFhKGssZSxmLGgsaSxqKXt2YXIgYixnPVtdLG09TWF0aC5QSSoyL2UsYSxjLGQ7Zm9yKGE9MDthPGU7KythKWI9YSptLGM9bChiKSxkPW8oYiksZy5wdXNoKGs/W2oqZixjKmgsZCppXTpbYypmLGoqaCxkKmldKTtyZXR1cm4gZ31mdW5jdGlvbiBheChhLGIsYyxkLGUpe3JldHVybiBVKGEsMCxiLGMsZCxlKX1mdW5jdGlvbiBhSChhLGIsYyxkLGUpe3JldHVybiBVKGEsMSxiLGMsZCxlKX1mdW5jdGlvbiBhRyhiLGMsZCxlLGEpe3JldHVybiBhPWlzTmFOKGEpPzA6YSoxLGFhKDAsYixjLGQsZSxhKX1mdW5jdGlvbiBhRihiLGMsZCxlLGEpe3JldHVybiBhPWlzTmFOKGEpPzA6YSoxLGFhKDEsYixjLGQsZSxhKX1mdW5jdGlvbiBhdihiKXt2YXIgYT1uZXcgSW1hZ2U7YS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYz1hLndpZHRoLzIsZD1hLmhlaWdodC8yO2IuY2VudHJlRnVuYz1mdW5jdGlvbihiLGcsaCxlLGYpe2Iuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxiLmdsb2JhbEFscGhhPTEsYi5kcmF3SW1hZ2UoYSxlLWMsZi1kKX19LGEuc3JjPWIuY2VudHJlSW1hZ2V9ZnVuY3Rpb24gYUUoYSxjKXt2YXIgYj1hLGQsZSxmPShjKjEpLnRvUHJlY2lzaW9uKDMpKycpJztyZXR1cm4gYVswXT09PScjJz8oSVthXXx8KGEubGVuZ3RoPT09ND9JW2FdPSdyZ2JhKCcrUlthWzFdXStSW2FbMl1dK1JbYVszXV06SVthXT0ncmdiYSgnK0RbYS5zdWJzdHIoMSwyKV0rRFthLnN1YnN0cigzLDIpXStEW2Euc3Vic3RyKDUsMildKSxiPUlbYV0rZik6YS5zdWJzdHIoMCw0KT09PSdyZ2IoJ3x8YS5zdWJzdHIoMCw0KT09PSdoc2woJz9iPWEucmVwbGFjZSgnKCcsJ2EoJykucmVwbGFjZSgnKScsJywnK2YpOihhLnN1YnN0cigwLDUpPT09J3JnYmEoJ3x8YS5zdWJzdHIoMCw1KT09PSdoc2xhKCcpJiYoZD1hLmxhc3RJbmRleE9mKCcsJykrMSxlPWEuaW5kZXhPZignKScpLGMqPXBhcnNlRmxvYXQoYS5zdWJzdHJpbmcoZCxlKSksYj1hLnN1YnN0cigwLGQpK2MudG9QcmVjaXNpb24oMykrJyknKSxifWZ1bmN0aW9uIGsoYixkKXtpZih3aW5kb3cuR192bWxDYW52YXNNYW5hZ2VyKXJldHVybiBudWxsO3ZhciBhPWMuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7cmV0dXJuIGEud2lkdGg9YixhLmhlaWdodD1kLGF9ZnVuY3Rpb24gYUQoKXt2YXIgYj1rKDMsMyksYSxjO3JldHVybiEhYiYmKGE9Yi5nZXRDb250ZXh0KCcyZCcpLGEuc3Ryb2tlU3R5bGU9JyMwMDAnLGEuc2hhZG93Q29sb3I9JyNmZmYnLGEuc2hhZG93Qmx1cj0zLGEuZ2xvYmFsQWxwaGE9MCxhLnN0cm9rZVJlY3QoMiwyLDIsMiksYS5nbG9iYWxBbHBoYT0xLGM9YS5nZXRJbWFnZURhdGEoMiwyLDEsMSksYj1udWxsLGMuZGF0YVswXT4wKX1mdW5jdGlvbiBhQyhhLGMsZixkKXt2YXIgZT1hLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCxjLDApLGI7Zm9yKGIgaW4gZCllLmFkZENvbG9yU3RvcCgxLWIsZFtiXSk7YS5maWxsU3R5bGU9ZSxhLmZpbGxSZWN0KDAsZixjLDEpfWZ1bmN0aW9uIEwoYSxtLGope3ZhciBsPTEwMjQsZD0xLGU9YS53ZWlnaHRHcmFkaWVudCxpLGYsYixjO2lmKGEuZ0NhbnZhcylmPWEuZ0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpLGQ9YS5nQ2FudmFzLmhlaWdodDtlbHNle2lmKEIoZVswXSk/ZD1lLmxlbmd0aDplPVtlXSxhLmdDYW52YXM9aT1rKGwsZCksIWkpcmV0dXJuIG51bGw7Zj1pLmdldENvbnRleHQoJzJkJyk7Zm9yKGI9MDtiPGQ7KytiKWFDKGYsbCxiLGVbYl0pfXJldHVybiBqPWcoaChqfHwwLGQtMSksMCksYz1mLmdldEltYWdlRGF0YSh+figobC0xKSptKSxqLDEsMSkuZGF0YSwncmdiYSgnK2NbMF0rJywnK2NbMV0rJywnK2NbMl0rJywnK2NbM10vMjU1KycpJ31mdW5jdGlvbiBZKGIsaSxxLGssbyxuLGgsZCxhLGcsZixsKXt2YXIgbT1vKyhkfHwwKSsoYS5sZW5ndGgmJmFbMF08MD9wKGFbMF0pOjApLGo9bisoZHx8MCkrKGEubGVuZ3RoJiZhWzFdPDA/cChhWzFdKTowKSxjLGU7Yi5mb250PWksYi50ZXh0QmFzZWxpbmU9J3RvcCcsYi5maWxsU3R5bGU9cSxoJiYoYi5zaGFkb3dDb2xvcj1oKSxkJiYoYi5zaGFkb3dCbHVyPWQpLGEubGVuZ3RoJiYoYi5zaGFkb3dPZmZzZXRYPWFbMF0sYi5zaGFkb3dPZmZzZXRZPWFbMV0pO2ZvcihjPTA7YzxrLmxlbmd0aDsrK2MpZT0wLGYmJigncmlnaHQnPT1sP2U9Zy1mW2NdOidjZW50cmUnPT1sJiYoZT0oZy1mW2NdKS8yKSksYi5maWxsVGV4dChrW2NdLG0rZSxqKSxqKz1wYXJzZUludChpKX1mdW5jdGlvbiB5KGQsYSxiLGYsZSxjLGcpe2M/KGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oYSxiK2UtYyksZC5hcmNUbyhhLGIsYStjLGIsYyksZC5hcmNUbyhhK2YsYixhK2YsYitjLGMpLGQuYXJjVG8oYStmLGIrZSxhK2YtYyxiK2UsYyksZC5hcmNUbyhhLGIrZSxhLGIrZS1jLGMpLGQuY2xvc2VQYXRoKCksZFtnPydzdHJva2UnOidmaWxsJ10oKSk6ZFtnPydzdHJva2VSZWN0JzonZmlsbFJlY3QnXShhLGIsZixlKX1mdW5jdGlvbiBPKGEsYixjLGQsZSxmLGcsaCxpKXt0aGlzLnN0cmluZ3M9YSx0aGlzLmZvbnQ9Yix0aGlzLndpZHRoPWMsdGhpcy5oZWlnaHQ9ZCx0aGlzLm1heFdpZHRoPWUsdGhpcy5zdHJpbmdXaWR0aHM9Zix0aGlzLmFsaWduPWcsdGhpcy52YWxpZ249aCx0aGlzLnNjYWxlPWl9TT1PLnByb3RvdHlwZSxNLlNldEltYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dGhpcy5pbWFnZT1hLHRoaXMuaXdpZHRoPWIqdGhpcy5zY2FsZSx0aGlzLmloZWlnaHQ9Yyp0aGlzLnNjYWxlLHRoaXMuaXBvcz1kLHRoaXMuaXBhZD1lKnRoaXMuc2NhbGUsdGhpcy5pc2NhbGU9aCx0aGlzLmlhbGlnbj1mLHRoaXMuaXZhbGlnbj1nfSxNLkFsaWduPWZ1bmN0aW9uKGMsZCxhKXt2YXIgYj0wO3JldHVybiBhPT0ncmlnaHQnfHxhPT0nYm90dG9tJz9iPWQtYzphIT0nbGVmdCcmJmEhPSd0b3AnJiYoYj0oZC1jKS8yKSxifSxNLkNyZWF0ZT1mdW5jdGlvbihHLEQsRixiLEEsbSxxLGosRSl7dmFyIG8sZSxmLGEsbCxzLGksdSx2LHIsdyxuLGMsZCx4LEI9cChxWzBdKSxDPXAocVsxXSksdCx6O3JldHVybiBqPWcoaixCK20sQyttKSxsPTIqKGorYiksaT0yKihqK2IpLGU9dGhpcy53aWR0aCtsLGY9dGhpcy5oZWlnaHQraSx2PXI9aitiLHRoaXMuaW1hZ2UmJih3PW49aitiLGM9dGhpcy5pd2lkdGgsZD10aGlzLmloZWlnaHQsdGhpcy5pcG9zPT0ndG9wJ3x8dGhpcy5pcG9zPT0nYm90dG9tJz8oYzx0aGlzLndpZHRoP3crPXRoaXMuQWxpZ24oYyx0aGlzLndpZHRoLHRoaXMuaWFsaWduKTp2Kz10aGlzLkFsaWduKHRoaXMud2lkdGgsYyx0aGlzLmFsaWduKSx0aGlzLmlwb3M9PSd0b3AnP3IrPWQrdGhpcy5pcGFkOm4rPXRoaXMuaGVpZ2h0K3RoaXMuaXBhZCxlPWcoZSxjK2wpLGYrPWQrdGhpcy5pcGFkKTooZDx0aGlzLmhlaWdodD9uKz10aGlzLkFsaWduKGQsdGhpcy5oZWlnaHQsdGhpcy5pdmFsaWduKTpyKz10aGlzLkFsaWduKHRoaXMuaGVpZ2h0LGQsdGhpcy52YWxpZ24pLHRoaXMuaXBvcz09J3JpZ2h0Jz93Kz10aGlzLndpZHRoK3RoaXMuaXBhZDp2Kz1jK3RoaXMuaXBhZCxlKz1jK3RoaXMuaXBhZCxmPWcoZixkK2kpKSksbz1rKGUsZiksIW8/bnVsbDoobD1pPWIvMixzPWUtYix1PWYtYix4PWgoRSxzLzIsdS8yKSxhPW8uZ2V0Q29udGV4dCgnMmQnKSxEJiYoYS5maWxsU3R5bGU9RCx5KGEsbCxpLHMsdSx4KSksYiYmKGEuc3Ryb2tlU3R5bGU9RixhLmxpbmVXaWR0aD1iLHkoYSxsLGkscyx1LHgsITApKSwobXx8Qnx8QykmJih0PWsoZSxmKSx0JiYoej1hLGE9dC5nZXRDb250ZXh0KCcyZCcpKSksWShhLHRoaXMuZm9udCxHLHRoaXMuc3RyaW5ncyx2LHIsMCwwLFtdLHRoaXMubWF4V2lkdGgsdGhpcy5zdHJpbmdXaWR0aHMsdGhpcy5hbGlnbiksdGhpcy5pbWFnZSYmYS5kcmF3SW1hZ2UodGhpcy5pbWFnZSx3LG4sYyxkKSx6JiYoYT16LEEmJihhLnNoYWRvd0NvbG9yPUEpLG0mJihhLnNoYWRvd0JsdXI9bSksYS5zaGFkb3dPZmZzZXRYPXFbMF0sYS5zaGFkb3dPZmZzZXRZPXFbMV0sYS5kcmF3SW1hZ2UodCwwLDApKSxvKX07ZnVuY3Rpb24gSChhLGMsZCl7dmFyIGI9ayhjLGQpLGU7cmV0dXJuIGI/KGU9Yi5nZXRDb250ZXh0KCcyZCcpLGUuZHJhd0ltYWdlKGEsKGMtYS53aWR0aCkvMiwoZC1hLmhlaWdodCkvMiksYik6bnVsbH1mdW5jdGlvbiBTKGUsYixjKXt2YXIgYT1rKGIsYyksZDtyZXR1cm4gYT8oZD1hLmdldENvbnRleHQoJzJkJyksZC5kcmF3SW1hZ2UoZSwwLDAsYixjKSxhKTpudWxsfWZ1bmN0aW9uIFcobix1LHQsZSxzLGMsdixkLHIsdyl7dmFyIGc9dSsoMipkK2MpKmUsZj10KygyKmQrYykqZSxsPWsoZyxmKSxiLGkscSxtLGosbyxhLHA7cmV0dXJuIGw/KGMqPWUscio9ZSxpPXE9Yy8yLG09Zy1jLGo9Zi1jLGQ9ZCplK2ksYj1sLmdldENvbnRleHQoJzJkJykscD1oKHIsbS8yLGovMikscyYmKGIuZmlsbFN0eWxlPXMseShiLGkscSxtLGoscCkpLGMmJihiLnN0cm9rZVN0eWxlPXYsYi5saW5lV2lkdGg9Yyx5KGIsaSxxLG0saixwLCEwKSksdz8obz1rKGcsZiksYT1vLmdldENvbnRleHQoJzJkJyksYS5kcmF3SW1hZ2UobixkLGQsdSx0KSxhLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0nc291cmNlLWluJyxhLmZpbGxTdHlsZT12LGEuZmlsbFJlY3QoMCwwLGcsZiksYS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249J2Rlc3RpbmF0aW9uLW92ZXInLGEuZHJhd0ltYWdlKGwsMCwwKSxhLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0nc291cmNlLW92ZXInLGIuZHJhd0ltYWdlKG8sMCwwKSk6Yi5kcmF3SW1hZ2UobixkLGQsbi53aWR0aCxuLmhlaWdodCkse2ltYWdlOmwsd2lkdGg6Zy9lLGhlaWdodDpmL2V9KTpudWxsfWZ1bmN0aW9uIGF0KGwsZixjLGQsail7dmFyIGUsYSxiPXBhcnNlRmxvYXQoZiksaT1nKGMsZCk7cmV0dXJuIGU9ayhjLGQpLCFlP251bGw6KGYuaW5kZXhPZignJScpPjA/Yj1pKmIvMTAwOmI9YipqLGE9ZS5nZXRDb250ZXh0KCcyZCcpLGEuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSdzb3VyY2Utb3ZlcicsYS5maWxsU3R5bGU9JyNmZmYnLGI+PWkvMj8oYj1oKGMsZCkvMixhLmJlZ2luUGF0aCgpLGEubW92ZVRvKGMvMixkLzIpLGEuYXJjKGMvMixkLzIsYiwwLDIqTWF0aC5QSSwhMSksYS5maWxsKCksYS5jbG9zZVBhdGgoKSk6KGI9aChjLzIsZC8yLGIpLHkoYSwwLDAsYyxkLGIsITApLGEuZmlsbCgpKSxhLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0nc291cmNlLWluJyxhLmRyYXdJbWFnZShsLDAsMCxjLGQpLGUpfWZ1bmN0aW9uIGFvKHEsbSxpLGIsaCxhLGMpe3ZhciBnPXAoY1swXSksZj1wKGNbMV0pLGo9bSsoZz5hP2crYTphKjIpKmIsbD1pKyhmPmE/ZithOmEqMikqYixuPWIqKChhfHwwKSsoY1swXTwwP2c6MCkpLG89YiooKGF8fDApKyhjWzFdPDA/ZjowKSksZSxkO3JldHVybiBlPWsoaixsKSwhZT9udWxsOihkPWUuZ2V0Q29udGV4dCgnMmQnKSxoJiYoZC5zaGFkb3dDb2xvcj1oKSxhJiYoZC5zaGFkb3dCbHVyPWEqYiksYyYmKGQuc2hhZG93T2Zmc2V0WD1jWzBdKmIsZC5zaGFkb3dPZmZzZXRZPWNbMV0qYiksZC5kcmF3SW1hZ2UocSxuLG8sbSxpKSx7aW1hZ2U6ZSx3aWR0aDpqL2IsaGVpZ2h0OmwvYn0pfWZ1bmN0aW9uIGFlKG0sbyxsKXt2YXIgYz1wYXJzZUludChtLnRvU3RyaW5nKCkubGVuZ3RoKmwpLGg9cGFyc2VJbnQobCoyKm0ubGVuZ3RoKSxqPWsoYyxoKSxnLGksZSxmLGIsZCxuLGE7aWYoIWopcmV0dXJuIG51bGw7Zz1qLmdldENvbnRleHQoJzJkJyksZy5maWxsU3R5bGU9JyMwMDAnLGcuZmlsbFJlY3QoMCwwLGMsaCksWShnLGwrJ3B4ICcrbywnI2ZmZicsbSwwLDAsMCwwLFtdLCdjZW50cmUnKSxpPWcuZ2V0SW1hZ2VEYXRhKDAsMCxjLGgpLGU9aS53aWR0aCxmPWkuaGVpZ2h0LGE9e21pbjp7eDplLHk6Zn0sbWF4Ont4Oi0xLHk6LTF9fTtmb3IoZD0wO2Q8ZjsrK2QpZm9yKGI9MDtiPGU7KytiKW49KGQqZStiKSo0LGkuZGF0YVtuKzFdPjAmJihiPGEubWluLngmJihhLm1pbi54PWIpLGI+YS5tYXgueCYmKGEubWF4Lng9YiksZDxhLm1pbi55JiYoYS5taW4ueT1kKSxkPmEubWF4LnkmJihhLm1heC55PWQpKTtyZXR1cm4gZSE9YyYmKGEubWluLngqPWMvZSxhLm1heC54Kj1jL2UpLGYhPWgmJihhLm1pbi55Kj1jL2YsYS5tYXgueSo9Yy9mKSxqPW51bGwsYX1mdW5jdGlvbiBRKGEpe3JldHVyblxcXCInXFxcIithLnJlcGxhY2UoLygnfFxcXCIpL2csJycpLnJlcGxhY2UoL3MqLHMqL2csXFxcIicsICdcXFwiKStcXFwiJ1xcXCJ9ZnVuY3Rpb24gdChiLGQsYSl7YT1hfHxjLGEuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYixkLCExKTphLmF0dGFjaEV2ZW50KCdvbicrYixkKX1mdW5jdGlvbiBhbShiLGQsYSl7YT1hfHxjLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcj9hLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixkKTphLmRldGFjaEV2ZW50KCdvbicrYixkKX1mdW5jdGlvbiBBKGcsZSxqLGEsYil7dmFyIGw9Yi5pbWFnZVNjYWxlLGgsYyxrLG0sZixkO2lmKCFlLmNvbXBsZXRlKXJldHVybiB0KCdsb2FkJyxmdW5jdGlvbigpe0EoZyxlLGosYSxiKX0sZSk7aWYoIWcuY29tcGxldGUpcmV0dXJuIHQoJ2xvYWQnLGZ1bmN0aW9uKCl7QShnLGUsaixhLGIpfSxnKTtpZihqJiYhai5jb21wbGV0ZSlyZXR1cm4gdCgnbG9hZCcsZnVuY3Rpb24oKXtBKGcsZSxqLGEsYil9LGopO2Uud2lkdGg9ZS53aWR0aCxlLmhlaWdodD1lLmhlaWdodCxsJiYoZy53aWR0aD1lLndpZHRoKmwsZy5oZWlnaHQ9ZS5oZWlnaHQqbCksYS5pdz1nLndpZHRoLGEuaWg9Zy5oZWlnaHQsYi50eHRPcHQmJihjPWcsaD1iLnpvb21NYXgqYi50eHRTY2FsZSxmPWEuaXcqaCxkPWEuaWgqaCxmPGUubmF0dXJhbFdpZHRofHxkPGUubmF0dXJhbEhlaWdodD8oYz1TKGcsZixkKSxjJiYoYS5maW1hZ2U9YykpOihmPWEuaXcsZD1hLmloLGg9MSkscGFyc2VGbG9hdChiLmltYWdlUmFkaXVzKSYmKGEuaW1hZ2U9YS5maW1hZ2U9Zz1hdChhLmltYWdlLGIuaW1hZ2VSYWRpdXMsZixkLGgpKSxhLkhhc1RleHQoKXx8KGIuc2hhZG93JiYoYz1hbyhhLmltYWdlLGYsZCxoLGIuc2hhZG93LGIuc2hhZG93Qmx1cixiLnNoYWRvd09mZnNldCksYyYmKGEuZmltYWdlPWMuaW1hZ2UsYS53PWMud2lkdGgsYS5oPWMuaGVpZ2h0KSksKGIuYmdDb2xvdXJ8fGIuYmdPdXRsaW5lVGhpY2tuZXNzKSYmKGs9Yi5iZ0NvbG91cj09J3RhZyc/aShhLmEsJ2JhY2tncm91bmQtY29sb3InKTpiLmJnQ29sb3VyLG09Yi5iZ091dGxpbmU9PSd0YWcnP2koYS5hLCdjb2xvcicpOmIuYmdPdXRsaW5lfHxiLnRleHRDb2xvdXIsZj1hLmZpbWFnZS53aWR0aCxkPWEuZmltYWdlLmhlaWdodCxiLm91dGxpbmVNZXRob2Q9PSdjb2xvdXInJiYoYz1XKGEuZmltYWdlLGYsZCxoLGssYi5iZ091dGxpbmVUaGlja25lc3MsYS5vdXRsaW5lLmNvbG91cixiLnBhZGRpbmcsYi5iZ1JhZGl1cywxKSxjJiYoYS5vaW1hZ2U9Yy5pbWFnZSkpLGM9VyhhLmZpbWFnZSxmLGQsaCxrLGIuYmdPdXRsaW5lVGhpY2tuZXNzLG0sYi5wYWRkaW5nLGIuYmdSYWRpdXMpLGMmJihhLmZpbWFnZT1jLmltYWdlLGEudz1jLndpZHRoLGEuaD1jLmhlaWdodCkpLGIub3V0bGluZU1ldGhvZD09J3NpemUnJiYoYi5vdXRsaW5lSW5jcmVhc2U+MD8oYS5pdys9MipiLm91dGxpbmVJbmNyZWFzZSxhLmloKz0yKmIub3V0bGluZUluY3JlYXNlLGY9aCphLml3LGQ9aCphLmloLGM9UyhhLmZpbWFnZSxmLGQpLGEub2ltYWdlPWMsYS5maW1hZ2U9SChhLmZpbWFnZSxhLm9pbWFnZS53aWR0aCxhLm9pbWFnZS5oZWlnaHQpKTooZj1oKihhLml3KzIqYi5vdXRsaW5lSW5jcmVhc2UpLGQ9aCooYS5paCsyKmIub3V0bGluZUluY3JlYXNlKSxjPVMoYS5maW1hZ2UsZixkKSxhLm9pbWFnZT1IKGMsYS5maW1hZ2Uud2lkdGgsYS5maW1hZ2UuaGVpZ2h0KSkpKSksYS5hbHQ9aixhLkluaXQoKX1mdW5jdGlvbiBpKGEsZCl7dmFyIGI9Yy5kZWZhdWx0VmlldyxlPWQucmVwbGFjZSgvLShbYS16XSkvZyxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQXQoMSkudG9VcHBlckNhc2UoKX0pO3JldHVybiBiJiZiLmdldENvbXB1dGVkU3R5bGUmJmIuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpLmdldFByb3BlcnR5VmFsdWUoZCl8fGEuY3VycmVudFN0eWxlJiZhLmN1cnJlbnRTdHlsZVtlXX1mdW5jdGlvbiBhaihjLGQsZSl7dmFyIGI9MSxhO3JldHVybiBkP2I9MSooYy5nZXRBdHRyaWJ1dGUoZCl8fGUpOihhPWkoYywnZm9udC1zaXplJykpJiYoYj1hLmluZGV4T2YoJ3B4Jyk+LTEmJmEucmVwbGFjZSgncHgnLCcnKSoxfHxhLmluZGV4T2YoJ3B0Jyk+LTEmJmEucmVwbGFjZSgncHQnLCcnKSoxLjI1fHxhKjMuMyksYn1mdW5jdGlvbiB1KGEpe3JldHVybiBhLnRhcmdldCYmbihhLnRhcmdldC5pZCk/YS50YXJnZXQuaWQ6YS5zcmNFbGVtZW50LnBhcmVudE5vZGUuaWR9ZnVuY3Rpb24gSyhhLGMpe3ZhciBiLGQsZT1wYXJzZUludChpKGMsJ3dpZHRoJykpL2Mud2lkdGgsZj1wYXJzZUludChpKGMsJ2hlaWdodCcpKS9jLmhlaWdodDtyZXR1cm4gbihhLm9mZnNldFgpP2I9e3g6YS5vZmZzZXRYLHk6YS5vZmZzZXRZfTooZD1YKGMuaWQpLG4oYS5jaGFuZ2VkVG91Y2hlcykmJihhPWEuY2hhbmdlZFRvdWNoZXNbMF0pLGEucGFnZVgmJihiPXt4OmEucGFnZVgtZC54LHk6YS5wYWdlWS1kLnl9KSksYiYmZSYmZiYmKGIueC89ZSxiLnkvPWYpLGJ9ZnVuY3Rpb24gYW4oYyl7dmFyIGQ9Yy50YXJnZXR8fGMuZnJvbUVsZW1lbnQucGFyZW50Tm9kZSxiPWEudGNbZC5pZF07YiYmKGIubXg9Yi5teT0tMSxiLlVuRnJlZXplKCksYi5FbmREcmFnKCkpfWZ1bmN0aW9uIGFkKGUpe3ZhciBnLGM9YSxiLGQsZj11KGUpO2ZvcihnIGluIGMudGMpYj1jLnRjW2ddLGIudHR0aW1lciYmKGNsZWFyVGltZW91dChiLnR0dGltZXIpLGIudHR0aW1lcj1udWxsKTtmJiZjLnRjW2ZdJiYoYj1jLnRjW2ZdLChkPUsoZSxiLmNhbnZhcykpJiYoYi5teD1kLngsYi5teT1kLnksYi5EcmFnKGUsZCkpLGIuZHJhd249MCl9ZnVuY3Rpb24gYXAoYil7dmFyIGU9YSxmPWMuYWRkRXZlbnRMaXN0ZW5lcj8wOjEsZD11KGIpO2QmJmIuYnV0dG9uPT1mJiZlLnRjW2RdJiZlLnRjW2RdLkJlZ2luRHJhZyhiKX1mdW5jdGlvbiBhcShiKXt2YXIgZj1hLGc9Yy5hZGRFdmVudExpc3RlbmVyPzA6MSxlPXUoYiksZDtlJiZiLmJ1dHRvbj09ZyYmZi50Y1tlXSYmKGQ9Zi50Y1tlXSxhZChiKSwhZC5FbmREcmFnKCkmJiFkLnRvdWNoU3RhdGUmJmQuQ2xpY2tlZChiKSl9ZnVuY3Rpb24gYXIoYyl7dmFyIGU9dShjKSxiPWUmJmEudGNbZV0sZDtiJiZjLmNoYW5nZWRUb3VjaGVzJiYoYy50b3VjaGVzLmxlbmd0aD09MSYmYi50b3VjaFN0YXRlPT0wPyhiLnRvdWNoU3RhdGU9MSxiLkJlZ2luRHJhZyhjKSwoZD1LKGMsYi5jYW52YXMpKSYmKGIubXg9ZC54LGIubXk9ZC55LGIuZHJhd249MCkpOmMudGFyZ2V0VG91Y2hlcy5sZW5ndGg9PTImJmIucGluY2hab29tPyhiLnRvdWNoU3RhdGU9MyxiLkVuZERyYWcoKSxiLkJlZ2luUGluY2goYykpOihiLkVuZERyYWcoKSxiLkVuZFBpbmNoKCksYi50b3VjaFN0YXRlPTApKX1mdW5jdGlvbiBhYyhjKXt2YXIgZD11KGMpLGI9ZCYmYS50Y1tkXTtpZihiJiZjLmNoYW5nZWRUb3VjaGVzKXtzd2l0Y2goYi50b3VjaFN0YXRlKXtjYXNlIDE6Yi5EcmF3KCksYi5DbGlja2VkKCk7YnJlYWs7YnJlYWs7Y2FzZSAyOmIuRW5kRHJhZygpO2JyZWFrO2Nhc2UgMzpiLkVuZFBpbmNoKCl9Yi50b3VjaFN0YXRlPTB9fWZ1bmN0aW9uIGF1KGMpe3ZhciBmLGU9YSxiLGQsZz11KGMpO2ZvcihmIGluIGUudGMpYj1lLnRjW2ZdLGIudHR0aW1lciYmKGNsZWFyVGltZW91dChiLnR0dGltZXIpLGIudHR0aW1lcj1udWxsKTtpZihiPWcmJmUudGNbZ10sYiYmYy5jaGFuZ2VkVG91Y2hlcyYmYi50b3VjaFN0YXRlKXtzd2l0Y2goYi50b3VjaFN0YXRlKXtjYXNlIDE6Y2FzZSAyOihkPUsoYyxiLmNhbnZhcykpJiYoYi5teD1kLngsYi5teT1kLnksYi5EcmFnKGMsZCkmJihiLnRvdWNoU3RhdGU9MikpO2JyZWFrO2Nhc2UgMzpiLlBpbmNoKGMpfWIuZHJhd249MH19ZnVuY3Rpb24gYWIoYil7dmFyIGQ9YSxjPXUoYik7YyYmZC50Y1tjXSYmKGIuY2FuY2VsQnViYmxlPSEwLGIucmV0dXJuVmFsdWU9ITEsYi5wcmV2ZW50RGVmYXVsdCYmYi5wcmV2ZW50RGVmYXVsdCgpLGQudGNbY10uV2hlZWwoKGIud2hlZWxEZWx0YXx8Yi5kZXRhaWwpPjApKX1mdW5jdGlvbiBhdyhkKXt2YXIgYyxiPWE7Y2xlYXJUaW1lb3V0KGIuc2Nyb2xsVGltZXIpO2ZvcihjIGluIGIudGMpYi50Y1tjXS5QYXVzZSgpO2Iuc2Nyb2xsVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiLGM9YTtmb3IoYiBpbiBjLnRjKWMudGNbYl0uUmVzdW1lKCl9LGIuc2Nyb2xsUGF1c2UpfWZ1bmN0aW9uIGFsKCl7WihxKCkpfWZ1bmN0aW9uIFooYil7dmFyIGM9YS50YyxkO2EuTmV4dEZyYW1lKGEuaW50ZXJ2YWwpLGI9Ynx8cSgpO2ZvcihkIGluIGMpY1tkXS5EcmF3KGIpfWZ1bmN0aW9uIGF6KCl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKFopfWZ1bmN0aW9uIGFBKGEpe3NldFRpbWVvdXQoYWwsYSl9ZnVuY3Rpb24gWChmKXt2YXIgZz1jLmdldEVsZW1lbnRCeUlkKGYpLGI9Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPWMuZG9jdW1lbnRFbGVtZW50LGQ9Yy5ib2R5LGU9d2luZG93LGg9ZS5wYWdlWE9mZnNldHx8YS5zY3JvbGxMZWZ0LGk9ZS5wYWdlWU9mZnNldHx8YS5zY3JvbGxUb3Asaj1hLmNsaWVudExlZnR8fGQuY2xpZW50TGVmdCxrPWEuY2xpZW50VG9wfHxkLmNsaWVudFRvcDtyZXR1cm57eDpiLmxlZnQraC1qLHk6Yi50b3AraS1rfX1mdW5jdGlvbiBhSShhLGIsZCxlKXt2YXIgYz1hLnJhZGl1cyphLnoxLyhhLnoxK2EuejIrYi56KTtyZXR1cm57eDpiLngqYypkLHk6Yi55KmMqZSx6OmIueix3OihhLnoxLWIueikvYS56Mn19ZnVuY3Rpb24gVihhKXt0aGlzLmU9YSx0aGlzLmJyPTAsdGhpcy5saW5lPVtdLHRoaXMudGV4dD1bXSx0aGlzLm9yaWdpbmFsPWEuaW5uZXJUZXh0fHxhLnRleHRDb250ZW50fUY9Vi5wcm90b3R5cGUsRi5FbXB0eT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy50ZXh0Lmxlbmd0aDsrK2EpaWYodGhpcy50ZXh0W2FdLmxlbmd0aClyZXR1cm4hMTtyZXR1cm4hMH0sRi5MaW5lcz1mdW5jdGlvbihjKXt2YXIgZT1jPzE6MCxiLGQsYTtjPWN8fHRoaXMuZSxiPWMuY2hpbGROb2RlcyxkPWIubGVuZ3RoO2ZvcihhPTA7YTxkOysrYSliW2FdLm5vZGVOYW1lPT0nQlInPyh0aGlzLnRleHQucHVzaCh0aGlzLmxpbmUuam9pbignICcpKSx0aGlzLmJyPTEpOmJbYV0ubm9kZVR5cGU9PTM/dGhpcy5icj8odGhpcy5saW5lPVtiW2FdLm5vZGVWYWx1ZV0sdGhpcy5icj0wKTp0aGlzLmxpbmUucHVzaChiW2FdLm5vZGVWYWx1ZSk6dGhpcy5MaW5lcyhiW2FdKTtyZXR1cm4gZXx8dGhpcy5icnx8dGhpcy50ZXh0LnB1c2godGhpcy5saW5lLmpvaW4oJyAnKSksdGhpcy50ZXh0fSxGLlNwbGl0V2lkdGg9ZnVuY3Rpb24oaCxlLGYsZyl7dmFyIGMsYixhLGQ9W107ZS5mb250PWcrJ3B4ICcrZjtmb3IoYz0wO2M8dGhpcy50ZXh0Lmxlbmd0aDsrK2Mpe2E9dGhpcy50ZXh0W2NdLnNwbGl0KC9zKy8pLHRoaXMubGluZT1bYVswXV07Zm9yKGI9MTtiPGEubGVuZ3RoOysrYillLm1lYXN1cmVUZXh0KHRoaXMubGluZS5qb2luKCcgJykrJyAnK2FbYl0pLndpZHRoPmg/KGQucHVzaCh0aGlzLmxpbmUuam9pbignICcpKSx0aGlzLmxpbmU9W2FbYl1dKTp0aGlzLmxpbmUucHVzaChhW2JdKTtkLnB1c2godGhpcy5saW5lLmpvaW4oJyAnKSl9cmV0dXJuIHRoaXMudGV4dD1kfTtmdW5jdGlvbiBfKGEsYil7dGhpcy50cz1udWxsLHRoaXMudGM9YSx0aGlzLnRhZz1iLHRoaXMueD10aGlzLnk9dGhpcy53PXRoaXMuaD10aGlzLnNjPTEsdGhpcy56PTAsdGhpcy5wdWxzZT0xLHRoaXMucHVsc2F0ZT1hLnB1bHNhdGVUbzwxLHRoaXMuY29sb3VyPWEub3V0bGluZUNvbG91cix0aGlzLmFkYXNoPX5+YS5vdXRsaW5lRGFzaCx0aGlzLmFnYXA9fn5hLm91dGxpbmVEYXNoU3BhY2V8fHRoaXMuYWRhc2gsdGhpcy5hc3BlZWQ9YS5vdXRsaW5lRGFzaFNwZWVkKjEsdGhpcy5jb2xvdXI9PSd0YWcnP3RoaXMuY29sb3VyPWkoYi5hLCdjb2xvcicpOnRoaXMuY29sb3VyPT0ndGFnYmcnJiYodGhpcy5jb2xvdXI9aShiLmEsJ2JhY2tncm91bmQtY29sb3InKSksdGhpcy5EcmF3PXRoaXMucHVsc2F0ZT90aGlzLkRyYXdQdWxzYXRlOnRoaXMuRHJhd1NpbXBsZSx0aGlzLnJhZGl1cz1hLm91dGxpbmVSYWRpdXN8MCx0aGlzLlNldE1ldGhvZChhLm91dGxpbmVNZXRob2QsYS5hbHRJbWFnZSl9Zj1fLnByb3RvdHlwZSxmLlNldE1ldGhvZD1mdW5jdGlvbihhLGQpe3ZhciBiPXtibG9jazpbJ1ByZURyYXcnLCdEcmF3QmxvY2snXSxjb2xvdXI6WydQcmVEcmF3JywnRHJhd0NvbG91ciddLG91dGxpbmU6WydQb3N0RHJhdycsJ0RyYXdPdXRsaW5lJ10sY2xhc3NpYzpbJ0xhc3REcmF3JywnRHJhd091dGxpbmUnXSxzaXplOlsnUHJlRHJhdycsJ0RyYXdTaXplJ10sbm9uZTpbJ0xhc3REcmF3J119LGM9YlthXXx8Yi5vdXRsaW5lO2E9PSdub25lJz90aGlzLkRyYXc9ZnVuY3Rpb24oKXtyZXR1cm4gMX06dGhpcy5kcmF3RnVuYz10aGlzW2NbMV1dLHRoaXNbY1swXV09dGhpcy5EcmF3LGQmJih0aGlzLlJlYWxQcmVEcmF3PXRoaXMuUHJlRHJhdyx0aGlzLlByZURyYXc9dGhpcy5EcmF3QWx0KX0sZi5VcGRhdGU9ZnVuY3Rpb24oZCxlLGksaixhLGYsZyxoKXt2YXIgYj10aGlzLnRjLm91dGxpbmVPZmZzZXQsYz0yKmI7dGhpcy54PWEqZCtnLWIsdGhpcy55PWEqZStoLWIsdGhpcy53PWEqaStjLHRoaXMuaD1hKmorYyx0aGlzLnNjPWEsdGhpcy56PWZ9LGYuQW50cz1mdW5jdGlvbihrKXtpZighdGhpcy5hZGFzaClyZXR1cm47dmFyIGI9dGhpcy5hZGFzaCxjPXRoaXMuYWdhcCxhPXRoaXMuYXNwZWVkLGo9YitjLGg9MCxnPWIsZj1jLGk9MCxkPTAsZTthJiYoZD1wKGEpKihxKCktdGhpcy50cykvNTAsYTwwJiYoZD04NjRlNC1kKSxhPX5+ZCVqKSxhPyhiPj1hPyhoPWItYSxnPWEpOihmPWotYSxpPWMtZiksZT1baCxmLGcsaV0pOmU9W2IsY10say5zZXRMaW5lRGFzaChlKX0sZi5EcmF3T3V0bGluZT1mdW5jdGlvbihhLGQsZSxiLGMsZil7dmFyIGc9aCh0aGlzLnJhZGl1cyxjLzIsYi8yKTthLnN0cm9rZVN0eWxlPWYsdGhpcy5BbnRzKGEpLHkoYSxkLGUsYixjLGcsITApfSxmLkRyYXdTaXplPWZ1bmN0aW9uKGksbixtLGwsayxqLGEsaCxnKXt2YXIgZj1hLncsZT1hLmgsYyxiLGQ7cmV0dXJuIHRoaXMucHVsc2F0ZT8oYS5pbWFnZT9kPShhLmltYWdlLmhlaWdodCt0aGlzLnRjLm91dGxpbmVJbmNyZWFzZSkvYS5pbWFnZS5oZWlnaHQ6ZD1hLm9zY2FsZSxiPWEuZmltYWdlfHxhLmltYWdlLGM9MSsoZC0xKSooMS10aGlzLnB1bHNlKSxhLmgqPWMsYS53Kj1jKTpiPWEub2ltYWdlLGEuYWxwaGE9MSxhLkRyYXcoaSxoLGcsYiksYS5oPWUsYS53PWYsMX0sZi5EcmF3Q29sb3VyPWZ1bmN0aW9uKGQsaCxpLGUsZixnLGEsYixjKXtyZXR1cm4gYS5vaW1hZ2U/KHRoaXMucHVsc2U8MT8oYS5hbHBoYT0xLXcodGhpcy5wdWxzZSwyKSxhLkRyYXcoZCxiLGMsYS5maW1hZ2UpLGEuYWxwaGE9dGhpcy5wdWxzZSk6YS5hbHBoYT0xLGEuRHJhdyhkLGIsYyxhLm9pbWFnZSksMSk6dGhpc1thLmltYWdlPydEcmF3Q29sb3VySW1hZ2UnOidEcmF3Q29sb3VyVGV4dCddKGQsaCxpLGUsZixnLGEsYixjKX0sZi5EcmF3Q29sb3VyVGV4dD1mdW5jdGlvbihmLGgsaSxqLGcsZSxhLGIsYyl7dmFyIGQ9YS5jb2xvdXI7cmV0dXJuIGEuY29sb3VyPWUsYS5hbHBoYT0xLGEuRHJhdyhmLGIsYyksYS5jb2xvdXI9ZCwxfSxmLkRyYXdDb2xvdXJJbWFnZT1mdW5jdGlvbihhLHEscCxvLG4sbSxpLHIsbCl7dmFyIGY9YS5jYW52YXMsZT1+fmcocSwwKSxkPX5+ZyhwLDApLGM9aChmLndpZHRoLWUsbykrLjV8MCxiPWgoZi5oZWlnaHQtZCxuKSsuNXwwLGo7cmV0dXJuIHY/KHYud2lkdGg9Yyx2LmhlaWdodD1iKTp2PWsoYyxiKSwhdj90aGlzLlNldE1ldGhvZCgnb3V0bGluZScpOihqPXYuZ2V0Q29udGV4dCgnMmQnKSxqLmRyYXdJbWFnZShmLGUsZCxjLGIsMCwwLGMsYiksYS5jbGVhclJlY3QoZSxkLGMsYiksdGhpcy5wdWxzYXRlP2kuYWxwaGE9MS13KHRoaXMucHVsc2UsMik6aS5hbHBoYT0xLGkuRHJhdyhhLHIsbCksYS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLGEuc2F2ZSgpLGEuYmVnaW5QYXRoKCksYS5yZWN0KGUsZCxjLGIpLGEuY2xpcCgpLGEuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSdzb3VyY2UtaW4nLGEuZmlsbFN0eWxlPW0sYS5maWxsUmVjdChlLGQsYyxiKSxhLnJlc3RvcmUoKSxhLmdsb2JhbEFscGhhPTEsYS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249J2Rlc3RpbmF0aW9uLW92ZXInLGEuZHJhd0ltYWdlKHYsMCwwLGMsYixlLGQsYyxiKSxhLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0nc291cmNlLW92ZXInLDEpfSxmLkRyYXdBbHQ9ZnVuY3Rpb24oYixhLGMsZCxmLGcpe3ZhciBlPXRoaXMuUmVhbFByZURyYXcoYixhLGMsZCxmLGcpO3JldHVybiBhLmFsdCYmKGEuRHJhd0ltYWdlKGIsYyxkLGEuYWx0KSxlPTEpLGV9LGYuRHJhd0Jsb2NrPWZ1bmN0aW9uKGEsZCxlLGIsYyxmKXt2YXIgZz1oKHRoaXMucmFkaXVzLGMvMixiLzIpO2EuZmlsbFN0eWxlPWYseShhLGQsZSxiLGMsZyl9LGYuRHJhd1NpbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9dGhpcy50YztyZXR1cm4gYS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLGEuc3Ryb2tlU3R5bGU9dGhpcy5jb2xvdXIsYS5saW5lV2lkdGg9Zy5vdXRsaW5lVGhpY2tuZXNzLGEuc2hhZG93Qmx1cj1hLnNoYWRvd09mZnNldFg9YS5zaGFkb3dPZmZzZXRZPTAsYS5nbG9iYWxBbHBoYT1mP2U6MSx0aGlzLmRyYXdGdW5jKGEsdGhpcy54LHRoaXMueSx0aGlzLncsdGhpcy5oLHRoaXMuY29sb3VyLGIsYyxkKX0sZi5EcmF3UHVsc2F0ZT1mdW5jdGlvbihoLGQsZSxmKXt2YXIgZz1xKCktdGhpcy50cyxjPXRoaXMudGMsYj1jLnB1bHNhdGVUbysoMS1jLnB1bHNhdGVUbykqKC41K2woMipNYXRoLlBJKmcvKDFlMypjLnB1bHNhdGVUaW1lKSkvMik7cmV0dXJuIHRoaXMucHVsc2U9Yj1hLlNtb290aCgxLGIpLHRoaXMuRHJhd1NpbXBsZShoLGQsZSxmLGIsMSl9LGYuQWN0aXZlPWZ1bmN0aW9uKGQsYSxiKXt2YXIgYz1hPj10aGlzLngmJmI+PXRoaXMueSYmYTw9dGhpcy54K3RoaXMudyYmYjw9dGhpcy55K3RoaXMuaDtyZXR1cm4gYz90aGlzLnRzPXRoaXMudHN8fHEoKTp0aGlzLnRzPW51bGwsY30sZi5QcmVEcmF3PWYuUG9zdERyYXc9Zi5MYXN0RHJhdz14O2Z1bmN0aW9uIEooYSxoLGMsYixlLGYsZyxkLGksaixrLGwsbSxuKXt0aGlzLnRjPWEsdGhpcy5pbWFnZT1udWxsLHRoaXMudGV4dD1oLHRoaXMudGV4dF9vcmlnaW5hbD1uLHRoaXMubGluZV93aWR0aHM9W10sdGhpcy50aXRsZT1jLnRpdGxlfHxudWxsLHRoaXMuYT1jLHRoaXMucG9zaXRpb249bmV3IHMoYlswXSxiWzFdLGJbMl0pLHRoaXMueD10aGlzLnk9dGhpcy56PTAsdGhpcy53PWUsdGhpcy5oPWYsdGhpcy5jb2xvdXI9Z3x8YS50ZXh0Q29sb3VyLHRoaXMuYmdDb2xvdXI9ZHx8YS5iZ0NvbG91cix0aGlzLmJnUmFkaXVzPWl8MCx0aGlzLmJnT3V0bGluZT1qfHx0aGlzLmNvbG91cix0aGlzLmJnT3V0bGluZVRoaWNrbmVzcz1rfDAsdGhpcy50ZXh0Rm9udD1sfHxhLnRleHRGb250LHRoaXMucGFkZGluZz1tfDAsdGhpcy5zYz10aGlzLmFscGhhPTEsdGhpcy53ZWlnaHRlZD0hYS53ZWlnaHQsdGhpcy5vdXRsaW5lPW5ldyBfKGEsdGhpcyksdGhpcy5hdWRpbz1udWxsfWQ9Si5wcm90b3R5cGUsZC5Jbml0PWZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMudGM7dGhpcy50ZXh0SGVpZ2h0PWEudGV4dEhlaWdodCx0aGlzLkhhc1RleHQoKT90aGlzLk1lYXN1cmUoYS5jdHh0LGEpOih0aGlzLnc9dGhpcy5pdyx0aGlzLmg9dGhpcy5paCksdGhpcy5TZXRTaGFkb3dDb2xvdXI9YS5zaGFkb3dBbHBoYT90aGlzLlNldFNoYWRvd0NvbG91ckFscGhhOnRoaXMuU2V0U2hhZG93Q29sb3VyRml4ZWQsdGhpcy5TZXREcmF3KGEpfSxkLkRyYXc9eCxkLkhhc1RleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0JiZ0aGlzLnRleHRbMF0ubGVuZ3RoPjB9LGQuRXF1YWxUbz1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKTtyZXR1cm4gdGhpcy5hLmhyZWYhPWEuaHJlZj8wOmIubGVuZ3RoP3RoaXMuaW1hZ2Uuc3JjPT1iWzBdLnNyYzooYS5pbm5lclRleHR8fGEudGV4dENvbnRlbnQpPT10aGlzLnRleHRfb3JpZ2luYWx9LGQuU2V0SW1hZ2U9ZnVuY3Rpb24oYSl7dGhpcy5pbWFnZT10aGlzLmZpbWFnZT1hfSxkLlNldEF1ZGlvPWZ1bmN0aW9uKGEpe3RoaXMuYXVkaW89YSx0aGlzLmF1ZGlvLmxvYWQoKX0sZC5TZXREcmF3PWZ1bmN0aW9uKGEpe3RoaXMuRHJhdz10aGlzLmZpbWFnZT9hLmllPjc/dGhpcy5EcmF3SW1hZ2VJRTp0aGlzLkRyYXdJbWFnZTp0aGlzLkRyYXdUZXh0LGEubm9TZWxlY3QmJih0aGlzLkNoZWNrQWN0aXZlPXgpfSxkLk1lYXN1cmVUZXh0PWZ1bmN0aW9uKGQpe3ZhciBhLGU9dGhpcy50ZXh0Lmxlbmd0aCxiPTAsYztmb3IoYT0wO2E8ZTsrK2EpdGhpcy5saW5lX3dpZHRoc1thXT1jPWQubWVhc3VyZVRleHQodGhpcy50ZXh0W2FdKS53aWR0aCxiPWcoYixjKTtyZXR1cm4gYn0sZC5NZWFzdXJlPWZ1bmN0aW9uKGUsYSl7dmFyIGY9YWUodGhpcy50ZXh0LHRoaXMudGV4dEZvbnQsdGhpcy50ZXh0SGVpZ2h0KSxiLGssaCxpLGcsbCxqLGMsZDtqPWY/Zi5tYXgueStmLm1pbi55OnRoaXMudGV4dEhlaWdodCxlLmZvbnQ9dGhpcy5mb250PXRoaXMudGV4dEhlaWdodCsncHggJyt0aGlzLnRleHRGb250LGw9dGhpcy5NZWFzdXJlVGV4dChlKSxhLnR4dE9wdCYmKGI9YS50eHRTY2FsZSxrPWIqdGhpcy50ZXh0SGVpZ2h0LGg9aysncHggJyt0aGlzLnRleHRGb250LGk9W2IqYS5zaGFkb3dPZmZzZXRbMF0sYiphLnNoYWRvd09mZnNldFsxXV0sZS5mb250PWgsZz10aGlzLk1lYXN1cmVUZXh0KGUpLGQ9bmV3IE8odGhpcy50ZXh0LGgsZytiLGIqaitiLGcsdGhpcy5saW5lX3dpZHRocyxhLnRleHRBbGlnbixhLnRleHRWQWxpZ24sYiksdGhpcy5pbWFnZSYmZC5TZXRJbWFnZSh0aGlzLmltYWdlLHRoaXMuaXcsdGhpcy5paCxhLmltYWdlUG9zaXRpb24sYS5pbWFnZVBhZGRpbmcsYS5pbWFnZUFsaWduLGEuaW1hZ2VWQWxpZ24sYS5pbWFnZVNjYWxlKSxjPWQuQ3JlYXRlKHRoaXMuY29sb3VyLHRoaXMuYmdDb2xvdXIsdGhpcy5iZ091dGxpbmUsYip0aGlzLmJnT3V0bGluZVRoaWNrbmVzcyxhLnNoYWRvdyxiKmEuc2hhZG93Qmx1cixpLGIqdGhpcy5wYWRkaW5nLGIqdGhpcy5iZ1JhZGl1cyksYS5vdXRsaW5lTWV0aG9kPT0nY29sb3VyJz90aGlzLm9pbWFnZT1kLkNyZWF0ZSh0aGlzLm91dGxpbmUuY29sb3VyLHRoaXMuYmdDb2xvdXIsdGhpcy5vdXRsaW5lLmNvbG91cixiKnRoaXMuYmdPdXRsaW5lVGhpY2tuZXNzLGEuc2hhZG93LGIqYS5zaGFkb3dCbHVyLGksYip0aGlzLnBhZGRpbmcsYip0aGlzLmJnUmFkaXVzKTphLm91dGxpbmVNZXRob2Q9PSdzaXplJyYmKGY9YWUodGhpcy50ZXh0LHRoaXMudGV4dEZvbnQsdGhpcy50ZXh0SGVpZ2h0K2Eub3V0bGluZUluY3JlYXNlKSxrPWYubWF4LnkrZi5taW4ueSxoPWIqKHRoaXMudGV4dEhlaWdodCthLm91dGxpbmVJbmNyZWFzZSkrJ3B4ICcrdGhpcy50ZXh0Rm9udCxlLmZvbnQ9aCxnPXRoaXMuTWVhc3VyZVRleHQoZSksZD1uZXcgTyh0aGlzLnRleHQsaCxnK2IsYiprK2IsZyx0aGlzLmxpbmVfd2lkdGhzLGEudGV4dEFsaWduLGEudGV4dFZBbGlnbixiKSx0aGlzLmltYWdlJiZkLlNldEltYWdlKHRoaXMuaW1hZ2UsdGhpcy5pdythLm91dGxpbmVJbmNyZWFzZSx0aGlzLmloK2Eub3V0bGluZUluY3JlYXNlLGEuaW1hZ2VQb3NpdGlvbixhLmltYWdlUGFkZGluZyxhLmltYWdlQWxpZ24sYS5pbWFnZVZBbGlnbixhLmltYWdlU2NhbGUpLHRoaXMub2ltYWdlPWQuQ3JlYXRlKHRoaXMuY29sb3VyLHRoaXMuYmdDb2xvdXIsdGhpcy5iZ091dGxpbmUsYip0aGlzLmJnT3V0bGluZVRoaWNrbmVzcyxhLnNoYWRvdyxiKmEuc2hhZG93Qmx1cixpLGIqdGhpcy5wYWRkaW5nLGIqdGhpcy5iZ1JhZGl1cyksdGhpcy5vc2NhbGU9dGhpcy5vaW1hZ2Uud2lkdGgvYy53aWR0aCxhLm91dGxpbmVJbmNyZWFzZT4wP2M9SChjLHRoaXMub2ltYWdlLndpZHRoLHRoaXMub2ltYWdlLmhlaWdodCk6dGhpcy5vaW1hZ2U9SCh0aGlzLm9pbWFnZSxjLndpZHRoLGMuaGVpZ2h0KSksYyYmKHRoaXMuZmltYWdlPWMsbD10aGlzLmZpbWFnZS53aWR0aC9iLGo9dGhpcy5maW1hZ2UuaGVpZ2h0L2IpLHRoaXMuU2V0RHJhdyhhKSxhLnR4dE9wdD0hIXRoaXMuZmltYWdlKSx0aGlzLmg9aix0aGlzLnc9bH0sZC5TZXRGb250PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMudGV4dEZvbnQ9YSx0aGlzLmNvbG91cj1iLHRoaXMuYmdDb2xvdXI9Yyx0aGlzLmJnT3V0bGluZT1kLHRoaXMuTWVhc3VyZSh0aGlzLnRjLmN0eHQsdGhpcy50Yyl9LGQuU2V0V2VpZ2h0PWZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMudGMsZT1iLndlaWdodE1vZGUuc3BsaXQoL1ssIF0vKSxkLGEsZj1jLmxlbmd0aDtpZighdGhpcy5IYXNUZXh0KCkpcmV0dXJuO3RoaXMud2VpZ2h0ZWQ9ITA7Zm9yKGE9MDthPGY7KythKWQ9ZVthXXx8J3NpemUnLCdib3RoJz09ZD8odGhpcy5XZWlnaHQoY1thXSxiLmN0eHQsYiwnc2l6ZScsYi5taW5fd2VpZ2h0W2FdLGIubWF4X3dlaWdodFthXSxhKSx0aGlzLldlaWdodChjW2FdLGIuY3R4dCxiLCdjb2xvdXInLGIubWluX3dlaWdodFthXSxiLm1heF93ZWlnaHRbYV0sYSkpOnRoaXMuV2VpZ2h0KGNbYV0sYi5jdHh0LGIsZCxiLm1pbl93ZWlnaHRbYV0sYi5tYXhfd2VpZ2h0W2FdLGEpO3RoaXMuTWVhc3VyZShiLmN0eHQsYil9LGQuV2VpZ2h0PWZ1bmN0aW9uKGIsaSxhLGQsZixoLGUpe2I9aXNOYU4oYik/MTpiO3ZhciBjPShiLWYpLyhoLWYpOydjb2xvdXInPT1kP3RoaXMuY29sb3VyPUwoYSxjLGUpOidiZ2NvbG91cic9PWQ/dGhpcy5iZ0NvbG91cj1MKGEsYyxlKTonYmdvdXRsaW5lJz09ZD90aGlzLmJnT3V0bGluZT1MKGEsYyxlKTonb3V0bGluZSc9PWQ/dGhpcy5vdXRsaW5lLmNvbG91cj1MKGEsYyxlKTonc2l6ZSc9PWQmJihhLndlaWdodFNpemVNaW4+MCYmYS53ZWlnaHRTaXplTWF4PmEud2VpZ2h0U2l6ZU1pbj90aGlzLnRleHRIZWlnaHQ9YS53ZWlnaHRTaXplKihhLndlaWdodFNpemVNaW4rKGEud2VpZ2h0U2l6ZU1heC1hLndlaWdodFNpemVNaW4pKmMpOnRoaXMudGV4dEhlaWdodD1nKDEsYiphLndlaWdodFNpemUpKX0sZC5TZXRTaGFkb3dDb2xvdXJGaXhlZD1mdW5jdGlvbihhLGIsYyl7YS5zaGFkb3dDb2xvcj1ifSxkLlNldFNoYWRvd0NvbG91ckFscGhhPWZ1bmN0aW9uKGEsYixjKXthLnNoYWRvd0NvbG9yPWFFKGIsYyl9LGQuRHJhd1RleHQ9ZnVuY3Rpb24oYSxoLGkpe3ZhciBlPXRoaXMudGMsZz10aGlzLngsZj10aGlzLnksYz10aGlzLnNjLGIsZDthLmdsb2JhbEFscGhhPXRoaXMuYWxwaGEsYS5maWxsU3R5bGU9dGhpcy5jb2xvdXIsZS5zaGFkb3cmJnRoaXMuU2V0U2hhZG93Q29sb3VyKGEsZS5zaGFkb3csdGhpcy5hbHBoYSksYS5mb250PXRoaXMuZm9udCxnKz1oL2MsZis9aS9jLXRoaXMuaC8yO2ZvcihiPTA7Yjx0aGlzLnRleHQubGVuZ3RoOysrYilkPWcsJ3JpZ2h0Jz09ZS50ZXh0QWxpZ24/ZCs9dGhpcy53LzItdGhpcy5saW5lX3dpZHRoc1tiXTonY2VudHJlJz09ZS50ZXh0QWxpZ24/ZC09dGhpcy5saW5lX3dpZHRoc1tiXS8yOmQtPXRoaXMudy8yLGEuc2V0VHJhbnNmb3JtKGMsMCwwLGMsYypkLGMqZiksYS5maWxsVGV4dCh0aGlzLnRleHRbYl0sMCwwKSxmKz10aGlzLnRleHRIZWlnaHR9LGQuRHJhd0ltYWdlPWZ1bmN0aW9uKGIsaSxrLGwpe3ZhciBlPXRoaXMueCxmPXRoaXMueSxhPXRoaXMuc2Msaj1sfHx0aGlzLmZpbWFnZSxjPXRoaXMudyxkPXRoaXMuaCxnPXRoaXMuYWxwaGEsaD10aGlzLnNoYWRvdztiLmdsb2JhbEFscGhhPWcsaCYmdGhpcy5TZXRTaGFkb3dDb2xvdXIoYixoLGcpLGUrPWkvYS1jLzIsZis9ay9hLWQvMixiLnNldFRyYW5zZm9ybShhLDAsMCxhLGEqZSxhKmYpLGIuZHJhd0ltYWdlKGosMCwwLGMsZCl9LGQuRHJhd0ltYWdlSUU9ZnVuY3Rpb24oYixkLGUpe3ZhciBjPXRoaXMuZmltYWdlLGE9dGhpcy5zYyxmPWMud2lkdGg9dGhpcy53KmEsZz1jLmhlaWdodD10aGlzLmgqYSxoPXRoaXMueCphK2QtZi8yLGk9dGhpcy55KmErZS1nLzI7Yi5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLGIuZ2xvYmFsQWxwaGE9dGhpcy5hbHBoYSxiLmRyYXdJbWFnZShjLGgsaSl9LGQuQ2FsYz1mdW5jdGlvbihnLGUpe3ZhciBhLGI9dGhpcy50YyxkPWIubWluQnJpZ2h0bmVzcyxmPWIubWF4QnJpZ2h0bmVzcyxjPWIubWF4X3JhZGl1cztyZXR1cm4gYT1nLnhmb3JtKHRoaXMucG9zaXRpb24pLHRoaXMueGZvcm1lZD1hLGE9YUkoYixhLGIuc3RyZXRjaFgsYi5zdHJldGNoWSksdGhpcy54PWEueCx0aGlzLnk9YS55LHRoaXMuej1hLnosdGhpcy5zYz1hLncsdGhpcy5hbHBoYT1lKkcoZCsoZi1kKSooYy10aGlzLnopLygyKmMpLDAsMSksdGhpcy54Zm9ybWVkfSxkLlVwZGF0ZUFjdGl2ZT1mdW5jdGlvbihoLGUsZil7dmFyIGE9dGhpcy5vdXRsaW5lLGI9dGhpcy53LGM9dGhpcy5oLGQ9dGhpcy54LWIvMixnPXRoaXMueS1jLzI7cmV0dXJuIGEuVXBkYXRlKGQsZyxiLGMsdGhpcy5zYyx0aGlzLnosZSxmKSxhfSxkLkNoZWNrQWN0aXZlPWZ1bmN0aW9uKGEsZCxlKXt2YXIgYj10aGlzLnRjLGM9dGhpcy5VcGRhdGVBY3RpdmUoYSxkLGUpO3JldHVybiBjLkFjdGl2ZShhLGIubXgsYi5teSk/YzpudWxsfSxkLkNsaWNrZWQ9ZnVuY3Rpb24oZil7dmFyIGI9dGhpcy5hLGE9Yi50YXJnZXQsZD1iLmhyZWYsZTtpZihhIT0nJyYmYSE9J19zZWxmJyl7aWYoc2VsZi5mcmFtZXNbYV0pc2VsZi5mcmFtZXNbYV0uZG9jdW1lbnQubG9jYXRpb249ZDtlbHNle3RyeXtpZih0b3AuZnJhbWVzW2FdKXt0b3AuZnJhbWVzW2FdLmRvY3VtZW50LmxvY2F0aW9uPWQ7cmV0dXJufX1jYXRjaChhKXt9d2luZG93Lm9wZW4oZCxhKX1yZXR1cm59aWYoYy5jcmVhdGVFdmVudCl7aWYoZT1jLmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpLGUuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywxLDEsd2luZG93LDAsMCwwLDAsMCwwLDAsMCwwLDAsbnVsbCksIWIuZGlzcGF0Y2hFdmVudChlKSlyZXR1cm59ZWxzZSBpZihiLmZpcmVFdmVudClpZighYi5maXJlRXZlbnQoJ29uY2xpY2snKSlyZXR1cm47Yy5sb2NhdGlvbj1kfSxkLlN0b3BBdWRpbz1mdW5jdGlvbigpe3RoaXMuYXVkaW8mJnRoaXMucGxheWluZyYmdGhpcy5hdWRpby5wYXVzZSgpLHRoaXMuc3RvcHBlZD0xLHRoaXMucGxheWluZz0wfSxkLlBsYXlBdWRpbz1mdW5jdGlvbigpe2lmKGU9PT0nb2ZmJ3x8dGhpcy50Yy5hdWRpb09mZilyZXR1cm47aWYoIWUmJiFhZygpKXJldHVybjt2YXIgYT10aGlzLnRjLmF1ZGlvLGM9dGhpcy50Yy5nYWluLGQ9J3N1c3BlbmRlZCcsYjtpZih0aGlzLmF1ZGlvKWlmKHRoaXMudHJhY2t8fCh0aGlzLnRyYWNrPWUuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRoaXMuYXVkaW8pLHRoaXMuZ2Fpbj1lLmNyZWF0ZUdhaW4oKSx0aGlzLnRyYWNrLmNvbm5lY3QodGhpcy5nYWluKSx0aGlzLmdhaW4uY29ubmVjdChlLmRlc3RpbmF0aW9uKSksYT10aGlzLmF1ZGlvLGM9dGhpcy5nYWluLCFhLnBhdXNlZClyZXR1cm4gMTtpZihhKXtpZihlLnN0YXRlPT1kJiZlLnJlc3VtZSgpLGUuc3RhdGU9PWQpcmV0dXJuO3JldHVybiBjLmdhaW4udmFsdWU9aCgyLGcoMCx0aGlzLnRjLmF1ZGlvVm9sdW1lKjEpKSxhLmN1cnJlbnRUaW1lPTAsdGhpcy5zdG9wcGVkPTAsYj1hLnBsYXkoKSxiIT09dm9pZCAwJiZiLnRoZW4oYT0+e3RoaXMuc3RvcHBlZD90aGlzLmF1ZGlvLnBhdXNlKCk6dGhpcy5wbGF5aW5nPTF9KSwxfX07ZnVuY3Rpb24gYShmLG8sayl7dmFyIGQsaSxiPWMuZ2V0RWxlbWVudEJ5SWQoZiksbD1bJ2lkJywnY2xhc3MnLCdpbm5lckhUTUwnXTtpZighYil0aHJvdyAwO2lmKG4od2luZG93Lkdfdm1sQ2FudmFzTWFuYWdlcikmJihiPXdpbmRvdy5HX3ZtbENhbnZhc01hbmFnZXIuaW5pdEVsZW1lbnQoYiksdGhpcy5pZT1wYXJzZUZsb2F0KG5hdmlnYXRvci5hcHBWZXJzaW9uLnNwbGl0KCdNU0lFJylbMV0pKSxiJiYoIWIuZ2V0Q29udGV4dHx8IWIuZ2V0Q29udGV4dCgnMmQnKS5maWxsVGV4dCkpe2k9Yy5jcmVhdGVFbGVtZW50KCdESVYnKTtmb3IoZD0wO2Q8bC5sZW5ndGg7KytkKWlbbFtkXV09YltsW2RdXTt0aHJvdyBiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksYiksYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLDB9Zm9yKGQgaW4gYS5vcHRpb25zKXRoaXNbZF09ayYmbihrW2RdKT9rW2RdOm4oYVtkXSk/YVtkXTphLm9wdGlvbnNbZF07aWYodGhpcy5jYW52YXM9Yix0aGlzLmN0eHQ9Yi5nZXRDb250ZXh0KCcyZCcpLHRoaXMuejE9MjUwL2codGhpcy5kZXB0aCwuMDAxKSx0aGlzLnoyPXRoaXMuejEvdGhpcy56b29tLHRoaXMucmFkaXVzPWgoYi5oZWlnaHQsYi53aWR0aCkqLjAwNzUsdGhpcy5tYXhfcmFkaXVzPTEwMCx0aGlzLm1heF93ZWlnaHQ9W10sdGhpcy5taW5fd2VpZ2h0PVtdLHRoaXMudGV4dEZvbnQ9dGhpcy50ZXh0Rm9udCYmUSh0aGlzLnRleHRGb250KSx0aGlzLnRleHRIZWlnaHQqPTEsdGhpcy5pbWFnZVJhZGl1cz10aGlzLmltYWdlUmFkaXVzLnRvU3RyaW5nKCksdGhpcy5wdWxzYXRlVG89Ryh0aGlzLnB1bHNhdGVUbywwLDEpLHRoaXMubWluQnJpZ2h0bmVzcz1HKHRoaXMubWluQnJpZ2h0bmVzcywwLDEpLHRoaXMubWF4QnJpZ2h0bmVzcz1HKHRoaXMubWF4QnJpZ2h0bmVzcyx0aGlzLm1pbkJyaWdodG5lc3MsMSksdGhpcy5jdHh0LnRleHRCYXNlbGluZT0ndG9wJyx0aGlzLmx4PSh0aGlzLmxvY2srJycpLmluZGV4T2YoJ3gnKSsxLHRoaXMubHk9KHRoaXMubG9jaysnJykuaW5kZXhPZigneScpKzEsdGhpcy5mcm96ZW49dGhpcy5keD10aGlzLmR5PXRoaXMuZml4ZWRBbmltPXRoaXMudG91Y2hTdGF0ZT0wLHRoaXMuZml4ZWRBbHBoYT0xLHRoaXMuc291cmNlPW98fGYsdGhpcy5yZXBlYXRUYWdzPWgoNjQsfn50aGlzLnJlcGVhdFRhZ3MpLHRoaXMubWluVGFncz1oKDIwMCx+fnRoaXMubWluVGFncyksfn50aGlzLnNjcm9sbFBhdXNlPjA/YS5zY3JvbGxQYXVzZT1+fnRoaXMuc2Nyb2xsUGF1c2U6dGhpcy5zY3JvbGxQYXVzZT0wLHRoaXMubWluVGFncz4wJiZ0aGlzLnJlcGVhdFRhZ3M8MSYmKGQ9dGhpcy5HZXRUYWdzKCkubGVuZ3RoKSYmKHRoaXMucmVwZWF0VGFncz1hZih0aGlzLm1pblRhZ3MvZCktMSksdGhpcy50cmFuc2Zvcm09bS5JZGVudGl0eSgpLHRoaXMuc3RhcnRUaW1lPXRoaXMudGltZT1xKCksdGhpcy5teD10aGlzLm15PS0xLHRoaXMuY2VudHJlSW1hZ2UmJmF2KHRoaXMpLHRoaXMuQW5pbWF0ZT10aGlzLmRyYWdDb250cm9sP3RoaXMuQW5pbWF0ZURyYWc6dGhpcy5BbmltYXRlUG9zaXRpb24sdGhpcy5hbmltVGltaW5nPXR5cGVvZiBhW3RoaXMuYW5pbVRpbWluZ109PSdmdW5jdGlvbic/YVt0aGlzLmFuaW1UaW1pbmddOmEuU21vb3RoLHRoaXMuc2hhZG93Qmx1cnx8dGhpcy5zaGFkb3dPZmZzZXRbMF18fHRoaXMuc2hhZG93T2Zmc2V0WzFdPyh0aGlzLmN0eHQuc2hhZG93Q29sb3I9dGhpcy5zaGFkb3csdGhpcy5zaGFkb3c9dGhpcy5jdHh0LnNoYWRvd0NvbG9yLHRoaXMuc2hhZG93QWxwaGE9YUQoKSk6ZGVsZXRlIHRoaXMuc2hhZG93LHRoaXMuYWN0aXZlQXVkaW89PT0hMT9lPSdvZmYnOnRoaXMuYWN0aXZlQXVkaW8mJnRoaXMuTG9hZEF1ZGlvKCksdGhpcy5Mb2FkKCksbyYmdGhpcy5oaWRlVGFncyYmZnVuY3Rpb24oYil7YS5sb2FkZWQ/Yi5IaWRlVGFncygpOnQoJ2xvYWQnLGZ1bmN0aW9uKCl7Yi5IaWRlVGFncygpfSx3aW5kb3cpfSh0aGlzKSx0aGlzLnlhdz10aGlzLmluaXRpYWw/dGhpcy5pbml0aWFsWzBdKnRoaXMubWF4U3BlZWQ6MCx0aGlzLnBpdGNoPXRoaXMuaW5pdGlhbD90aGlzLmluaXRpYWxbMV0qdGhpcy5tYXhTcGVlZDowLHRoaXMudG9vbHRpcD8odGhpcy5jdGl0bGU9Yi50aXRsZSxiLnRpdGxlPScnLHRoaXMudG9vbHRpcD09J25hdGl2ZSc/dGhpcy5Ub29sdGlwPXRoaXMuVG9vbHRpcE5hdGl2ZToodGhpcy5Ub29sdGlwPXRoaXMuVG9vbHRpcERpdix0aGlzLnR0ZGl2fHwodGhpcy50dGRpdj1jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpLHRoaXMudHRkaXYuY2xhc3NOYW1lPXRoaXMudG9vbHRpcENsYXNzLHRoaXMudHRkaXYuc3R5bGUucG9zaXRpb249J2Fic29sdXRlJyx0aGlzLnR0ZGl2LnN0eWxlLnpJbmRleD1iLnN0eWxlLnpJbmRleCsxLHQoJ21vdXNlb3ZlcicsZnVuY3Rpb24oYSl7YS50YXJnZXQuc3R5bGUuZGlzcGxheT0nbm9uZSd9LHRoaXMudHRkaXYpLGMuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnR0ZGl2KSkpKTp0aGlzLlRvb2x0aXA9dGhpcy5Ub29sdGlwTm9uZSwhdGhpcy5ub01vdXNlJiYhaltmXSl7altmXT1bWydtb3VzZW1vdmUnLGFkXSxbJ21vdXNlb3V0Jyxhbl0sWydtb3VzZXVwJyxhcV0sWyd0b3VjaHN0YXJ0Jyxhcl0sWyd0b3VjaGVuZCcsYWNdLFsndG91Y2hjYW5jZWwnLGFjXSxbJ3RvdWNobW92ZScsYXVdXSx0aGlzLmRyYWdDb250cm9sJiYoaltmXS5wdXNoKFsnbW91c2Vkb3duJyxhcF0pLGpbZl0ucHVzaChbJ3NlbGVjdHN0YXJ0Jyx4XSkpLHRoaXMud2hlZWxab29tJiYoaltmXS5wdXNoKFsnbW91c2V3aGVlbCcsYWJdKSxqW2ZdLnB1c2goWydET01Nb3VzZVNjcm9sbCcsYWJdKSksdGhpcy5zY3JvbGxQYXVzZSYmaltmXS5wdXNoKFsnc2Nyb2xsJyxhdyx3aW5kb3ddKTtmb3IoZD0wO2Q8altmXS5sZW5ndGg7KytkKWk9altmXVtkXSx0KGlbMF0saVsxXSxpWzJdP2lbMl06Yil9YS5zdGFydGVkfHwoYS5OZXh0RnJhbWU9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT9hejphQSxhLmludGVydmFsPXRoaXMuaW50ZXJ2YWwsYS5OZXh0RnJhbWUodGhpcy5pbnRlcnZhbCksYS5zdGFydGVkPTEpfWI9YS5wcm90b3R5cGUsYi5Tb3VyY2VFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiBjLnF1ZXJ5U2VsZWN0b3JBbGw/Yy5xdWVyeVNlbGVjdG9yQWxsKCcjJyt0aGlzLnNvdXJjZSk6W2MuZ2V0RWxlbWVudEJ5SWQodGhpcy5zb3VyY2UpXX0sYi5IaWRlVGFncz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuU291cmNlRWxlbWVudHMoKSxhO2ZvcihhPTA7YTxiLmxlbmd0aDsrK2EpYlthXS5zdHlsZS5kaXNwbGF5PSdub25lJ30sYi5HZXRUYWdzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5Tb3VyY2VFbGVtZW50cygpLGMsZj1bXSxhLGIsZDtmb3IoZD0wO2Q8PXRoaXMucmVwZWF0VGFnczsrK2QpZm9yKGE9MDthPGUubGVuZ3RoOysrYSl7Yz1lW2FdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7Zm9yKGI9MDtiPGMubGVuZ3RoOysrYilmLnB1c2goY1tiXSl9cmV0dXJuIGZ9LGIuTWVzc2FnZT1mdW5jdGlvbihqKXt2YXIgZz1bXSxhLGYsYj1qLnNwbGl0KCcnKSxkLGUsaCxpO2ZvcihhPTA7YTxiLmxlbmd0aDsrK2EpYlthXSE9JyAnJiYoZj1hLWIubGVuZ3RoLzIsZD1jLmNyZWF0ZUVsZW1lbnQoJ0EnKSxkLmhyZWY9JyMnLGQuaW5uZXJUZXh0PWJbYV0saD0xMDAqbyhmLzkpLGk9LTEwMCpsKGYvOSksZT1uZXcgSih0aGlzLGJbYV0sZCxbaCwwLGldLDIsMTgsJyMwMDAnLCcjZmZmJywwLDAsMCwnbW9ub3NwYWNlJywyLGJbYV0pLGUuSW5pdCgpLGcucHVzaChlKSk7cmV0dXJuIGd9LGIuQWRkQXVkaW89ZnVuY3Rpb24oYixjKXtpZihlPT09J29mZicpcmV0dXJuO3ZhciBhPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2F1ZGlvJyk7YS5sZW5ndGgmJihjLlNldEF1ZGlvKGFbMF0pLHRoaXMuaGFzQXVkaW89MSl9LGIuQ3JlYXRlVGFnPWZ1bmN0aW9uKGIpe3ZhciBlLGMsYSxmLGQsZyxoLGosaz1bMCwwLDBdLGw7aWYoJ3RleHQnIT10aGlzLmltYWdlTW9kZSlpZihlPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpLGUubGVuZ3RoKWlmKGM9bmV3IEltYWdlLGMuc3JjPWVbMF0uc3JjLCF0aGlzLmltYWdlTW9kZSlyZXR1cm4gYT1uZXcgSih0aGlzLFxcXCJcXFwiLGIsaywwLDApLGEuU2V0SW1hZ2UoYyksQShjLGVbMF0sZVsxXSxhLHRoaXMpLHRoaXMuQWRkQXVkaW8oYixhKSxhO2lmKCdpbWFnZSchPXRoaXMuaW1hZ2VNb2RlJiYoZD1uZXcgVihiKSxmPWQuTGluZXMoKSxkLkVtcHR5KCk/ZD1udWxsOihnPXRoaXMudGV4dEZvbnR8fFEoaShiLCdmb250LWZhbWlseScpKSx0aGlzLnNwbGl0V2lkdGgmJihmPWQuU3BsaXRXaWR0aCh0aGlzLnNwbGl0V2lkdGgsdGhpcy5jdHh0LGcsdGhpcy50ZXh0SGVpZ2h0KSksaD10aGlzLmJnQ29sb3VyPT0ndGFnJz9pKGIsJ2JhY2tncm91bmQtY29sb3InKTp0aGlzLmJnQ29sb3VyLGo9dGhpcy5iZ091dGxpbmU9PSd0YWcnP2koYiwnY29sb3InKTp0aGlzLmJnT3V0bGluZSkpLGR8fGMpcmV0dXJuIGE9bmV3IEoodGhpcyxmLGIsaywyLHRoaXMudGV4dEhlaWdodCsyLHRoaXMudGV4dENvbG91cnx8aShiLCdjb2xvcicpLGgsdGhpcy5iZ1JhZGl1cyxqLHRoaXMuYmdPdXRsaW5lVGhpY2tuZXNzLGcsdGhpcy5wYWRkaW5nLGQmJmQub3JpZ2luYWwpLGM/KGEuU2V0SW1hZ2UoYyksQShjLGVbMF0sZVsxXSxhLHRoaXMpKTphLkluaXQoKSx0aGlzLkFkZEF1ZGlvKGIsYSksYX0sYi5VcGRhdGVUYWc9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnRleHRDb2xvdXJ8fGkoYiwnY29sb3InKSxkPXRoaXMudGV4dEZvbnR8fFEoaShiLCdmb250LWZhbWlseScpKSxlPXRoaXMuYmdDb2xvdXI9PSd0YWcnP2koYiwnYmFja2dyb3VuZC1jb2xvcicpOnRoaXMuYmdDb2xvdXIsZj10aGlzLmJnT3V0bGluZT09J3RhZyc/aShiLCdjb2xvcicpOnRoaXMuYmdPdXRsaW5lO2EuYT1iLGEudGl0bGU9Yi50aXRsZSwoYS5jb2xvdXIhPWN8fGEudGV4dEZvbnQhPWR8fGEuYmdDb2xvdXIhPWV8fGEuYmdPdXRsaW5lIT1mKSYmYS5TZXRGb250KGQsYyxlLGYpfSxiLldlaWdodD1mdW5jdGlvbihkKXt2YXIgZj1kLmxlbmd0aCxjLGIsYSxlPVtdLGcsaD10aGlzLndlaWdodEZyb20/dGhpcy53ZWlnaHRGcm9tLnNwbGl0KC9bLCBdLyk6W251bGxdLGk9aC5sZW5ndGg7Zm9yKGI9MDtiPGY7KytiKXtlW2JdPVtdO2ZvcihhPTA7YTxpOysrYSljPWFqKGRbYl0uYSxoW2FdLHRoaXMudGV4dEhlaWdodCksKCF0aGlzLm1heF93ZWlnaHRbYV18fGM+dGhpcy5tYXhfd2VpZ2h0W2FdKSYmKHRoaXMubWF4X3dlaWdodFthXT1jKSwoIXRoaXMubWluX3dlaWdodFthXXx8Yzx0aGlzLm1pbl93ZWlnaHRbYV0pJiYodGhpcy5taW5fd2VpZ2h0W2FdPWMpLGVbYl1bYV09Y31mb3IoYT0wO2E8aTsrK2EpdGhpcy5tYXhfd2VpZ2h0W2FdPnRoaXMubWluX3dlaWdodFthXSYmKGc9MSk7aWYoZylmb3IoYj0wO2I8ZjsrK2IpZFtiXS5TZXRXZWlnaHQoZVtiXSl9LGIuTG9hZD1mdW5jdGlvbigpe3ZhciBjPXRoaXMuR2V0VGFncygpLGI9W10sZCxrLGwsaCxpLGosZixhLGU9W10sbT17c3BoZXJlOmFCLHZjeWxpbmRlcjpheCxoY3lsaW5kZXI6YUgsdnJpbmc6YUcsaHJpbmc6YUZ9O2lmKGMubGVuZ3RoKXtlLmxlbmd0aD1jLmxlbmd0aDtmb3IoYT0wO2E8Yy5sZW5ndGg7KythKWVbYV09YTt0aGlzLnNodWZmbGVUYWdzJiZhaShlKSxoPTEwMCp0aGlzLnJhZGl1c1gsaT0xMDAqdGhpcy5yYWRpdXNZLGo9MTAwKnRoaXMucmFkaXVzWix0aGlzLm1heF9yYWRpdXM9ZyhoLGcoaSxqKSk7Zm9yKGE9MDthPGMubGVuZ3RoOysrYSlrPXRoaXMuQ3JlYXRlVGFnKGNbZVthXV0pLGsmJmIucHVzaChrKTt0aGlzLndlaWdodCYmdGhpcy5XZWlnaHQoYiwhMCksdGhpcy5zaGFwZUFyZ3M/dGhpcy5zaGFwZUFyZ3NbMF09Yi5sZW5ndGg6KGw9dGhpcy5zaGFwZS50b1N0cmluZygpLnNwbGl0KC9bKCksXS8pLGQ9bC5zaGlmdCgpLHR5cGVvZiB3aW5kb3dbZF09PSdmdW5jdGlvbic/dGhpcy5zaGFwZT13aW5kb3dbZF06dGhpcy5zaGFwZT1tW2RdfHxtLnNwaGVyZSx0aGlzLnNoYXBlQXJncz1bYi5sZW5ndGgsaCxpLGpdLmNvbmNhdChsKSksZj10aGlzLnNoYXBlLmFwcGx5KHRoaXMsdGhpcy5zaGFwZUFyZ3MpLHRoaXMubGlzdExlbmd0aD1iLmxlbmd0aDtmb3IoYT0wO2E8Yi5sZW5ndGg7KythKWJbYV0ucG9zaXRpb249bmV3IHMoZlthXVswXSxmW2FdWzFdLGZbYV1bMl0pfXRoaXMubm9UYWdzTWVzc2FnZSYmIWIubGVuZ3RoJiYoYT10aGlzLmltYWdlTW9kZSYmdGhpcy5pbWFnZU1vZGUhPSdib3RoJz90aGlzLmltYWdlTW9kZSsnICc6JycsYj10aGlzLk1lc3NhZ2UoJ05vICcrYSsndGFncycpKSx0aGlzLnRhZ2xpc3Q9Yn0sYi5VcGRhdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLkdldFRhZ3MoKSxkPVtdLGo9dGhpcy50YWdsaXN0LGssZj1bXSxjPVtdLGgsaSxnLGEsYjtpZighdGhpcy5zaGFwZUFyZ3MpcmV0dXJuIHRoaXMuTG9hZCgpO2lmKGUubGVuZ3RoKXtnPXRoaXMubGlzdExlbmd0aD1lLmxlbmd0aCxpPWoubGVuZ3RoO2ZvcihhPTA7YTxpOysrYSlkLnB1c2goalthXSksYy5wdXNoKGEpO2ZvcihhPTA7YTxnOysrYSl7Zm9yKGI9MCxrPTA7YjxpOysrYilqW2JdLkVxdWFsVG8oZVthXSkmJih0aGlzLlVwZGF0ZVRhZyhkW2JdLGVbYV0pLGs9Y1tiXT0tMSk7a3x8Zi5wdXNoKGEpfWZvcihhPTAsYj0wO2E8aTsrK2EpY1tiXT09LTE/Yy5zcGxpY2UoYiwxKTorK2I7aWYoYy5sZW5ndGgpe2ZvcihhaShjKTtjLmxlbmd0aCYmZi5sZW5ndGg7KWE9Yy5zaGlmdCgpLGI9Zi5zaGlmdCgpLGRbYV09dGhpcy5DcmVhdGVUYWcoZVtiXSk7Zm9yKGMuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KTtjLmxlbmd0aDspZC5zcGxpY2UoYy5wb3AoKSwxKX1mb3IoYj1kLmxlbmd0aC8oZi5sZW5ndGgrMSksYT0wO2YubGVuZ3RoOylkLnNwbGljZShhZigrK2EqYiksMCx0aGlzLkNyZWF0ZVRhZyhlW2Yuc2hpZnQoKV0pKTt0aGlzLnNoYXBlQXJnc1swXT1nPWQubGVuZ3RoLGg9dGhpcy5zaGFwZS5hcHBseSh0aGlzLHRoaXMuc2hhcGVBcmdzKTtmb3IoYT0wO2E8ZzsrK2EpZFthXS5wb3NpdGlvbj1uZXcgcyhoW2FdWzBdLGhbYV1bMV0saFthXVsyXSk7dGhpcy53ZWlnaHQmJnRoaXMuV2VpZ2h0KGQpfXRoaXMudGFnbGlzdD1kfSxiLlNldFNoYWRvdz1mdW5jdGlvbihhKXthLnNoYWRvd0JsdXI9dGhpcy5zaGFkb3dCbHVyLGEuc2hhZG93T2Zmc2V0WD10aGlzLnNoYWRvd09mZnNldFswXSxhLnNoYWRvd09mZnNldFk9dGhpcy5zaGFkb3dPZmZzZXRbMV19LGIuTG9hZEF1ZGlvPWZ1bmN0aW9uKCl7aWYoIWUmJiFhZygpKXJldHVybjt0aGlzLmF1ZGlvPWMuY3JlYXRlRWxlbWVudCgnYXVkaW8nKSx0aGlzLmF1ZGlvLnNyYz10aGlzLmFjdGl2ZUF1ZGlvLHRoaXMudHJhY2s9ZS5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodGhpcy5hdWRpbyksdGhpcy5nYWluPWUuY3JlYXRlR2FpbigpLHRoaXMudHJhY2suY29ubmVjdCh0aGlzLmdhaW4pLHRoaXMuZ2Fpbi5jb25uZWN0KGUuZGVzdGluYXRpb24pLHRoaXMuaGFzQXVkaW89MSxQPWZ1bmN0aW9uKGEpe2UucmVzdW1lKCksYy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsUCl9LGMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFApfSxiLlNob3dBdWRpb0ljb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmF1ZGlvSWNvblNpemUsYz10aGlzLmNhbnZhcyxkPXRoaXMuY3R4dCxrPWMud2lkdGgtYS0zLGY9Yy5oZWlnaHQtYS0zLGc9dGhpcy5hdWRpb0ljb25UaGlja25lc3MsaD0nIzAwMCcsaT0nI2ZmZicsaj10aGlzLmF1ZGlvSWNvbkRhcmssYj10aGlzLmF1ZGlvT2ZmLGw9J3N1c3BlbmRlZCc7aWYoIWUpcmV0dXJuO2J8fChiPWUuc3RhdGU9PT1sKSx0aGlzLmF1ZGlvSWNvbiYmdGhpcy5oYXNBdWRpbyYmKCQoYixkLGEsayxmLGcrMSxqP2k6aCksJChiLGQsYSxrLGYsZyxqP2g6aSkpfSxiLkNoZWNrQXVkaW9JY29uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hdWRpb0ljb25TaXplLGI9dGhpcy5jYW52YXMsYz10aGlzLmF1ZGlvSWNvblRoaWNrbmVzcy8yLGQ9Yi53aWR0aC1hLTMtYyxlPWIuaGVpZ2h0LWEtMy1jO2lmKHRoaXMuYXVkaW9JY29uJiZ0aGlzLm14Pj1kJiZ0aGlzLm15Pj1lKXJldHVybiEwfSxiLlRvZ2dsZUF1ZGlvPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hdWRpb09mZnx8ZSYmZS5zdGF0ZT09PSdzdXNwZW5kZWQnO2F8fHRoaXMuY3VycmVudEF1ZGlvJiZ0aGlzLmN1cnJlbnRBdWRpby5TdG9wQXVkaW8oKSx0aGlzLmF1ZGlvT2ZmPSFhfSxiLkRyYXc9ZnVuY3Rpb24ocyl7aWYodGhpcy5wYXVzZWQpcmV0dXJuO3ZhciBsPXRoaXMuY2FudmFzLGk9bC53aWR0aCxqPWwuaGVpZ2h0LHE9MCxwPShzLXRoaXMudGltZSkqYS5pbnRlcnZhbC8xZTMsaD1pLzIrdGhpcy5vZmZzZXRYLGc9ai8yK3RoaXMub2Zmc2V0WSxkPXRoaXMuY3R4dCxiLGYsYyxvPS0xLGU9dGhpcy50YWdsaXN0LGs9ZS5sZW5ndGgsdD10aGlzLmFjdGl2ZSYmdGhpcy5hY3RpdmUudGFnLG09JycsdT10aGlzLmZyb250U2VsZWN0LHI9dGhpcy5jZW50cmVGdW5jPT14LG47aWYodGhpcy50aW1lPXMsdGhpcy5mcm96ZW4mJnRoaXMuZHJhd24pcmV0dXJuIHRoaXMuQW5pbWF0ZShpLGoscCk7bj10aGlzLkFuaW1hdGVGaXhlZCgpLGQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKTtmb3IoYz0wO2M8azsrK2MpZVtjXS5DYWxjKHRoaXMudHJhbnNmb3JtLHRoaXMuZml4ZWRBbHBoYSk7aWYoZT1hayhlLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuei1hLnp9KSxuJiZ0aGlzLmZpeGVkQW5pbS5hY3RpdmUpYj10aGlzLmZpeGVkQW5pbS50YWcuVXBkYXRlQWN0aXZlKGQsaCxnKTtlbHNlIGlmKHRoaXMuYWN0aXZlPW51bGwsdGhpcy5DaGVja0F1ZGlvSWNvbigpKW09J3BvaW50ZXInO2Vsc2V7Zm9yKGM9MDtjPGs7KytjKWY9dGhpcy5teD49MCYmdGhpcy5teT49MCYmdGhpcy50YWdsaXN0W2NdLkNoZWNrQWN0aXZlKGQsaCxnKSxmJiZmLnNjPnEmJighdXx8Zi56PD0wKSYmKGI9ZixvPWMsYi50YWc9dGhpcy50YWdsaXN0W2NdLHE9Zi5zYyk7dGhpcy5hY3RpdmU9Yn10aGlzLnR4dE9wdHx8dGhpcy5zaGFkb3cmJnRoaXMuU2V0U2hhZG93KGQpLGQuY2xlYXJSZWN0KDAsMCxpLGopO2ZvcihjPTA7YzxrOysrYyl7aWYoIXImJmVbY10uejw9MCl7dHJ5e3RoaXMuY2VudHJlRnVuYyhkLGksaixoLGcpfWNhdGNoKGEpe2FsZXJ0KGEpLHRoaXMuY2VudHJlRnVuYz14fXI9ITB9YiYmYi50YWc9PWVbY10mJmIuUHJlRHJhdyhkLGVbY10saCxnKXx8ZVtjXS5EcmF3KGQsaCxnKSxiJiZiLnRhZz09ZVtjXSYmYi5Qb3N0RHJhdyhkKX10aGlzLmZyZWV6ZUFjdGl2ZSYmYj90aGlzLkZyZWV6ZSgpOih0aGlzLlVuRnJlZXplKCksdGhpcy5kcmF3bj1rPT10aGlzLmxpc3RMZW5ndGgpLHRoaXMuZml4ZWRDYWxsYmFjayYmKHRoaXMuZml4ZWRDYWxsYmFjayh0aGlzLHRoaXMuZml4ZWRDYWxsYmFja1RhZyksdGhpcy5maXhlZENhbGxiYWNrPW51bGwpLG58fHRoaXMuQW5pbWF0ZShpLGoscCksYiYmKGIuTGFzdERyYXcoZCksYi50YWchPXQmJih0aGlzLmN1cnJlbnRBdWRpbyYmdGhpcy5jdXJyZW50QXVkaW8hPWIudGFnJiZ0aGlzLmN1cnJlbnRBdWRpby5TdG9wQXVkaW8oKSxiLnRhZy5QbGF5QXVkaW8oKSYmKHRoaXMuY3VycmVudEF1ZGlvPWIudGFnKSksbT10aGlzLmFjdGl2ZUN1cnNvciksbC5zdHlsZS5jdXJzb3I9bSx0aGlzLlRvb2x0aXAoYix0aGlzLnRhZ2xpc3Rbb10pLHRoaXMuYXVkaW9JY29uJiZ0aGlzLlNob3dBdWRpb0ljb24oKX0sYi5Ub29sdGlwTm9uZT1mdW5jdGlvbigpe30sYi5Ub29sdGlwTmF0aXZlPWZ1bmN0aW9uKGIsYSl7Yj90aGlzLmNhbnZhcy50aXRsZT1hJiZhLnRpdGxlP2EudGl0bGU6Jyc6dGhpcy5jYW52YXMudGl0bGU9dGhpcy5jdGl0bGV9LGIuU2V0VFREaXY9ZnVuY3Rpb24oYyxkKXt2YXIgYT10aGlzLGI9YS50dGRpdi5zdHlsZTtjIT1hLnR0ZGl2LmlubmVySFRNTCYmKGIuZGlzcGxheT0nbm9uZScpLGEudHRkaXYuaW5uZXJIVE1MPWMsZCYmKGQudGl0bGU9YS50dGRpdi5pbm5lckhUTUwpLGIuZGlzcGxheT09J25vbmUnJiYhYS50dHRpbWVyJiYoYS50dHRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYz1YKGEuY2FudmFzLmlkKTtiLmRpc3BsYXk9J2Jsb2NrJyxiLmxlZnQ9Yy54K2EubXgrJ3B4JyxiLnRvcD1jLnkrYS5teSsyNCsncHgnLGEudHR0aW1lcj1udWxsfSxhLnRvb2x0aXBEZWxheSkpfSxiLlRvb2x0aXBEaXY9ZnVuY3Rpb24oYixhKXtiJiZhJiZhLnRpdGxlP3RoaXMuU2V0VFREaXYoYS50aXRsZSxhKTohYiYmdGhpcy5teCE9LTEmJnRoaXMubXkhPS0xJiZ0aGlzLmN0aXRsZS5sZW5ndGg/dGhpcy5TZXRUVERpdih0aGlzLmN0aXRsZSk6dGhpcy50dGRpdi5zdHlsZS5kaXNwbGF5PSdub25lJ30sYi5UcmFuc2Zvcm09ZnVuY3Rpb24oYyxhLGIpe2lmKGF8fGIpe3ZhciBkPW8oYSksZT1sKGEpLGY9byhiKSxnPWwoYiksaD1uZXcgbShbZywwLGYsMCwxLDAsLWYsMCxnXSksaT1uZXcgbShbMSwwLDAsMCxlLC1kLDAsZCxlXSk7Yy50cmFuc2Zvcm09Yy50cmFuc2Zvcm0ubXVsKGgubXVsKGkpKX19LGIuQW5pbWF0ZUZpeGVkPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZTtyZXR1cm4hISh0aGlzLmZhZGVJbiYmKGI9cSgpLXRoaXMuc3RhcnRUaW1lLGI+PXRoaXMuZmFkZUluPyh0aGlzLmZhZGVJbj0wLHRoaXMuZml4ZWRBbHBoYT0xKTp0aGlzLmZpeGVkQWxwaGE9Yi90aGlzLmZhZGVJbiksdGhpcy5maXhlZEFuaW0pJiYodGhpcy5maXhlZEFuaW0udHJhbnNmb3JtfHwodGhpcy5maXhlZEFuaW0udHJhbnNmb3JtPXRoaXMudHJhbnNmb3JtKSxhPXRoaXMuZml4ZWRBbmltLGI9cSgpLWEudDAsYz1hLmFuZ2xlLGQsZT10aGlzLmFuaW1UaW1pbmcoYS50LGIpLHRoaXMudHJhbnNmb3JtPWEudHJhbnNmb3JtLGI+PWEudD8odGhpcy5maXhlZENhbGxiYWNrVGFnPWEudGFnLHRoaXMuZml4ZWRDYWxsYmFjaz1hLmNiLHRoaXMuZml4ZWRBbmltPXRoaXMueWF3PXRoaXMucGl0Y2g9MCk6Yyo9ZSxkPW0uUm90YXRpb24oYyxhLmF4aXMpLHRoaXMudHJhbnNmb3JtPXRoaXMudHJhbnNmb3JtLm11bChkKSx0aGlzLmZpeGVkQW5pbSE9MCl9LGIuQW5pbWF0ZVBvc2l0aW9uPWZ1bmN0aW9uKGcsaCxmKXt2YXIgYT10aGlzLGQ9YS5teCxlPWEubXksYixjOyFhLmZyb3plbiYmZD49MCYmZT49MCYmZDxnJiZlPGg/KGI9YS5tYXhTcGVlZCxjPWEucmV2ZXJzZT8tMToxLGEubHh8fChhLnlhdz0oZCoyKmIvZy1iKSpjKmYpLGEubHl8fChhLnBpdGNoPShlKjIqYi9oLWIpKi1jKmYpLGEuaW5pdGlhbD1udWxsKTphLmluaXRpYWx8fChhLmZyb3plbiYmIWEuZnJlZXplRGVjZWw/YS55YXc9YS5waXRjaD0wOmEuRGVjZWwoYSkpLHRoaXMuVHJhbnNmb3JtKGEsYS5waXRjaCxhLnlhdyl9LGIuQW5pbWF0ZURyYWc9ZnVuY3Rpb24oZCxlLGMpe3ZhciBhPXRoaXMsYj0xMDAqYyphLm1heFNwZWVkL2EubWF4X3JhZGl1cy9hLnpvb207YS5keHx8YS5keT8oYS5seHx8KGEueWF3PWEuZHgqYi9hLnN0cmV0Y2hYKSxhLmx5fHwoYS5waXRjaD1hLmR5Ki1iL2Euc3RyZXRjaFkpLGEuZHg9YS5keT0wLGEuaW5pdGlhbD1udWxsKTphLmluaXRpYWx8fGEuRGVjZWwoYSksdGhpcy5UcmFuc2Zvcm0oYSxhLnBpdGNoLGEueWF3KX0sYi5GcmVlemU9ZnVuY3Rpb24oKXt0aGlzLmZyb3plbnx8KHRoaXMucHJlRnJlZXplPVt0aGlzLnlhdyx0aGlzLnBpdGNoXSx0aGlzLmZyb3plbj0xLHRoaXMuZHJhd249MCl9LGIuVW5GcmVlemU9ZnVuY3Rpb24oKXt0aGlzLmZyb3plbiYmKHRoaXMueWF3PXRoaXMucHJlRnJlZXplWzBdLHRoaXMucGl0Y2g9dGhpcy5wcmVGcmVlemVbMV0sdGhpcy5mcm96ZW49MCl9LGIuRGVjZWw9ZnVuY3Rpb24oYSl7dmFyIGI9YS5taW5TcGVlZCxjPXAoYS55YXcpLGQ9cChhLnBpdGNoKTshYS5seCYmYz5iJiYoYS55YXc9Yz5hLnowP2EueWF3KmEuZGVjZWw6MCksIWEubHkmJmQ+YiYmKGEucGl0Y2g9ZD5hLnowP2EucGl0Y2gqYS5kZWNlbDowKX0sYi5ab29tPWZ1bmN0aW9uKGEpe3RoaXMuejI9dGhpcy56MSooMS9hKSx0aGlzLmRyYXduPTB9LGIuQ2xpY2tlZD1mdW5jdGlvbihiKXtpZih0aGlzLkNoZWNrQXVkaW9JY29uKCkpe3RoaXMuVG9nZ2xlQXVkaW8oKTtyZXR1cm59dmFyIGE9dGhpcy5hY3RpdmU7dHJ5e2EmJmEudGFnJiYodGhpcy5jbGlja1RvRnJvbnQ9PT0hMXx8dGhpcy5jbGlja1RvRnJvbnQ9PT1udWxsP2EudGFnLkNsaWNrZWQoYik6dGhpcy5UYWdUb0Zyb250KGEudGFnLHRoaXMuY2xpY2tUb0Zyb250LGZ1bmN0aW9uKCl7YS50YWcuQ2xpY2tlZChiKX0sITApKX1jYXRjaChhKXt9fSxiLldoZWVsPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuem9vbSt0aGlzLnpvb21TdGVwKihhPzE6LTEpO3RoaXMuem9vbT1oKHRoaXMuem9vbU1heCxnKHRoaXMuem9vbU1pbixiKSksdGhpcy5ab29tKHRoaXMuem9vbSl9LGIuQmVnaW5EcmFnPWZ1bmN0aW9uKGEpe3RoaXMuZG93bj1LKGEsdGhpcy5jYW52YXMpLGEuY2FuY2VsQnViYmxlPSEwLGEucmV0dXJuVmFsdWU9ITEsYS5wcmV2ZW50RGVmYXVsdCYmYS5wcmV2ZW50RGVmYXVsdCgpfSxiLkRyYWc9ZnVuY3Rpb24oZSxhKXtpZih0aGlzLmRyYWdDb250cm9sJiZ0aGlzLmRvd24pe3ZhciBkPXRoaXMuZHJhZ1RocmVzaG9sZCp0aGlzLmRyYWdUaHJlc2hvbGQsYj1hLngtdGhpcy5kb3duLngsYz1hLnktdGhpcy5kb3duLnk7KHRoaXMuZHJhZ2dpbmd8fGIqYitjKmM+ZCkmJih0aGlzLmR4PWIsdGhpcy5keT1jLHRoaXMuZHJhZ2dpbmc9MSx0aGlzLmRvd249YSl9cmV0dXJuIHRoaXMuZHJhZ2dpbmd9LGIuRW5kRHJhZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZHJhZ2dpbmc7cmV0dXJuIHRoaXMuZHJhZ2dpbmc9dGhpcy5kb3duPW51bGwsYX07ZnVuY3Rpb24gYWgoYSl7dmFyIGI9YS50YXJnZXRUb3VjaGVzWzBdLGM9YS50YXJnZXRUb3VjaGVzWzFdO3JldHVybiBFKHcoYy5wYWdlWC1iLnBhZ2VYLDIpK3coYy5wYWdlWS1iLnBhZ2VZLDIpKX1iLkJlZ2luUGluY2g9ZnVuY3Rpb24oYSl7dGhpcy5waW5jaGVkPVthaChhKSx0aGlzLnpvb21dLGEucHJldmVudERlZmF1bHQmJmEucHJldmVudERlZmF1bHQoKX0sYi5QaW5jaD1mdW5jdGlvbihkKXt2YXIgYixjLGE9dGhpcy5waW5jaGVkO2lmKCFhKXJldHVybjtjPWFoKGQpLGI9YVsxXSpjL2FbMF0sdGhpcy56b29tPWgodGhpcy56b29tTWF4LGcodGhpcy56b29tTWluLGIpKSx0aGlzLlpvb20odGhpcy56b29tKX0sYi5FbmRQaW5jaD1mdW5jdGlvbihhKXt0aGlzLnBpbmNoZWQ9bnVsbH0sYi5QYXVzZT1mdW5jdGlvbigpe3RoaXMucGF1c2VkPSEwfSxiLlJlc3VtZT1mdW5jdGlvbigpe3RoaXMucGF1c2VkPSExfSxiLlNldFNwZWVkPWZ1bmN0aW9uKGEpe3RoaXMuaW5pdGlhbD1hLHRoaXMueWF3PWFbMF0qdGhpcy5tYXhTcGVlZCx0aGlzLnBpdGNoPWFbMV0qdGhpcy5tYXhTcGVlZH0sYi5GaW5kVGFnPWZ1bmN0aW9uKGEpe2lmKCFuKGEpKXJldHVybiBudWxsO2lmKG4oYS5pbmRleCkmJihhPWEuaW5kZXgpLCFCKGEpKXJldHVybiB0aGlzLnRhZ2xpc3RbYV07dmFyIGMsZCxiO24oYS5pZCk/KGM9J2lkJyxkPWEuaWQpOm4oYS50ZXh0KSYmKGM9J2lubmVyVGV4dCcsZD1hLnRleHQpO2ZvcihiPTA7Yjx0aGlzLnRhZ2xpc3QubGVuZ3RoOysrYilpZih0aGlzLnRhZ2xpc3RbYl0uYVtjXT09ZClyZXR1cm4gdGhpcy50YWdsaXN0W2JdfSxiLlJvdGF0ZVRhZz1mdW5jdGlvbihhLGgsaSxqLGYsZyl7dmFyIGI9YS5DYWxjKHRoaXMudHJhbnNmb3JtLDEpLGM9bmV3IHMoYi54LGIueSxiLnopLGQ9YXkoaSxoKSxlPWMuYW5nbGUoZCksaz1jLmNyb3NzKGQpLnVuaXQoKTtlPT0wPyh0aGlzLmZpeGVkQ2FsbGJhY2tUYWc9YSx0aGlzLmZpeGVkQ2FsbGJhY2s9Zik6dGhpcy5maXhlZEFuaW09e2FuZ2xlOi1lLGF4aXM6ayx0OmosdDA6cSgpLGNiOmYsdGFnOmEsYWN0aXZlOmd9fSxiLlRhZ1RvRnJvbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5Sb3RhdGVUYWcoYSwwLDAsYixjLGQpfSxiLlZvbHVtZT1mdW5jdGlvbihhKXt0aGlzLmF1ZGlvVm9sdW1lPWEqMX0sYS5TdGFydD1mdW5jdGlvbihiLGMsZCl7YS5EZWxldGUoYiksYS50Y1tiXT1uZXcgYShiLGMsZCl9O2Z1bmN0aW9uIE4oYyxiKXthLnRjW2JdJiZhLnRjW2JdW2NdKCl9YS5MaW5lYXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi9hfSxhLlNtb290aD1mdW5jdGlvbihhLGIpe3JldHVybi41LWwoYipNYXRoLlBJL2EpLzJ9LGEuUGF1c2U9ZnVuY3Rpb24oYSl7TignUGF1c2UnLGEpfSxhLlJlc3VtZT1mdW5jdGlvbihhKXtOKCdSZXN1bWUnLGEpfSxhLlJlbG9hZD1mdW5jdGlvbihhKXtOKCdMb2FkJyxhKX0sYS5VcGRhdGU9ZnVuY3Rpb24oYSl7TignVXBkYXRlJyxhKX0sYS5TZXRTcGVlZD1mdW5jdGlvbihjLGIpe3JldHVybiEhKEIoYikmJmEudGNbY10mJiFpc05hTihiWzBdKSYmIWlzTmFOKGJbMV0pKSYmKGEudGNbY10uU2V0U3BlZWQoYiksITApfSxhLlRhZ1RvRnJvbnQ9ZnVuY3Rpb24oYyxiKXtyZXR1cm4hIUIoYikmJihiLmxhdD1iLmxuZz0wLGEuUm90YXRlVGFnKGMsYikpfSxhLlJvdGF0ZVRhZz1mdW5jdGlvbihjLGIpe2lmKEIoYikmJmEudGNbY10pe2lzTmFOKGIudGltZSkmJihiLnRpbWU9NTAwKTt2YXIgZD1hLnRjW2NdLkZpbmRUYWcoYik7aWYoZClyZXR1cm4gYS50Y1tjXS5Sb3RhdGVUYWcoZCxiLmxhdCxiLmxuZyxiLnRpbWUsYi5jYWxsYmFjayxiLmFjdGl2ZSksITB9cmV0dXJuITF9LGEuRGVsZXRlPWZ1bmN0aW9uKGIpe3ZhciBkLGU7aWYoaltiXSlpZihlPWMuZ2V0RWxlbWVudEJ5SWQoYiksZSlmb3IoZD0wO2Q8altiXS5sZW5ndGg7KytkKWFtKGpbYl1bZF1bMF0saltiXVtkXVsxXSxlKTtkZWxldGUgaltiXSxkZWxldGUgYS50Y1tiXX0sYS50Yz17fSxhLm9wdGlvbnM9e3oxOjJlNCx6MjoyZTQsejA6MmUtNCxmcmVlemVBY3RpdmU6ITEsZnJlZXplRGVjZWw6ITEsYWN0aXZlQ3Vyc29yOidwb2ludGVyJyxwdWxzYXRlVG86MSxwdWxzYXRlVGltZTozLHJldmVyc2U6ITEsZGVwdGg6LjUsbWF4U3BlZWQ6LjA1LG1pblNwZWVkOjAsZGVjZWw6Ljk1LGludGVydmFsOjIwLG1pbkJyaWdodG5lc3M6LjEsbWF4QnJpZ2h0bmVzczoxLG91dGxpbmVDb2xvdXI6JyNmZmZmOTknLG91dGxpbmVUaGlja25lc3M6MixvdXRsaW5lT2Zmc2V0OjUsb3V0bGluZU1ldGhvZDonb3V0bGluZScsb3V0bGluZVJhZGl1czowLHRleHRDb2xvdXI6JyNmZjk5ZmYnLHRleHRIZWlnaHQ6MTUsdGV4dEZvbnQ6J0hlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYnLHNoYWRvdzonIzAwMCcsc2hhZG93Qmx1cjowLHNoYWRvd09mZnNldDpbMCwwXSxpbml0aWFsOm51bGwsaGlkZVRhZ3M6ITAsem9vbToxLHdlaWdodDohMSx3ZWlnaHRNb2RlOidzaXplJyx3ZWlnaHRGcm9tOm51bGwsd2VpZ2h0U2l6ZToxLHdlaWdodFNpemVNaW46bnVsbCx3ZWlnaHRTaXplTWF4Om51bGwsd2VpZ2h0R3JhZGllbnQ6ezA6JyNmMDAnLDAuMzM6JyNmZjAnLDAuNjY6JyMwZjAnLDE6JyMwMGYnfSx0eHRPcHQ6ITAsdHh0U2NhbGU6Mixmcm9udFNlbGVjdDohMSx3aGVlbFpvb206ITAsem9vbU1pbjouMyx6b29tTWF4OjMsem9vbVN0ZXA6LjA1LHNoYXBlOidzcGhlcmUnLGxvY2s6bnVsbCx0b29sdGlwOm51bGwsdG9vbHRpcERlbGF5OjMwMCx0b29sdGlwQ2xhc3M6J3RjdG9vbHRpcCcscmFkaXVzWDoxLHJhZGl1c1k6MSxyYWRpdXNaOjEsc3RyZXRjaFg6MSxzdHJldGNoWToxLG9mZnNldFg6MCxvZmZzZXRZOjAsc2h1ZmZsZVRhZ3M6ITEsbm9TZWxlY3Q6ITEsbm9Nb3VzZTohMSxpbWFnZVNjYWxlOjEscGF1c2VkOiExLGRyYWdDb250cm9sOiExLGRyYWdUaHJlc2hvbGQ6NCxjZW50cmVGdW5jOngsc3BsaXRXaWR0aDowLGFuaW1UaW1pbmc6J1Ntb290aCcsY2xpY2tUb0Zyb250OiExLGZhZGVJbjowLHBhZGRpbmc6MCxiZ0NvbG91cjpudWxsLGJnUmFkaXVzOjAsYmdPdXRsaW5lOm51bGwsYmdPdXRsaW5lVGhpY2tuZXNzOjAsb3V0bGluZUluY3JlYXNlOjQsdGV4dEFsaWduOidjZW50cmUnLHRleHRWQWxpZ246J21pZGRsZScsaW1hZ2VNb2RlOm51bGwsaW1hZ2VQb3NpdGlvbjpudWxsLGltYWdlUGFkZGluZzoyLGltYWdlQWxpZ246J2NlbnRyZScsaW1hZ2VWQWxpZ246J21pZGRsZScsbm9UYWdzTWVzc2FnZTohMCxjZW50cmVJbWFnZTpudWxsLHBpbmNoWm9vbTohMSxyZXBlYXRUYWdzOjAsbWluVGFnczowLGltYWdlUmFkaXVzOjAsc2Nyb2xsUGF1c2U6ITEsb3V0bGluZURhc2g6MCxvdXRsaW5lRGFzaFNwYWNlOjAsb3V0bGluZURhc2hTcGVlZDoxLGFjdGl2ZUF1ZGlvOicnLGF1ZGlvVm9sdW1lOjEsYXVkaW9JY29uOjEsYXVkaW9JY29uU2l6ZToyMCxhdWRpb0ljb25UaGlja25lc3M6MixhdWRpb0ljb25EYXJrOjAsYWx0SW1hZ2U6MH07Zm9yKHIgaW4gYS5vcHRpb25zKWFbcl09YS5vcHRpb25zW3JdO3dpbmRvdy5UYWdDYW52YXM9YSx0KCdsb2FkJyxmdW5jdGlvbigpe2EubG9hZGVkPTF9LHdpbmRvdyl9KSgpXCI7XG5cbnZhciBzID0gZnVuY3Rpb24gcygpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XG59O1xuXG52YXIgZ3VpZCA9IGZ1bmN0aW9uIGd1aWQoKSB7XG4gIHJldHVybiBcIlwiICsgcygpICsgcygpICsgXCItXCIgKyBzKCkgKyBcIi1cIiArIHMoKSArIFwiLVwiICsgcygpICsgXCItXCIgKyBzKCkgKyBzKCkgKyBzKCk7XG59O1xuXG52YXIgVXNlSW5WaWV3cG9ydCA9IGZ1bmN0aW9uIFVzZUluVmlld3BvcnQoX3JlZikge1xuICB2YXIgY2IgPSBfcmVmLmNiLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICB2YXIgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbnRlcnNlY3Rpb25PYnNlcnZlci9JbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgcm9vdDogbnVsbCxcbiAgICAgIHJvb3RNYXJnaW46ICcwcHgnLFxuICAgICAgdGhyZXNob2xkOiAwLjFcbiAgICB9O1xuXG4gICAgdmFyIHdyYXBwZWRDYiA9IGZ1bmN0aW9uIHdyYXBwZWRDYihlbnRyaWVzKSB7XG4gICAgICBjYihlbnRyaWVzLnNvbWUoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuaXNJbnRlcnNlY3Rpbmc7XG4gICAgICB9KSk7XG4gICAgfTtcblxuICAgIHZhciBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih3cmFwcGVkQ2IsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHJlZiAhPSBudWxsICYmIHJlZi5jdXJyZW50KSB7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtjYl0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgcmVmOiByZWZcbiAgfSwgY2hpbGRyZW4pO1xufTtcblxudmFyIGlzU2NyaXB0TG9hZGVkID0gZmFsc2U7XG5cbnZhciB0ciA9IGZ1bmN0aW9uIHRyKGZuKSB7XG4gIHRyeSB7XG4gICAgZm4oKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRyeSB7XG4gICAgICBmbigpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbn07XG5cbnZhciBDbG91ZFdyYXBwZWQgPSBmdW5jdGlvbiBDbG91ZFdyYXBwZWQoX3JlZikge1xuICB2YXIgX3JlZiRvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgb3B0aW9ucyA9IF9yZWYkb3B0aW9ucyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJG9wdGlvbnMsXG4gICAgICBfcmVmJGNvbnRhaW5lclByb3BzID0gX3JlZi5jb250YWluZXJQcm9wcyxcbiAgICAgIGNvbnRhaW5lclByb3BzID0gX3JlZiRjb250YWluZXJQcm9wcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGNvbnRhaW5lclByb3BzLFxuICAgICAgX3JlZiRjYW52YXNQcm9wcyA9IF9yZWYuY2FudmFzUHJvcHMsXG4gICAgICBjYW52YXNQcm9wcyA9IF9yZWYkY2FudmFzUHJvcHMgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRjYW52YXNQcm9wcyxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIF9yZWYkaWQgPSBfcmVmLmlkLFxuICAgICAgaWQgPSBfcmVmJGlkID09PSB2b2lkIDAgPyBndWlkKCkgOiBfcmVmJGlkO1xuICB2YXIgc3RhdGUgPSBSZWFjdC51c2VSZWYoe1xuICAgIGNhbnZhc0NvbnRhaW5lcklkOiAnY2FudmFzLWNvbnRhaW5lci0nICsgaWQsXG4gICAgY2FudmFzSWQ6ICdjYW52YXMtJyArIGlkLFxuICAgIGhhc1N0YXJ0ZWQ6IGZhbHNlXG4gIH0pLmN1cnJlbnQ7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIG1vdW50ZWQgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXRNb3VudGVkID0gX1JlYWN0JHVzZVN0YXRlWzFdO1xuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0TW91bnRlZCh0cnVlKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZhbChcIlRhZ0NhbnZhcy5EZWxldGUoJ1wiICsgc3RhdGUuY2FudmFzSWQgKyBcIicpXCIpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSwgW10pO1xuICB2YXIgc3VwcG9ydHNUb3VjaCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA6IGZhbHNlO1xuICB2YXIgb3BzID0gSlNPTi5zdHJpbmdpZnkoX2V4dGVuZHMoe1xuICAgIGRyYWdDb250cm9sOiBzdXBwb3J0c1RvdWNoID8gdHJ1ZSA6IGZhbHNlLFxuICAgIG1heFNwZWVkOiBzdXBwb3J0c1RvdWNoID8gMC4wMSA6IDAuMDUsXG4gICAgdGV4dEZvbnQ6IG51bGwsXG4gICAgdGV4dENvbG91cjogbnVsbFxuICB9LCBvcHRpb25zKSk7IC8vIGl0IHdpbGwgbm90IGxvYWQgY2FudmFzIGFuaW1hdGlvbnMgd2hlbiBpdHMgb3V0c2lkZSB0aGUgdmlld3BvcnRcblxuICB2YXIgb25WaXNpYmlsaXR5Q2hhbmdlID0gZnVuY3Rpb24gb25WaXNpYmlsaXR5Q2hhbmdlKGlzVmlzaWJsZSkge1xuICAgIHJldHVybiB0cihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNWaXNpYmxlICYmIG1vdW50ZWQpIHtcbiAgICAgICAgaWYgKCFpc1NjcmlwdExvYWRlZCkge1xuICAgICAgICAgIGV2YWwodGFnQ2FudmFzU3RyaW5nKTtcbiAgICAgICAgICBpc1NjcmlwdExvYWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUuaGFzU3RhcnRlZCkge1xuICAgICAgICAgIGV2YWwoXCJUYWdDYW52YXMuUmVzdW1lKCdcIiArIHN0YXRlLmNhbnZhc0lkICsgXCInKVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXZhbChcIlRhZ0NhbnZhcy5TdGFydCgnXCIgKyBzdGF0ZS5jYW52YXNJZCArIFwiJywgbnVsbCwgXCIgKyBvcHMgKyBcIilcIik7XG4gICAgICAgICAgICBzdGF0ZS5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGF0ZS5jYW52YXNDb250YWluZXJJZCk7XG5cbiAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN0YXRlLmhhc1N0YXJ0ZWQpIHtcbiAgICAgICAgICBldmFsKFwiVGFnQ2FudmFzLlBhdXNlKCdcIiArIHN0YXRlLmNhbnZhc0lkICsgXCInKVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFVzZUluVmlld3BvcnQsIHtcbiAgICBjYjogb25WaXNpYmlsaXR5Q2hhbmdlXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgaWQ6IHN0YXRlLmNhbnZhc0NvbnRhaW5lcklkXG4gIH0sIGNvbnRhaW5lclByb3BzKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICBpZDogc3RhdGUuY2FudmFzSWQsXG4gICAgc3R5bGU6IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBtYXhXaWR0aDogJzcwdmgnXG4gICAgfSxcbiAgICB3aWR0aDogMTAwMCxcbiAgICBoZWlnaHQ6IDEwMDBcbiAgfSwgY2FudmFzUHJvcHMpLCBjaGlsZHJlbikpKTtcbn07XG5cbnZhciBDbG91ZCA9IGZ1bmN0aW9uIENsb3VkKHByb3BzKSB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENsb3VkV3JhcHBlZCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBrZXk6IGd1aWQoKVxuICB9KSk7XG59O1xuXG52YXIgYWRkSGFzaCA9IGZ1bmN0aW9uIGFkZEhhc2goY29sb3IpIHtcbiAgcmV0dXJuIGNvbG9yWzBdID09PSAnIycgPyBjb2xvciA6IFwiI1wiICsgY29sb3I7XG59O1xuXG4vKipcclxuICogVXNlZCB0byBjcmVhdGUgYSB0YWcgZm9yIHRoZSBDbG91ZCBjb21wb25lbnRcclxuICogQHBhcmFtIG9wdGlvbnMuYVByb3BzIEF0dHJpYnV0ZXMgcGFzc2VkIHRvIHRoZSB1bmRlcmx5aW5nIGFuY2hvciBlbGVtZW50XHJcbiAqIEBwYXJhbSBvcHRpb25zLmJnSGV4IFRoZSBzdHJpbmcgaGV4IG9mIHRoZSBiYWNrZ3JvdW5kIHRoZSBpY29uIHdpbGwgYmUgcmVuZGVyZWQgb24uIEV4OiAnI2ZmZicuIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSBtaW4gY29udHJhc3QgcmF0aW8gZm9yIHRoZSBpY29ucyBkZWZhdWx0IGNvbG9yIHdpbGwgYmUgbWV0XHJcbiAqIEBwYXJhbSBvcHRpb25zLmZhbGxiYWNrSGV4IFRoZSBjb2xvciBvZiB0aGUgaWNvbiBpZiB0aGUgbWluQ29udHJhc3RSYXRpbyBpcyBub3QgbWV0IEV4OiAnIzAwMCdcclxuICogQHBhcmFtIG9wdGlvbnMuaWNvbiBUaGUgc2ltcGxlIGljb24gb2JqZWN0IHlvdSB3b3VsZCBsaWtlIHRvIHJlbmRlci4gRXg6IGltcG9ydCBpY29uIGZyb20gXCJzaW1wbGUtaWNvbnMvaWNvbnMvamF2YXNjcmlwdFwiO1xyXG4gKiBAcGFyYW0gb3B0aW9ucy5pbWdQcm9wcyBBdHRyaWJ1dGVzIHBhc3NlcyB0byB0aGUgdW5kZXJseWluZyBpbWcgZWxlbWVudFxyXG4gKiBAcGFyYW0gb3B0aW9ucy5taW5Db250cmFzdFJhdGlvIDAgLSAyMSBUaGUgbWluIGNvbnRyYXN0IHJhdGlvIGJldHdlZW4gaWNvbiBhbmQgYmdIZXggYmVmb3JlIHRoZSBmYWxsYmFja0hleCB3aWxsIGJlIHVzZWQgZm9yIHRoZSBpY29uIGNvbG9yXHJcbiAqIEBwYXJhbSBvcHRpb25zLnNpemUgVGhlIHNpemUgaW4gcHggb2YgdGhlIGljb25cclxuICogQHJldHVybnMgQSBjb21wb25lbnQgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYXMgYSB0YWcgaW5zaWRlIHRoZSBDbG91ZCBjb21wb25lbnRcclxuICovXG5cbnZhciByZW5kZXJTaW1wbGVJY29uID0gZnVuY3Rpb24gcmVuZGVyU2ltcGxlSWNvbihfcmVmKSB7XG4gIHZhciBfcmVmJGFQcm9wcyA9IF9yZWYuYVByb3BzLFxuICAgICAgYVByb3BzID0gX3JlZiRhUHJvcHMgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRhUHJvcHMsXG4gICAgICBfcmVmJGJnSGV4ID0gX3JlZi5iZ0hleCxcbiAgICAgIGJnSGV4ID0gX3JlZiRiZ0hleCA9PT0gdm9pZCAwID8gJyNmZmYnIDogX3JlZiRiZ0hleCxcbiAgICAgIF9yZWYkZmFsbGJhY2tIZXggPSBfcmVmLmZhbGxiYWNrSGV4LFxuICAgICAgZmFsbGJhY2tIZXggPSBfcmVmJGZhbGxiYWNrSGV4ID09PSB2b2lkIDAgPyAnIzAwMCcgOiBfcmVmJGZhbGxiYWNrSGV4LFxuICAgICAgaWNvbiA9IF9yZWYuaWNvbixcbiAgICAgIF9yZWYkaW1nUHJvcHMgPSBfcmVmLmltZ1Byb3BzLFxuICAgICAgaW1nUHJvcHMgPSBfcmVmJGltZ1Byb3BzID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkaW1nUHJvcHMsXG4gICAgICBfcmVmJG1pbkNvbnRyYXN0UmF0aW8gPSBfcmVmLm1pbkNvbnRyYXN0UmF0aW8sXG4gICAgICBtaW5Db250cmFzdFJhdGlvID0gX3JlZiRtaW5Db250cmFzdFJhdGlvID09PSB2b2lkIDAgPyAxIDogX3JlZiRtaW5Db250cmFzdFJhdGlvLFxuICAgICAgX3JlZiRzaXplID0gX3JlZi5zaXplLFxuICAgICAgc2l6ZSA9IF9yZWYkc2l6ZSA9PT0gdm9pZCAwID8gNDIgOiBfcmVmJHNpemU7XG4gIHZhciBvcmlnaW5hbEhleCA9IGFkZEhhc2goaWNvbi5oZXgpO1xuICB2YXIgYmdIZXhIYXNoID0gYWRkSGFzaChiZ0hleCk7XG4gIHZhciBmYWxsYmFja0hleEhhc2ggPSBhZGRIYXNoKGZhbGxiYWNrSGV4KTtcbiAgdmFyIGlzQWNjZXNzaWJsZUNvbG9yID0gaGV4MmNvbnRyYXN0KGJnSGV4SGFzaCwgb3JpZ2luYWxIZXgpID4gbWluQ29udHJhc3RSYXRpbztcbiAgdmFyIHJnYiA9IGlzQWNjZXNzaWJsZUNvbG9yID8gaGV4MnJnYihvcmlnaW5hbEhleCkgOiBoZXgycmdiKGZhbGxiYWNrSGV4SGFzaCk7XG5cbiAgdmFyIF9yZ2IkbWFwID0gcmdiLm1hcChmdW5jdGlvbiAocGVyY2VudCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHBlcmNlbnQgLyAxMDAgKiAyNTUpO1xuICB9KSxcbiAgICAgIHIgPSBfcmdiJG1hcFswXSxcbiAgICAgIGcgPSBfcmdiJG1hcFsxXSxcbiAgICAgIGIgPSBfcmdiJG1hcFsyXTtcblxuICB2YXIgaW1nU3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCw8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgc3R5bGU9XFxcImZpbGw6IHJnYihcIiArIHIgKyBcIiwgXCIgKyBnICsgXCIsIFwiICsgYiArIFwiKTtcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgaGVpZ2h0PVxcXCJcIiArIHNpemUgKyBcInB4XFxcIiB3aWR0aD1cXFwiXCIgKyBzaXplICsgXCJweFxcXCI+IDx0aXRsZT5cIiArIGljb24udGl0bGUgKyBcIjwvdGl0bGU+IDxwYXRoIGQ9XFxcIlwiICsgaWNvbi5wYXRoICsgXCJcXFwiPjwvcGF0aD4gPC9zdmc+XCI7XG5cbiAgdmFyIGEgPSBfZXh0ZW5kcyh7XG4gICAga2V5OiBndWlkKCksXG4gICAgdGl0bGU6IGljb24udGl0bGUsXG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgfVxuICB9LCBhUHJvcHMpO1xuXG4gIHZhciBpID0gX2V4dGVuZHMoe1xuICAgIGhlaWdodDogc2l6ZSxcbiAgICB3aWR0aDogc2l6ZSxcbiAgICBhbHQ6IGljb24udGl0bGUsXG4gICAgc3JjOiBpbWdTcmNcbiAgfSwgaW1nUHJvcHMpO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCBPYmplY3QuYXNzaWduKHt9LCBhKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCBPYmplY3QuYXNzaWduKHt9LCBpKSkpO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciBydW50aW1lXzEgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkJDE7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBkZWZpbmUoR3AsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgKTtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkJDEpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQkMTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgZGVmaW5lKEdwLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9KTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZCQxO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCQxLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZCQxO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkJDE7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQkMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZCQxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gICBtb2R1bGUuZXhwb3J0cyBcbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgaW4gbW9kZXJuIGVuZ2luZXNcbiAgLy8gd2UgY2FuIGV4cGxpY2l0bHkgYWNjZXNzIGdsb2JhbFRoaXMuIEluIG9sZGVyIGVuZ2luZXMgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSBcIm9iamVjdFwiKSB7XG4gICAgZ2xvYmFsVGhpcy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xuICB9IGVsc2Uge1xuICAgIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG4gIH1cbn1cbn0pO1xuXG52YXIgc3ZnVG9QYXRoID0gZnVuY3Rpb24gc3ZnVG9QYXRoKHN2Zykge1xuICB2YXIgcDAgPSBzdmcuaW5kZXhPZignZD1cIicpO1xuICB2YXIgcDEgPSBzdmcuaW5kZXhPZignXCInLCBwMCArIDMpO1xuICByZXR1cm4gc3ZnLnN1YnN0cmluZyhwMCArIDMsIHAxKTtcbn07XG5cbnZhciB1cmwgPSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9zaW1wbGUtaWNvbnNAbGF0ZXN0L2ljb25zLyc7XG52YXIgY2FjaGUgPSB7fTtcbnZhciBmYWxsYmFjayA9ICcnO1xuXG52YXIgZ2V0U2x1Z1BhdGggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZiA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoc2x1Zykge1xuICAgIHZhciB1cmxTbHVnLCByZXMsIHRleHQsIHBhdGg7XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKGNhY2hlW3NsdWddKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxO1xuICAgICAgICAgICAgdXJsU2x1ZyA9IFwiXCIgKyB1cmwgKyBzbHVnICsgXCIuc3ZnXCI7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTtcbiAgICAgICAgICAgIHJldHVybiBmZXRjaCh1cmxTbHVnLCB7XG4gICAgICAgICAgICAgIGNhY2hlOiAnZm9yY2UtY2FjaGUnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODtcbiAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpO1xuXG4gICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgdGV4dCA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICBwYXRoID0gc3ZnVG9QYXRoKHRleHQpO1xuICAgICAgICAgICAgY2FjaGVbc2x1Z10gPSBwYXRoO1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1O1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEzO1xuICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDEpO1xuXG4gICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgIGlmICghY2FjaGVbc2x1Z10pIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjYWNoZVtzbHVnXSk7XG5cbiAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBmYWxsYmFjayk7XG5cbiAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDEzXV0pO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdldFNsdWdQYXRoKF94KSB7XG4gICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcblxudmFyIGdldFNsdWdzUGF0aCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmMiA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3J1bnRpbWVfMS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHNsdWdzKSB7XG4gICAgdmFyIG1hcDtcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgbWFwID0ge307XG4gICAgICAgICAgICBzbHVncy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgIG1hcFtzXSA9IHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhtYXApLm1hcChnZXRTbHVnUGF0aCkpO1xuXG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgc2x1Z3MubWFwKGZ1bmN0aW9uIChzbHVnKSB7XG4gICAgICAgICAgICAgIHZhciBfY2FjaGUkc2x1ZztcblxuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNsdWc6IHNsdWcsXG4gICAgICAgICAgICAgICAgcGF0aDogKF9jYWNoZSRzbHVnID0gY2FjaGVbc2x1Z10pICE9IG51bGwgPyBfY2FjaGUkc2x1ZyA6IGZhbGxiYWNrXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMik7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZ2V0U2x1Z3NQYXRoKF94Mikge1xuICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2ltcGxlLWljb25zL3NpbXBsZS1pY29ucy9ibG9iL2RldmVsb3Avc2NyaXB0cy91dGlscy5qc1xudmFyIFRJVExFX1RPX1NMVUdfUkVQTEFDRU1FTlRTID0ge1xuICAnKyc6ICdwbHVzJyxcbiAgJy4nOiAnZG90JyxcbiAgJyYnOiAnYW5kJyxcbiAgxJE6ICdkJyxcbiAgxKc6ICdoJyxcbiAgxLE6ICdpJyxcbiAgxLg6ICdrJyxcbiAgxYA6ICdsJyxcbiAgxYI6ICdsJyxcbiAgw586ICdzcycsXG4gIMWnOiAndCdcbn07XG52YXIgVElUTEVfVE9fU0xVR19DSEFSU19SRUdFWCA9IC8qI19fUFVSRV9fKi9SZWdFeHAoXCJbXCIgKyAvKiNfX1BVUkVfXyovT2JqZWN0LmtleXMoVElUTEVfVE9fU0xVR19SRVBMQUNFTUVOVFMpLmpvaW4oJycpICsgXCJdXCIsICdnJyk7XG52YXIgVElUTEVfVE9fU0xVR19SQU5HRV9SRUdFWCA9IC9bXmEtejAtOV0vZztcbnZhciBnZXRTbHVnID0gZnVuY3Rpb24gZ2V0U2x1ZyhfcmVmKSB7XG4gIHZhciB0aXRsZSA9IF9yZWYudGl0bGU7XG4gIHJldHVybiB0aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoVElUTEVfVE9fU0xVR19DSEFSU19SRUdFWCwgZnVuY3Rpb24gKF9jaGFyKSB7XG4gICAgcmV0dXJuIFRJVExFX1RPX1NMVUdfUkVQTEFDRU1FTlRTW19jaGFyXTtcbiAgfSkubm9ybWFsaXplKCdORkQnKS5yZXBsYWNlKFRJVExFX1RPX1NMVUdfUkFOR0VfUkVHRVgsICcnKTtcbn07XG5cbnZhciB1cmwkMSA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc2ltcGxlLWljb25zL3NpbXBsZS1pY29ucy9kZXZlbG9wL19kYXRhL3NpbXBsZS1pY29ucy5qc29uJztcbnZhciBjYWNoZSQxO1xudmFyIGZhbGxiYWNrJDEgPSAnIzAwMCc7XG5cbnZhciBwcmltZUNhY2hlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9ydW50aW1lXzEubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgIHZhciByZXMsIGpzb247XG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKGNhY2hlJDEpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcbiAgICAgICAgICAgIHJldHVybiBmZXRjaCh1cmwkMSwge1xuICAgICAgICAgICAgICBjYWNoZTogJ2ZvcmNlLWNhY2hlJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcblxuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIGpzb24gPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgY2FjaGUkMSA9IHt9O1xuICAgICAgICAgICAganNvbi5pY29ucy5mb3JFYWNoKGZ1bmN0aW9uIChpY29uKSB7XG4gICAgICAgICAgICAgIHZhciBfaWNvbiRoZXg7XG5cbiAgICAgICAgICAgICAgdmFyIGljb25TbHVnID0gZ2V0U2x1Zyh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGljb24udGl0bGVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNhY2hlJDFbaWNvblNsdWddID0ge1xuICAgICAgICAgICAgICAgIGhleDogYWRkSGFzaCgoX2ljb24kaGV4ID0gaWNvbi5oZXgpICE9IG51bGwgPyBfaWNvbiRoZXggOiBmYWxsYmFjayQxKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogaWNvbi50aXRsZSxcbiAgICAgICAgICAgICAgICBzbHVnOiBpY29uU2x1Z1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7XG4gICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMSk7XG5cbiAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDEyXV0pO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHByaW1lQ2FjaGUoKSB7XG4gICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcblxudmFyIGdldFNsdWdIZXhzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYyID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoc2x1Z3MpIHtcbiAgICByZXR1cm4gcnVudGltZV8xLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyO1xuICAgICAgICAgICAgcmV0dXJuIHByaW1lQ2FjaGUoKTtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHtcbiAgICAgICAgICAgICAgaGV4czogc2x1Z3MubWFwKGZ1bmN0aW9uIChzbHVnKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZSRzbHVnJGhleCwgX2NhY2hlJHNsdWcsIF9jYWNoZSRzbHVnJHRpdGxlLCBfY2FjaGUkc2x1ZzI7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgc2x1Zzogc2x1ZyxcbiAgICAgICAgICAgICAgICAgIGhleDogY2FjaGUkMSA/IChfY2FjaGUkc2x1ZyRoZXggPSAoX2NhY2hlJHNsdWcgPSBjYWNoZSQxW3NsdWddKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlJHNsdWcuaGV4KSAhPSBudWxsID8gX2NhY2hlJHNsdWckaGV4IDogZmFsbGJhY2skMSA6IGZhbGxiYWNrJDEsXG4gICAgICAgICAgICAgICAgICB0aXRsZTogY2FjaGUkMSA/IChfY2FjaGUkc2x1ZyR0aXRsZSA9IChfY2FjaGUkc2x1ZzIgPSBjYWNoZSQxW3NsdWddKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlJHNsdWcyLnRpdGxlKSAhPSBudWxsID8gX2NhY2hlJHNsdWckdGl0bGUgOiAnaWNvbicgOiAnaWNvbidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgY2FjaGU6IGNhY2hlJDFcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTIpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdldFNsdWdIZXhzKF94KSB7XG4gICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCk7XG5cbnZhciBmZXRjaFNpbXBsZUljb25zID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYyID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcnVudGltZV8xLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmKSB7XG4gICAgdmFyIHNsdWdzLCBfeWllbGQkUHJvbWlzZSRhbGwsIHBhdGhzLCBfeWllbGQkUHJvbWlzZSRhbGwkLCBoZXhzLCBjYWNoZSwgbWFwO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWVfMS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgc2x1Z3MgPSBfcmVmLnNsdWdzO1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2dldFNsdWdzUGF0aChzbHVncyksIGdldFNsdWdIZXhzKHNsdWdzKV0pO1xuXG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgX3lpZWxkJFByb21pc2UkYWxsID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgIHBhdGhzID0gX3lpZWxkJFByb21pc2UkYWxsWzBdO1xuICAgICAgICAgICAgX3lpZWxkJFByb21pc2UkYWxsJCA9IF95aWVsZCRQcm9taXNlJGFsbFsxXTtcbiAgICAgICAgICAgIGhleHMgPSBfeWllbGQkUHJvbWlzZSRhbGwkLmhleHM7XG4gICAgICAgICAgICBjYWNoZSA9IF95aWVsZCRQcm9taXNlJGFsbCQuY2FjaGU7XG4gICAgICAgICAgICBtYXAgPSB7fTtcbiAgICAgICAgICAgIGhleHMuZm9yRWFjaChmdW5jdGlvbiAoaGV4KSB7XG4gICAgICAgICAgICAgIG1hcFtoZXguc2x1Z10gPSBoZXg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBhdGhzLmZvckVhY2goZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgICAgICAgbWFwW3BhdGguc2x1Z10ucGF0aCA9IHBhdGgucGF0aDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2x1Z3MuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICB2YXIgbyA9IG1hcFtzXTtcblxuICAgICAgICAgICAgICBpZiAoIW8uaGV4IHx8ICFvLnBhdGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIidyZWFjdC1pY29uLWNsb3VkL2ZldGNoU2ltcGxlSWNvbnMnOiB0aGUgcmVzcG9uc2Ugb2YgXCIgKyBvLnNsdWcgKyBcIiB3YXMgbWFsZm9ybWVkIGFuZCBpdCB3aWxsIGJlIGlnbm9yZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBtYXBbc107XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCB7XG4gICAgICAgICAgICAgIHNpbXBsZUljb25zOiBtYXAsXG4gICAgICAgICAgICAgIGFsbEljb246IGNhY2hlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGZldGNoU2ltcGxlSWNvbnMoX3gpIHtcbiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKTtcblxuZXhwb3J0IHsgQ2xvdWQsIGZldGNoU2ltcGxlSWNvbnMsIGdldFNsdWcsIHJlbmRlclNpbXBsZUljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LWljb24tY2xvdWQuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-icon-cloud@4.1.4_react@18.3.1/node_modules/react-icon-cloud/dist/react-icon-cloud.esm.js\n");

/***/ })

};
;